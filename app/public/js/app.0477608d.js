(function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/public/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01e4":function(e,t,r){},"034f":function(e,t,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"0367":function(e,t,r){},"048a":function(e,t,r){"use strict";var a=r("ea20"),n=r.n(a);n.a},"056f":function(e,t,r){},"07ec":function(e,t,r){"use strict";var a=r("968c"),n=r.n(a);n.a},"09a8":function(e,t,r){},"0b30":function(e,t,r){},"0b82":function(e,t,r){"use strict";var a=r("b57c"),n=r.n(a);n.a},"11cd":function(e,t,r){"use strict";var a=r("0b30"),n=r.n(a);n.a},"123e":function(e,t,r){"use strict";var a=r("7eea"),n=r.n(a);n.a},"12bb":function(e,t,r){"use strict";var a=r("ebc1"),n=r.n(a);n.a},"13ae":function(e,t,r){},"153f":function(e,t,r){},1574:function(e,t,r){"use strict";var a=r("9554"),n=r.n(a);n.a},"176e":function(e,t,r){"use strict";var a=r("64ee"),n=r.n(a);n.a},1923:function(e,t,r){"use strict";var a=r("d9c6"),n=r.n(a);n.a},"1a0c":function(e,t,r){},"1ba1":function(e,t,r){},"1ccf":function(e,t,r){},"1dda":function(e,t,r){},"1e10":function(e,t,r){},"1e35":function(e,t,r){},"1ecf":function(e,t,r){"use strict";var a=r("de46"),n=r.n(a);n.a},"204b":function(e,t,r){"use strict";var a=r("a61e"),n=r.n(a);n.a},2082:function(e,t,r){},"227c":function(e,t,r){},"25a9":function(e,t,r){},"26db":function(e,t,r){"use strict";var a=r("a0ae"),n=r.n(a);n.a},2738:function(e,t,r){"use strict";var a=r("7d2d"),n=r.n(a);n.a},"2ac1":function(e,t,r){"use strict";var a=r("bf21"),n=r.n(a);n.a},"2cfc":function(e,t,r){"use strict";var a=r("9da7"),n=r.n(a);n.a},"2dc3":function(e,t,r){"use strict";var a=r("507b"),n=r.n(a);n.a},"2eab":function(e,t,r){"use strict";var a=r("e236"),n=r.n(a);n.a},"324b":function(e,t,r){},"350f":function(e,t,r){"use strict";var a=r("56df"),n=r.n(a);n.a},3585:function(e,t,r){"use strict";var a=r("ec97"),n=r.n(a);n.a},"36c2":function(e,t,r){},"36dc":function(e,t,r){},"3bf0":function(e,t,r){},"3c08":function(e,t,r){},"3d7a":function(e,t,r){},"3d88":function(e,t,r){"use strict";var a=r("e178"),n=r.n(a);n.a},"3dc7":function(e,t,r){"use strict";var a=r("01e4"),n=r.n(a);n.a},"3fcb":function(e,t,r){"use strict";var a=r("edba"),n=r.n(a);n.a},"42d5":function(e,t,r){"use strict";var a=r("1e35"),n=r.n(a);n.a},4524:function(e,t,r){"use strict";var a=r("13ae"),n=r.n(a);n.a},4678:function(e,t,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id="4678"},"49b4":function(e,t,r){"use strict";var a=r("36dc"),n=r.n(a);n.a},"4ace":function(e,t,r){"use strict";var a=r("6b98"),n=r.n(a);n.a},"507b":function(e,t,r){},"514e":function(e,t,r){"use strict";var a=r("772f"),n=r.n(a);n.a},5567:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("2f62"),o=r("8c4f"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("transition",{attrs:{name:"slide-router"}},[r("router-view")],1)],1)},s=[],c={},l=c,u=(r("034f"),r("2877")),p=Object(u["a"])(l,i,s,!1,null,null,null),d=p.exports,f=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("96cf"),r("1da1")),h=r("ade3"),v=r("bc3a"),b=r.n(v),y="ch";function g(e){return e[y]}function m(e){return Object(n["a"])(e)}r("99af"),r("a9e3"),r("b680"),r("e01a"),r("d81d"),r("bc01"),r("d3b7"),r("ac1f"),r("1276"),r("498a");var O=r("3835");function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=Symbol("TIMER_KEY");return Object(h["a"])({},e,(function(){for(var e=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];this[a]&&(clearTimeout(this[a]),this[a]=null),this[a]=setTimeout((function(){e[a]=null,t.call.apply(t,[e].concat(o))}),r)}))}function j(e){return!0!==e&&!1!==e&&Boolean(0===e||e&&!isNaN(e))}function _(e){return"true"===e||"false"===e}function x(e){return"true"===e}function P(){for(var e=document.cookie.split(";").map((function(e){return e.split("=").map((function(e){return e.trim()}))})),t=e.length,r=0;r<t;r++){var a=Object(O["a"])(e[r],2),n=a[0],o=a[1];if("csrfToken"===n)return o}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2?arguments[2]:void 0,a=e===Math.abs(e);e=Math.abs(e);var n="";return e=+e,n=e/1024<1?"".concat(Number(e.toFixed(t)),"Bytes"):e/1024/1024<1?"".concat(Number((e/1024).toFixed(t)),"KB"):e/1024/1024/1024<1?"".concat(Number((e/1024/1024).toFixed(t)),"MB"):"".concat(Number(e/1024/1024/1024).toFixed(t),"GB"),e?"".concat(a?"".concat(r?"+".concat(n):n):"-".concat(n)):n}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;e=j(e)&&e||0;var n="";if(e=Number(e),e<1e3)n="".concat(Number(e.toFixed(a))).concat(t?"毫秒":"ms");else if(e<6e4)n="".concat(Number((e/1e3).toFixed(a))).concat(t?"秒":"s");else if(e<36e5)n="".concat(Number((e/6e4).toFixed(a))).concat(t?"分钟":r?"m":"min");else if(e<864e5){var o=parseInt(e/36e5),i=e-1e3*o*60*60;n="".concat(o).concat(t?"小时":"h").concat(i?":".concat(D(i,t,r,a)):"")}else{var s=parseInt(e/864e5),c=e-1e3*s*60*60*24;n="".concat(s).concat(t?"天":"d").concat(c?":".concat(D(c,t,r,a)):"")}return n}var S=b.a.CancelToken;function T(){return S.source()}function C(e){e.cancel("Operation canceled by the user.")}r("d28b"),r("caad"),r("2532"),r("3ca3"),r("5319"),r("ddb0");function A(e,t,r){var a=this;r?(this[e]=null,setTimeout((function(){return a[e]=t}),0)):this[e]=t}function M(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this.valueWhiteList&&this.valueWhiteList[e],o=!t||!Array.isArray(n)||n.includes(t);return o?r||(t?j(t)?A.call(this,e,Number(t),a):_(t)?A.call(this,e,x(t),a):A.call(this,e,t,a):Array.isArray(n)&&A.call(this,e,n[0],a)):(r||this.$Message.error("不合法的参数：".concat(t)),Array.isArray(n)&&A.call(this,e,n[0],a)),o}function E(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=e[0].query[t];M.call(this,r,n,!1,a)}function I(e,t,r){var a=Object(O["a"])(r,2),n=a[0],o=a[1];if(M.call(this,t,n)){var i=this.nessaryQueryArgs||[],s=this.$route.query;if(!(s[e]==n||_(s[e])&&x(s[e])===n)){var c=Object(h["a"])({},e,n),l=!0,u=!1,p=void 0;try{for(var d,f=i[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var v=d.value;v!==e&&(c[v]=s[v])}}catch(y){u=!0,p=y}finally{try{l||null==f.return||f.return()}finally{if(u)throw p}}var b=void 0===o||!M.call(this,t,o,!0);if(!b)return this.$router.push({path:this.$route.path,query:c}),!0;this.$router.replace({path:this.$route.path,query:c})}}}var L={},R={array:function(e){return Array.isArray(e)}};function F(e,t){var r,a,n="".concat(e,"_loading"),o="".concat(e,"_load_error"),i="".concat(e,"_data"),s="set_".concat(n,"_status"),c="set_".concat(o),l="set_".concat(e);return{state:(r={},Object(h["a"])(r,n,!1),Object(h["a"])(r,o,void 0),Object(h["a"])(r,i,t),r),mutations:(a={},Object(h["a"])(a,s,(function(e,t){e[n]=t})),Object(h["a"])(a,c,(function(e,t){e[o]=t})),Object(h["a"])(a,l,(function(e,t){e[i]=t})),a),handle:function(e,r,a,n){var o=e.dispatch,i=e.commit;return Object(f["a"])(regeneratorRuntime.mark((function e(){var u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return L[s]?L[s]++:L[s]=1,i(s,!0),i(c,void 0),i(l,t),e.prev=4,e.next=7,o("request",r,{root:!0});case 7:u=e.sent,a&&(u=u[a]),n&&"function"===typeof R[n]?R[n](u)&&i(l,u):i(l,u),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),i(c,e.t0.message);case 15:L[s]--,L[s]||i(s,!1);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})))()}}}var $={};function N(e,t){for(var r="YES",a=arguments.length,n=new Array(a>2?a-2:0),o=2;o<a;o++)n[o-2]=arguments[o];var i=n[0],s=n[1],c=n[2],l=n[3],u=n[4],p=n[5],d=n[6],f=n[7],v=void 0===f?[]:f;return{handleMounted:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t?this[e](this.$route.query,r):this[l]({status:!1})},mapMethods:function(a){return Object(h["a"])({},a,(function(a,n){var o=this.$refs[c],s=a[this[i]];if(s===r){var f={status:!0};if(u)try{f[u]=JSON.parse(a[u])}catch(j){}if(n&&(f[n]=a),this[l](f),o[e](),p){var h={},b=!0,y=!1,g=void 0;try{for(var m,O=v[Symbol.iterator]();!(b=(m=O.next()).done);b=!0){var w=m.value;h[w]=this[w]}}catch(_){y=!0,g=_}finally{try{b||null==O.return||O.return()}finally{if(y)throw g}}this[p](Object.assign({cancelToken:this.cancelToken.token},h))}}else this[l]({status:!1}),o[t](),d&&this[d]&&(C(this.cancelToken),this.cancelToken=T())}))},mapWatch:Object(h["a"])({},s,(function(){var e=this[i];if(this[s]){var t,a=this.$route;if(a.query[e]===r)return;var n=Object.assign({},a.query,(t={},Object(h["a"])(t,e,r),Object(h["a"])(t,u,JSON.stringify(this[u])),t));this.$router.push({path:a.path,query:n}),$[e]=!0}else{var o=this.$route;if(o.query[e]===r)if(!$[e]&&this.$store.state.first||this.forceGoBack){this.$store.commit("first",!1);var c={};if(Array.isArray(this.whiteQueryKeys)){var l=!0,p=!1,d=void 0;try{for(var f,v=this.whiteQueryKeys[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){var b=f.value;c[b]=o.query[b]}}catch(x){p=!0,d=x}finally{try{l||null==v.return||v.return()}finally{if(p)throw d}}c[e]=void 0,c[u]=void 0}else if(Array.isArray(this.blackQueryKeys)){var y=!0,g=!1,m=void 0;try{for(var O,w=this.blackQueryKeys[Symbol.iterator]();!(y=(O=w.next()).done);y=!0){var j=O.value;c[j]=void 0}}catch(x){g=!0,m=x}finally{try{y||null==w.return||w.return()}finally{if(g)throw m}}c[e]=void 0,c[u]=void 0}else{var _;Object.assign(c,o.query,(_={},Object(h["a"])(_,e,void 0),Object(h["a"])(_,u,void 0),_))}this.$router.push({path:o.path,query:c})}else this.$router.go(-1),$[e]=!1}}))}}function B(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return N.apply(void 0,["open","close"].concat(t))}function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return N.apply(void 0,["showModal","cancelModal"].concat(t))}function z(e){return e%2===0?e/2:(e-1)/2}function G(e,t){var r=e.length,a=e[0],n=e[e.length-1],o=z(r);while(r>0)t>=e[o]?(e[o]>a&&(a=e[o]),r=z(r,!1),o=o+z(r)+1):(e[o]<n&&(n=e[o]),r=z(r,!0),o-=r-z(r));return[a,n]}var W={url:{user:"/xapi/user",app:"/xapi/app",apps:"/xapi/apps",overviewMetrics:"/xapi/overview_metrics",processCpuUsage:"/xapi/overview/process_cpu_usage",processMemoryUsage:"/xapi/overview/process_memory_usage",systemCpuUsage:"/xapi/overview/system_cpu_usage",systemMemoryUsage:"/xapi/overview/system_memory_usage",diskUsage:"/xapi/overview/disk_usage",agents:"/xapi/agents",agentInfo:"/xapi/agent",agentXprofilerProcesses:"/xapi/xprofiler_processes",agentNodeProcesses:"/xapi/node_processes",xprofilerStatus:"/xapi/xprofiler_status",processTrend:"/xapi/process_trend",action:"/xapi/action",overview:"/xapi/system_overview",systemTrend:"/xapi/system_trend",errorFiles:"/xapi/error_files",errorLogs:"/xapi/error_logs",moduleFiles:"/xapi/module_files",module:"/xapi/module",uploadFile:"/xapi/upload_file",fileList:"/xapi/files",fileFavor:"/xapi/file_favor",fileTransfer:"/xapi/file_transfer",fileDeletion:"/xapi/file_deletion",fileStatus:"/xapi/file_status",downloadFile:"/file/download",members:"/xapi/team_members",member:"/xapi/team_member",ownership:"/xapi/team_ownership",leaveTeam:"/xapi/leave_team",invitation:"/xapi/invitation",strategies:"/xapi/alarm_strategies",strategy:"/xapi/alarm_strategy",strategyStatus:"/xapi/alarm_strategy_status",strategyContacts:"/xapi/alarm_strategy_contacts",strategyContact:"/xapi/alarm_strategy_contact",strategyHistory:"/xapi/alarm_strategy_history",settings:"/xapi/settings",settingsAppName:"/xapi/settings_app_name",settingsApp:"/xapi/settings_app"}},H={i18n:{}};function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=F("user",{}),V=Y.state,K=Y.mutations,Q=Y.handle,Z={namespaced:!0,state:q({},V),mutations:q({},K),actions:{getUserInfo:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n={cancelToken:r,url:a.url.user},t.next=4,Q(e,n);case 4:case"end":return t.stop()}}),t)})))()}}};function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=F("new_app",void 0),re=te.state,ae=te.mutations,ne=te.handle,oe=F("app_list",[]),ie=oe.state,se=oe.mutations,ce=oe.handle,le={namespaced:!0,state:ee({},re,{},ie,{newAppModal:void 0}),mutations:ee({},ae,{},se,{setNewAppModal:function(e,t){var r=t.status;!1!==r&&!0!==r||(e.newAppModal=r)}}),actions:{createNewApp:function(e,t){var r=t.cancelToken,a=t.newAppName;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o={cancelToken:r,method:"POST",url:n.url.app,data:{newAppName:a}},t.next=4,ne(e,o);case 4:case"end":return t.stop()}}),t)})))()},getApps:function(e,t){var r=t.cancelToken,a=t.type;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.rootState,a){t.next=3;break}return t.abrupt("return");case 3:return o={cancelToken:r,url:n.url.apps,data:{type:a}},t.next=6,ce(e,o);case 6:case"end":return t.stop()}}),t)})))()},getOverviewMetrics:function(e,t){var r=t.cancelToken,a=t.appId;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.rootState,o=e.dispatch,a){t.next=3;break}return t.abrupt("return",{});case 3:return i={cancelToken:r,url:n.url.overviewMetrics,data:{appId:a}},t.abrupt("return",o("request",i,{root:!0}));case 5:case"end":return t.stop()}}),t)})))()},getMainMetrics:function(e,t){var r=t.cancelToken,a=t.urlKey,n=t.appId;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=e.rootState,i=e.dispatch,n){t.next=3;break}return t.abrupt("return");case 3:return s={cancelToken:r,url:o.url[a],data:{appId:n}},t.abrupt("return",i("request",s,{root:!0}));case 5:case"end":return t.stop()}}),t)})))()}}};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=F("app",{}),fe=de.state,he=de.mutations,ve=de.handle,be={namespaced:!0,state:pe({},fe,{appId:void 0}),mutations:pe({},he,{setAppId:function(e,t){e.appId=t}}),actions:{getAppInfo:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.state,n=e.rootState,o={cancelToken:t,url:n.url.app,data:{appId:a.appId}},r.next=4,ve(e,o);case 4:case"end":return r.stop()}}),r)})))()}}};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me=F("agents",[]),Oe=me.state,we=me.mutations,je=me.handle,_e=F("agent",[]),xe=_e.state,Pe=_e.mutations,ke=_e.handle,De={namespaced:!0,state:ge({},Oe,{},xe,{agentId:void 0,agentModal:void 0}),mutations:ge({},we,{},Pe,{setAgentId:function(e,t){e.agentId=t},setAgentModal:function(e,t){var r=t.status;!0!==r&&!1!==r||(e.agentModal=r)}}),actions:{getAgents:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:t,url:a.url.agents,data:{appId:n.appId}},r.next=4,je(e,o,"list","array");case 4:case"end":return r.stop()}}),r)})))()},getAgentInfo:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.rootState,o=e.rootGetters,i={cancelToken:r,url:n.url.agentInfo,data:{appId:o.appId,agentId:a.agentId}},t.next=4,ke(e,i,"list","array");case 4:case"end":return t.stop()}}),t)})))()}}};function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce=F("processes",[]),Ae=Ce.state,Me=Ce.mutations,Ee=Ce.handle,Ie=F("xprofiler_processes",!1),Le=Ie.state,Re=Ie.mutations,Fe=Ie.handle,$e=F("xprofiler_status",void 0),Ne=$e.state,Be=$e.mutations,Ue=$e.handle,ze=F("save_trend",void 0),Ge=ze.state,We=ze.mutations,He=ze.handle,Xe=F("take_action",void 0),qe=Xe.state,Ye=Xe.mutations,Ve=Xe.handle,Ke={namespaced:!0,state:Te({},Ae,{},Le,{},Ne,{},Ge,{},qe,{xprofilerStatusModal:void 0,xprofilerCheckPid:void 0,processTrendDrawer:void 0,processTrendData:{},processesDrawer:void 0,saveTrendModal:void 0,saveTrendData:{},takeActionModal:void 0,takeActionData:{},colors:["rgb(42, 125, 194)","rgb(106, 90, 205)","rgb(41, 145, 65)","rgb(215, 124, 0)","rgb(186, 74, 0)","rgb(46, 134, 193)","rgb(136, 78, 160)","rgb(19, 141, 117)","rgb(34, 153, 84)"]}),mutations:Te({},Me,{},Re,{},Be,{},We,{},Ye,{setXprofilerStatusModal:function(e,t){var r=t.status,a=t.pid;!1!==r&&!0!==r||(e.xprofilerStatusModal=r),j(a)&&(e.xprofilerCheckPid=a)},setSaveTrendModal:function(e,t){var r=t.status,a=t.processData;!1!==r&&!0!==r||(e.saveTrendModal=r),a&&(e.saveTrendData=a)},setTakeActionModal:function(e,t){var r=t.status,a=t.actionData;!1!==r&&!0!==r||(e.takeActionModal=r),a&&(e.takeActionData=a)},setProcessTrendDrawer:function(e,t){var r=t.status,a=t.processData;!1!==r&&!0!==r||(e.processTrendDrawer=r),a&&(e.processTrendData=a)},setProcessesDrawer:function(e,t){var r=t.status;!1!==r&&!0!==r||(e.processesDrawer=r)}}),getters:{processCount:function(e){return e.processes_data.length}},actions:{getNodeProcesses:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:t,url:a.url.agentNodeProcesses,data:{appId:n.appId,agentId:n.agentId}},r.next=4,Ee(e,o,"list","array");case 4:case"end":return r.stop()}}),r)})))()},getXprofilerProcesses:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:t,url:a.url.agentXprofilerProcesses,data:{appId:n.appId,agentId:n.agentId}},r.next=4,Fe(e,o,"list","array");case 4:case"end":return r.stop()}}),r)})))()},getXprofilerStatus:function(e,t){var r=t.cancelToken,a=t.pid;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.rootGetters,i={cancelToken:r,url:n.url.xprofilerStatus,data:{appId:o.appId,agentId:o.agentId,pid:a}},t.next=4,Ue(e,i);case 4:case"end":return t.stop()}}),t)})))()},getProcessTrend:function(e,t){var r=t.cancelToken,a=t.trendType,n=t.duration;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.state,i=e.dispatch,s=e.rootState,c=e.rootGetters,l={cancelToken:r,url:s.url.processTrend,data:{appId:c.appId,agentId:c.agentId,pid:o.processTrendData.pid,trendType:a,duration:n}},t.abrupt("return",i("request",l,{root:!0}));case 3:case"end":return t.stop()}}),t)})))()},saveProcessTrend:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.rootState,o=e.rootGetters,i={cancelToken:r,method:"POST",url:n.url.processTrend,data:{appId:o.appId,agentId:o.agentId,pid:a.saveTrendData.pid}},t.next=4,He(e,i,"file");case 4:case"end":return t.stop()}}),t)})))()},takeAction:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.rootState,o=e.rootGetters,i={cancelToken:r,method:"POST",url:n.url.action,data:{appId:o.appId,agentId:o.agentId,pid:a.takeActionData.pid,action:a.takeActionData.action}},t.next=4,Ve(e,i,"file");case 4:case"end":return t.stop()}}),t)})))()}}};function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Je=F("overview",{}),et=Je.state,tt=Je.mutations,rt=Je.handle,at={namespaced:!0,state:Ze({},et),mutations:Ze({},tt),actions:{getSystemOverview:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootGetters,n=e.rootState,o={cancelToken:r,url:n.url.overview,data:{appId:a.appId,agentId:a.agentId}},t.next=4,rt(e,o);case 4:case"end":return t.stop()}}),t)})))()},getSystemTrend:function(e,t){var r=t.cancelToken,a=t.trendType,n=t.duration;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.dispatch,i=e.rootState,s=e.rootGetters,c={cancelToken:r,url:i.url.systemTrend,data:{appId:s.appId,agentId:s.agentId,trendType:a,duration:n}},t.abrupt("return",o("request",c,{root:!0}));case 3:case"end":return t.stop()}}),t)})))()}}};function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it=F("files",[]),st=it.state,ct=it.mutations,lt=it.handle,ut=F("logs",{list:[],count:0}),pt=ut.state,dt=ut.mutations,ft=ut.handle,ht={namespaced:!0,state:ot({},st,{},pt,{errorFile:void 0}),mutations:ot({},ct,{},dt,{setErrorFile:function(e,t){e.errorFile=t}}),actions:{getErrorFiles:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:r,url:a.url.errorFiles,data:{appId:n.appId,agentId:n.agentId}},t.next=4,lt(e,o,"list","array");case 4:case"end":return t.stop()}}),t)})))()},getErrorLogs:function(e,t){var r=t.cancelToken,a=t.currentPage,n=t.pageSize;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.state,i=e.rootState,s=e.rootGetters,c={cancelToken:r,url:i.url.errorLogs,data:{appId:s.appId,agentId:s.agentId,errorFile:o.errorFile,currentPage:a,pageSize:n}},t.next=4,ft(e,c);case 4:case"end":return t.stop()}}),t)})))()}}};function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt=F("files",[]),gt=yt.state,mt=yt.mutations,Ot=yt.handle,wt=F("module",{}),jt=wt.state,_t=wt.mutations,xt=wt.handle,Pt={namespaced:!0,state:bt({},gt,{},jt,{moduleFile:void 0,riskModules:void 0,showDependencies:void 0,riskDetailModal:void 0,riskModalData:{}}),mutations:bt({},mt,{},_t,{setModuleFile:function(e,t){e.moduleFile=t},setShowDependencies:function(e,t){!0!==t&&!1!==t||(e.showDependencies=t)},setRiskModules:function(e,t){e.riskModules=t||{}},setRiskDetailModal:function(e,t){var r=t.status,a=t.riskModalData;!1!==r&&!0!==r||(e.riskDetailModal=r),a&&(e.riskModalData=a)}}),actions:{getModuleFiles:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:r,url:a.url.moduleFiles,data:{appId:n.appId,agentId:n.agentId}},t.next=4,Ot(e,o,"list","array");case 4:case"end":return t.stop()}}),t)})))()},getModule:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.state,n=e.rootState,o=e.rootGetters,i={cancelToken:r,url:n.url.module,data:{appId:o.appId,agentId:o.agentId,moduleFile:a.moduleFile}},t.next=4,xt(e,i);case 4:case"end":return t.stop()}}),t)})))()}}};function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var St=F("upload",void 0),Tt=St.state,Ct=St.mutations,At=St.handle,Mt=F("files",{list:[],count:0}),Et=Mt.state,It=Mt.mutations,Lt=Mt.handle,Rt={namespaced:!0,state:Dt({},Tt,{},Et,{fileTypes:[{label:"CPU Profile",value:"cpuprofile",icon:"ios-stopwatch"},{label:"Heap Profile",value:"heapprofile",icon:"ios-timer"},{label:"GC 追踪",value:"gcprofile",icon:"ios-locate"},{label:"堆快照",value:"heapsnapshot",icon:"md-camera"},{label:"诊断报告",value:"diag",icon:"md-medkit"},{label:"核心转储",value:"core",icon:"md-list-box"},{label:"进程趋势",value:"trend",icon:"ios-podium"}],nessaryQueryArgs:["filterType"],uploadModal:void 0,filterType:void 0,errorModal:void 0,errorModalData:{},fileDeletionModal:void 0,deletionData:{}}),getters:{normalValidTypes:function(e){return e.fileTypes.map((function(e){return e.value})).filter((function(e){return"core"!==e}))},filterTypes:function(e){var t=e.fileTypes.map((function(e){return e}));return t.unshift({label:"全部",value:"all"}),t.push({label:"收藏",value:"favor"}),t},getIconByType:function(e){return function(t){var r=e.fileTypes,a="",n=!0,o=!1,i=void 0;try{for(var s,c=r[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;l.value===t&&l.icon&&(a=l.icon)}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return a}},getLabelByType:function(e){return function(t){var r=e.fileTypes,a="Unknown",n=!0,o=!1,i=void 0;try{for(var s,c=r[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;l.value===t&&(a=l.label)}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return a}}},mutations:Dt({},Ct,{},It,{setUploadModal:function(e,t){var r=t.status;!1!==r&&!0!==r||(e.uploadModal=r)},setErrorModal:function(e,t){var r=t.status,a=t.error;!1!==r&&!0!==r||(e.errorModal=r),!1!==r||a||setTimeout((function(){return e.errorModalData={}}),10),a&&(e.errorModalData=a)},setDeletionModal:function(e,t){var r=t.status,a=t.data;!1!==r&&!0!==r||(e.fileDeletionModal=r),!1!==r||a||setTimeout((function(){return e.deletionData={}}),10),a&&(e.deletionData=a)},setFilterType:function(e,t){e.filterType=t}}),actions:{uploadFile:function(e,t){var r=t.cancelToken,a=t.formData,n=t.fileType;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.rootState,i=e.rootGetters,s={cancelToken:r,method:"POST",url:"".concat(o.url.uploadFile,"?appId=").concat(i.appId,"&fileType=").concat(n),data:a},t.next=4,At(e,s,"file");case 4:case"end":return t.stop()}}),t)})))()},getFiles:function(e,t){var r=t.cancelToken,a=t.filterType,n=t.currentPage,o=t.pageSize;return Object(f["a"])(regeneratorRuntime.mark((function t(){var i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.rootState,s=e.rootGetters,c={cancelToken:r,url:i.url.fileList,data:{appId:s.appId,filterType:a,currentPage:n,pageSize:o}},t.next=4,Lt(e,c);case 4:case"end":return t.stop()}}),t)})))()},doFavor:function(e,t){var r=t.cancelToken,a=t.fileId,n=t.fileType,o=t.favor;return Object(f["a"])(regeneratorRuntime.mark((function t(){var i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.dispatch,s=e.rootState,c={cancelToken:r,method:"POST",url:s.url.fileFavor,data:{fileId:a,fileType:n,favor:o}},t.abrupt("return",i("request",c,{root:!0}));case 3:case"end":return t.stop()}}),t)})))()},doTransfer:function(e,t){var r=t.cancelToken,a=t.fileId,n=t.fileType;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.dispatch,i=e.rootState,s={cancelToken:r,method:"POST",url:i.url.fileTransfer,data:{fileId:a,fileType:n}},t.abrupt("return",o("request",s,{root:!0}));case 3:case"end":return t.stop()}}),t)})))()},deleteFile:function(e,t){var r=t.cancelToken,a=t.fileId,n=t.fileType;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.dispatch,i=e.rootState,s={cancelToken:r,method:"DELETE",url:i.url.fileDeletion,data:{fileId:a,fileType:n}},t.abrupt("return",o("request",s,{root:!0}));case 3:case"end":return t.stop()}}),t)})))()},checkFileStatus:function(e,t){var r=t.cancelToken,a=t.files;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,o=e.rootState,i={cancelToken:r,method:"POST",url:o.url.fileStatus,data:{files:a}},t.abrupt("return",n("request",i,{root:!0}));case 3:case"end":return t.stop()}}),t)})))()}}},Ft={namespaced:!0,state:{diagDrawer:void 0,diagData:{},gcDrawer:void 0,gcData:{}},mutations:{setDiagDrawer:function(e,t){var r=t.status,a=t.diagData;!1!==r&&!0!==r||(e.diagDrawer=r),a&&(e.diagData=a)},setGcDrawer:function(e,t){var r=t.status,a=t.gcData;!1!==r&&!0!==r||(e.gcDrawer=r),a&&(e.gcData=a)}}};function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Bt=F("file",void 0),Ut=Bt.state,zt=Bt.mutations,Gt=Bt.handle,Wt={namespaced:!0,state:Nt({},Ut),mutations:Nt({},zt),actions:{downloadFile:function(e,t){var r=t.cancelToken,a=t.fileId,n=t.fileType;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.rootState,i={cancelToken:r,rawData:!0,url:o.url.downloadFile,data:{fileId:a,fileType:n}},t.next=4,Gt(e,i);case 4:case"end":return t.stop()}}),t)})))()}}},Ht={namespaced:!0,state:{diagTab:void 0,uvType:void 0},mutations:{setDiagTab:function(e,t){e.diagTab=t},setUvType:function(e,t){e.uvType=t}}},Xt=(r("a623"),r("b0c0"),{namespaced:!0,state:{gcFile:void 0},mutations:{setGcFileData:function(e,t){e.gcFile=t}},getters:{startTime:function(e){var t=e.gcFile.startTime,r=void 0===t?0:t;return 1e3*r},stopTime:function(e){var t=e.gcFile.stopTime,r=void 0===t?0:t;return 1e3*r},gcList:function(e){var t=e.gcFile.gc;return Array.isArray(t)?t:[]},pauseTime:function(e){var t=e.gcFile.gc,r=[],a=!0,n=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;r.push(+(c.end-c.start))}}catch(l){n=!0,o=l}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r},pauseTimeWithStart:function(e,t){for(var r=e.gcFile.gc,a=[],n=0;n<r.length;n++){var o=r[n],i=Number(((t.calculateSize(o.after)-t.calculateSize(o.before))/1024/1024).toFixed(2));a.push({pause:+(o.end-o.start),timeFromStart:1e3*o.timeFromStart,type:o.type,change:i,changeLabel:i>=0?"+".concat(i):"-".concat(Math.abs(i)),changeAbs:Math.abs(i),positive:i>0,index:n+1})}return a},memoryChange:function(e,t){var r=e.gcFile.gc;return r.map((function(e){var r=t.calculateSize(e.after)-t.calculateSize(e.before);return r/1024/1024}))},heapTrendWithStart:function(e,t){var r=e.gcFile.gc;return r.map((function(e,r){return{timeFromStart:1e3*e.timeFromStart,heap_size:Number((t.calculateSize(e.after)/1024/1024).toFixed(2)),type:e.type,index:r+1}}))},spaceTrendWithStart:function(e,t){var r,a=e.gcFile.gc,n=a.map((function(e,a){var n=e.type,o=e.before,i=e.after,s=e.timeFromStart,c=t.getSpacesMap(o),l=t.getSpacesMap(i);r||(r=Object.keys(c));var u={type:n,index:a+1,timeFromStart:1e3*s},p=0,d=0,f=!0,h=!1,v=void 0;try{for(var b,y=r[Symbol.iterator]();!(f=(b=y.next()).done);f=!0){var g=b.value,m=(l[g]-c[g])/1024/1024;p+=m,d+=Math.abs(m),u[g]=Math.abs(m),u["".concat(g,"_positive")]=m>0}}catch(O){h=!0,v=O}finally{try{f||null==y.return||y.return()}finally{if(h)throw v}}return u["all_spaces"]=Math.abs(p),u["all_spaces_positive"]=p>0,u["all_size_abs"]=d,u}));return r.push("all_spaces"),r=r.filter((function(e){return!n.every((function(t){return 0===t[e]}))})),r=r.map((function(e){var t=e;return"new_large_object_space"===t&&(t="new_lo_space"),"large_object_space"===t&&(t="lo_space"),"code_large_object_space"===t&&(t="code_lo_space"),{label:t,value:e}})),{spaces:r,list:n}},calculateSize:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"space_used_size",r=0,a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;r+=c[t]}}catch(l){n=!0,o=l}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r}},getSpacesMap:function(){return function(e){var t={},r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=s.name,l=s.space_used_size;t[c]=l}}catch(u){a=!0,n=u}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return t}}}});function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vt=F("members",[]),Kt=Vt.state,Qt=Vt.mutations,Zt=Vt.handle,Jt={namespaced:!0,state:Yt({},Kt,{confirmModal:void 0,confirmData:{}}),getters:{createConfirmData:function(){return function(e,t,r,a){return{type:e,title:t,content:r,success:!1,loading:!1,error:void 0,data:a}}}},mutations:Yt({},Qt,{setConfirmModal:function(e,t){var r=t.status,a=t.data;!1!==r&&!0!==r||(e.confirmModal=r),a&&(e.confirmData=a)}}),actions:{getTeamMembers:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:r,url:a.url.members,data:{appId:n.appId}},t.next=4,Zt(e,o);case 4:case"end":return t.stop()}}),t)})))()},updateInviationStatus:function(e,t){var r=t.cancelToken,a=t.appId,n=t.status;return Object(f["a"])(regeneratorRuntime.mark((function t(){var o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.rootState,i=e.dispatch,s={cancelToken:r,method:"PUT",url:o.url.invitation,data:{appId:a,status:n}},t.next=4,i("request",s,{root:!0});case 4:case"end":return t.stop()}}),t)})))()},commonAction:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function r(){var a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.dispatch,n=e.commit,o=e.state,o.confirmData.loading=!0,r.prev=2,r.next=5,a("request",t,{root:!0});case 5:o.confirmData.success=!0,n("setConfirmModal",{status:!1}),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),o.confirmData.error=r.t0.message;case 12:o.confirmData.loading=!1;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},inviteMember:function(e,t){var r=t.cancelToken,a=t.userId;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.rootGetters,i=e.dispatch,s={cancelToken:r,method:"POST",url:n.url.member,data:{appId:o.appId,userId:a}},t.next=4,i("commonAction",s);case 4:case"end":return t.stop()}}),t)})))()},deleteMember:function(e,t){var r=t.cancelToken,a=t.userId;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.rootGetters,i=e.dispatch,s={cancelToken:r,method:"DELETE",url:n.url.member,data:{appId:o.appId,userId:a}},t.next=4,i("commonAction",s);case 4:case"end":return t.stop()}}),t)})))()},transferOwnership:function(e,t){var r=t.cancelToken,a=t.userId;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.rootGetters,i=e.dispatch,s={cancelToken:r,method:"POST",url:n.url.ownership,data:{appId:o.appId,userId:a}},t.next=4,i("commonAction",s);case 4:case"end":return t.stop()}}),t)})))()},leaveTeam:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.rootGetters,o=e.dispatch,i={cancelToken:r,method:"DELETE",url:a.url.leaveTeam,data:{appId:n.appId}},t.next=4,o("commonAction",i);case 4:case"end":return t.stop()}}),t)})))()}}};function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rr=F("rules",[]),ar=rr.state,nr=rr.mutations,or=rr.handle,ir={namespaced:!0,state:tr({},ar,{tipModal:void 0,tipData:{},contactsModal:void 0,contactsData:{},historyDrawer:void 0,historyData:{},editModel:!1,editData:{}}),getters:{formatContextType:function(){return function(e){var t="";switch(e){case"xprofiler_log":t="X-Profiler 插件日志";break;case"xtransit_notification":t="X-Transit 通知信息";break;case"system_log":t="操作系统指标日志";break;case"error_log":t="Node.js 应用错误日志";break;default:break}return t}}},mutations:tr({},nr,{resetState:function(e){e.tipModal=void 0,e.tipData={},e.editModel=!1,e.editData={}},setTipModal:function(e,t){var r=t.status,a=t.data;!1!==r&&!0!==r||(e.tipModal=r),a&&(e.tipData=a)},setContactsModal:function(e,t){var r=t.status,a=t.data;!1!==r&&!0!==r||(e.contactsModal=r),a&&(e.contactsData=a)},setHistoryDrawer:function(e,t){var r=t.status,a=t.historyData;!1!==r&&!0!==r||(e.historyDrawer=r),a&&(e.historyData=a)},setEditModel:function(e,t){var r=t.status,a=t.data;!1!==r&&!0!==r||(e.editModel=r),a&&(e.editData=a)}}),actions:{getRules:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:r,url:a.url.strategies,data:{appId:n.appId}},t.next=4,or(e,o,"list","array");case 4:case"end":return t.stop()}}),t)})))()},postRule:function(e,t){var r=t.cancelToken,a=t.data;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.rootGetters,i=e.dispatch,s={cancelToken:r,method:"POST",url:n.url.strategy,data:tr({appId:o.appId},a)},t.next=4,i("request",s,{root:!0});case 4:case"end":return t.stop()}}),t)})))()},putRule:function(e,t){var r=t.cancelToken,a=t.data;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.dispatch,i={cancelToken:r,method:"PUT",url:n.url.strategy,data:a},t.next=4,o("request",i,{root:!0});case 4:case"end":return t.stop()}}),t)})))()},deleteRule:function(e,t){var r=t.cancelToken,a=t.data;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.dispatch,i={cancelToken:r,method:"DELETE",url:n.url.strategy,data:a},t.next=4,o("request",i,{root:!0});case 4:case"end":return t.stop()}}),t)})))()},putRuleStatus:function(e,t){var r=t.cancelToken,a=t.data;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.dispatch,i={cancelToken:r,method:"PUT",url:n.url.strategyStatus,data:a},t.next=4,o("request",i,{root:!0});case 4:case"end":return t.stop()}}),t)})))()}}};function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lr=F("contacts",{remainMembers:[],contacts:[]}),ur=lr.state,pr=lr.mutations,dr=lr.handle,fr={namespaced:!0,state:cr({},ur),mutations:cr({},pr),actions:{getContacts:function(e,t){var r=t.cancelToken,a=t.strategyId;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o={cancelToken:r,url:n.url.strategyContacts,data:{strategyId:a}},t.next=4,dr(e,o);case 4:case"end":return t.stop()}}),t)})))()},removeContact:function(e,t){var r=t.cancelToken,a=t.data;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.dispatch,i={cancelToken:r,method:"DELETE",url:n.url.strategyContact,data:a},t.next=4,o("request",i,{root:!0});case 4:case"end":return t.stop()}}),t)})))()},addContact:function(e,t){var r=t.cancelToken,a=t.data;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.dispatch,i={cancelToken:r,method:"POST",url:n.url.strategyContact,data:a},t.next=4,o("request",i,{root:!0});case 4:case"end":return t.stop()}}),t)})))()}}};function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var br=F("history",{count:0,list:[]}),yr=br.state,gr=br.mutations,mr=br.handle,Or={namespaced:!0,state:vr({},yr),mutations:vr({},gr),actions:{getAlarmHistory:function(e,t){var r=t.cancelToken,a=t.data;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o={cancelToken:r,url:n.url.strategyHistory,data:a},t.next=4,mr(e,o);case 4:case"end":return t.stop()}}),t)})))()}}};function wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _r=F("settings",{}),xr=_r.state,Pr=_r.mutations,kr=_r.handle,Dr={namespaced:!0,state:jr({},xr,{modifyModal:void 0,deleteModal:void 0}),mutations:jr({},Pr,{setModifyModal:function(e,t){var r=t.status;!1!==r&&!0!==r||(e.modifyModal=r)},setDeleteModal:function(e,t){var r=t.status;!1!==r&&!0!==r||(e.deleteModal=r)},updateSettingsAppName:function(e,t){e.settings_data.name=t}}),actions:{getSettingsInfo:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.rootGetters,o={cancelToken:r,url:a.url.settings,data:{appId:n.appId}},t.next=4,kr(e,o);case 4:case"end":return t.stop()}}),t)})))()},putNewAppName:function(e,t){var r=t.cancelToken,a=t.newAppName;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootState,o=e.rootGetters,i=e.dispatch,s={cancelToken:r,method:"PUT",url:n.url.settingsAppName,data:{appId:o.appId,newAppName:a}},t.next=4,i("request",s,{root:!0});case 4:case"end":return t.stop()}}),t)})))()},deleteApp:function(e,t){var r=t.cancelToken;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rootState,n=e.rootGetters,o=e.dispatch,i={cancelToken:r,method:"DELETE",url:a.url.settingsApp,data:{appId:n.appId}},t.next=4,o("request",i,{root:!0});case 4:case"end":return t.stop()}}),t)})))()}}};function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cr={state:Tr({},W,{},H,{globalError:void 0,first:!0}),getters:{appId:function(e){return e.dashboard.appId},agentId:function(e){return e.dashboard.instance.agentId}},mutations:{updateGlobalError:function(e,t){e.globalError=t},first:function(e,t){e.first=t}},actions:{request:function(e,t){var r=e.commit,a=t.url,n=t.method,o=void 0===n?"GET":n,i=t.cancelToken,s=t.data,c=void 0===s?{}:s,l=t.globalError,u=void 0!==l&&l,p=t.rawData,d=void 0!==p&&p;return Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i){e.next=2;break}throw new Error("cancel token should be passed in!");case 2:return t={},"GET"===o?t.params=c:t.data=c,"GET"!==o&&(t.headers={"x-csrf-token":P()}),e.prev=5,e.next=8,b()(Object.assign({url:a,method:o,cancelToken:i},t));case 8:if(n=e.sent,s=n.data,!d){e.next=12;break}return e.abrupt("return",s);case 12:if(s.ok){e.next=14;break}throw new Error(s.message||"unknown inner server error");case 14:return e.abrupt("return",s.data||{});case 17:if(e.prev=17,e.t0=e["catch"](5),!b.a.isCancel(e.t0)){e.next=21;break}return e.abrupt("return",{});case 21:if(!u){e.next=25;break}r("updateGlobalError",e.t0),e.next=26;break;case 25:throw e.t0;case 26:case"end":return e.stop()}}),e,null,[[5,17]])})))()}},modules:{user:Tr({},Z),consoler:Tr({},le),dashboard:Tr({},be,{modules:{instance:Tr({},De,{modules:{process:Tr({},Ke),system:Tr({},at),errors:Tr({},ht),modules:Tr({},Pt)}}),file:Tr({},Rt,{modules:{wrapper:Tr({},Ft)}}),team:Tr({},Jt),alarm:Tr({},ir,{modules:{contact:Tr({},fr),history:Tr({},Or)}}),settings:Tr({},Dr),analytics:Tr({},Wt,{modules:{diag:Tr({},Ht),gc:Tr({},Xt)}})}})}},Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Layout",[r("x-header",{attrs:{active:"console",owner:"myApps"===e.selectedType}}),r("Content",{staticClass:"content"},[r("transition",{attrs:{name:"slide-button"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:"myApps"===e.selectedType,expression:"selectedType === 'myApps'"}],staticClass:"create-new-app"},[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.showNewAppCreation}},[r("Icon",{staticClass:"new-app-icon",attrs:{type:"md-person-add"}}),e._v(" "+e._s(e.newAppCreationTag)+" ")],1)],1)]),r("Tabs",{staticClass:"app-tab",model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},[r("TabPane",{attrs:{label:e.myApps,name:"myApps"}}),r("TabPane",{attrs:{label:e.joinedApps,name:"joinedApps"}})],1),r("x-apps",{ref:"appList",attrs:{type:e.selectedType}})],1),r("Footer",{staticClass:"footer"},[e._v(" 2020 © "),r("a",{attrs:{href:"https://github.com/hyj1991/easy-monitor",target:"_blank"}},[e._v("Easy-Monitor")]),e._v(" 3.0 Powered by "),r("a",{attrs:{href:"https://eggjs.org/",target:"_blank"}},[r("x-egg-logo",{staticClass:"egg-logo"})],1)])],1),r("x-modal",{ref:"newApp",attrs:{title:e.newAppCreationTag,padding:0,"hide-footer":""},on:{canceled:e.closeNewAppModal}},[r("x-create-app",{attrs:{slot:"content"},on:{refresh:e.refreshApps},slot:"content"})],1)],1)},Mr=[],Er={docs:{ch:"使用指南",en:"Document"},console:{ch:"控制台",en:"Console"},lang:{ch:"切换英文",en:"Chinese"},myApps:{ch:"我的应用",en:"My Apps"},joinedApps:{ch:"加入的应用",en:"Joined Apps"},illegalType:{ch:"不合法的参数：",en:"Illegal query type:"},newAppCreation:{ch:"创建新应用",en:"New Application"},newAppName:{ch:"应用名称",en:"App Name"},newAppNamePlaceholder:{ch:"请输入您的应用名称",en:"Input your new application name"},newAppNameAttention:{ch:"注意",en:"Attention"},newAppNameAttentionDetail:{ch:"应用名称最大长度不能超过 30 个字符",en:"Length of the application name cannot exceed 30 characters."},submit:{ch:"提交",en:"Submit"},submitting:{ch:"提交中...",en:"submitting..."},close:{ch:"关闭",en:"Close"},instance:{ch:"实例",en:"agent"},file:{ch:"文件",en:"file"},team:{ch:"团队",en:"team"},alarm:{ch:"告警",en:"alarm"},settings:{ch:"设置",en:"setting"},instanceCount:{ch:"实例个数",en:"agents"},alarmCount:{ch:"24h 告警数",en:"alarms (24h)"},rsikCount:{ch:"依赖风险数",en:"risk modules"},processCpuUsage:{ch:"Node.js 进程 CPU 负载",en:"cpu status"},processMemoryUsage:{ch:"Node.js 进程堆内存状态",en:"heap memory status"},systemCpuUsage:{ch:"系统整体 CPU 负载",en:"system cpu status"},systemMemoryUsage:{ch:"系统整体可用内存状态",en:"system memory status"},diskUsage:{ch:"磁盘使用率",en:"disk usage"},noAppTipOnMyAccount:{ch:"您的账号下暂无应用，点击右上角【创建新应用】按钮可以创建新应用",en:"There is no application on your account, click the [New Application] button at the upper right corner to create."},noAppTipOnJoinedAccount:{ch:"您暂时没有加入任何应用",en:"You haven't added to any applications yet."},nameUnknown:{ch:"未知应用",en:"Unknown Application"},instanceTitle:{ch:"实例详情",en:"Agents"},fileTitle:{ch:"性能文件",en:"Files"},teamTitle:{ch:"团队协作",en:"Collaborators"},alarmTitle:{ch:"阈值告警",en:"Alerts"},settingTitle:{ch:"系统设置",en:"Settings"},checkAgent:{ch:"查看实例",en:"CHECK"},processTrend:{ch:"进程数据",en:"Process Data"},systemData:{ch:"系统监控",en:"System Info"},errorLog:{ch:"异常日志",en:"Error Log"},moduleRisk:{ch:"模块风险",en:"Security Risk"},choseInstance:{ch:"请选择实例 ID",en:"Chose agent"},noAgent:{ch:"没有相关实例 ID",en:"No agent"},lineTitle:{ch:"进程存活时间线",en:"Process Running Status"},cmd:{ch:"启动命令",en:"Command"},startTime:{ch:"启动时间",en:"Created Time"},updateTime:{ch:"更新时间",en:"Updated Time"},checkProcesses:{ch:"查看运行中的 Node.js 进程",en:"CHECK PROCESSES"},processList:{ch:"进程列表",en:"PROCESS"},cpuUsage:{ch:"CPU 使用率",en:"CPU"},heapMemory:{ch:"堆内存使用率",en:"HEAP"},gcUsage:{ch:"GC 占比",en:"GC"},rssUsage:{ch:"物理内存占用",en:"RSS"},uvHandles:{ch:"UV 活跃句柄",en:"Active Handles"},timers:{ch:"定时器数量",en:"Timers"},tcpHandles:{ch:"TCP 句柄数",en:"TCP Handles"},udpHandles:{ch:"UDP 句柄数",en:"UDP Handles"},processDetail:{ch:"进程详细信息",en:"DETAIL"},checkXprofiler:{ch:"查看 X-Profiler 插件状态",en:"Check X-Profiler Status"},processDataTrend:{ch:"数据趋势",en:"Insights"},saveProcessData:{ch:"保存数据",en:"Save"},actions:{ch:"抓取性能数据",en:"ACTIONS"},cpuprofile:{ch:"CPU Profile",en:"CPU Profile"},heapsnapshot:{ch:"堆快照",en:"Heapsnapshot"},heapprofile:{ch:"Heap Profile",en:"Heap Profile"},gcprofile:{ch:"GC 追踪",en:"GC Trace"},diag:{ch:"Node.js 实时诊断",en:"Trigger Node Report"}};function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rr=m("consoler"),Fr=Rr.mapState,$r=Rr.mapMutations,Nr=Rr.mapActions,Br=U("modalQueryKey","newAppModal","newApp","setNewAppModal"),Ur=Br.mapMethods,zr=Br.mapWatch,Gr=Br.handleMounted,Wr={created:function(){var e=this.$route.query;this.selectedType=e.type||"myApps",this.cancelToken=T()},mounted:function(){this.appList=this.$refs.appList,Gr.call(this,"handleNewAppModal")},beforeDestroy:function(){C(this.cancelToken)},methods:Lr({},Nr(["createNewApp"]),{},$r(["setNewAppModal"]),{},Ur("handleNewAppModal"),{showNewAppCreation:function(){this.setNewAppModal({status:!0})},closeNewAppModal:function(){this.setNewAppModal({status:!1})},refreshApps:function(){this.appList.refreshApps()}}),computed:Lr({},Fr(["newAppModal"]),{myApps:function(){return g(Er.myApps)},joinedApps:function(){return g(Er.joinedApps)},newAppCreationTag:function(){return g(Er.newAppCreation)}}),watch:Lr({},zr,{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"type","selectedType"),this.handleNewAppModal(t[0].query)},selectedType:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"type","selectedType",t)}})},Hr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Header",{staticClass:"header",style:e.headerStyle},[r("router-link",{staticClass:"logo",attrs:{to:{path:"/"}}},[r("Icon",{staticClass:"icon",attrs:{type:"md-desktop"}}),e._v("EZM 3.0 ")],1),e._l(e.navActions,(function(t,a){return r("span",{key:a,class:"nav-selection"+(t.active?" active":""),style:"text-align: center;"+("docs"!==t.value?"min-width: 100px;":""),on:{click:function(r){return e.activeNav(t)},mouseover:function(r){return e.mouseover(t)},mouseout:function(r){return e.mouseout(t)}}},["user"!==t.label?r("span",[e._v(e._s(t.label))]):r("span",[e._v(e._s(e.user.name))])])}))],2)],1)},Xr=[];function qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vr=m("user"),Kr=Vr.mapState,Qr=Vr.mapActions,Zr={user:{name:""}},Jr="MAIN_FLAG",ea={created:function(){this.cancelToken=T();var e=!0,t=!1,r=void 0;try{for(var a,n=this.navActions[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value;o.value===this.active&&(o.active=!0)}}catch(i){t=!0,r=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}Zr.user.name?this.user.name=Zr.user.name:this.getUserInfo({cancelToken:this.cancelToken.token})},beforeDestroy:function(){C(this.cancelToken)},methods:Yr({},Qr(["getUserInfo"]),{resetActiveNav:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.navActions[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value;o.active=!1}}catch(i){t=!0,r=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}},activeNav:function(e){if(["console"].includes(e.value)){this.resetActiveNav(),e.active=!0;var t="/".concat(e.value);if(this.$route.path!==t){var r={};"console"===e.value&&(this.owner?r.type="myApps":r.type="joinedApps"),this.$router.push({path:t,query:r})}}else if(e.href){var a=this.$router.resolve({path:e.href}),n=a.href;window.open(n,"_blank")}},mouseover:function(e){e.active?e[Jr]=!0:e.active=!0},mouseout:function(e){e[Jr]?delete e[Jr]:e.active=!1}}),computed:Yr({},Kr(["user_data"]),{headerStyle:function(){var e="";return this.color&&(e+="background-color: ".concat(this.color,";")),e}}),watch:{"user.name":function(){Zr.user.name=this.user.name},user_data:function(){var e=this.user_data||{};this.user.name=e.name||"Unknown"}}};function ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var aa=ra({props:{active:String,owner:Boolean,color:String},data:function(){return{user:{name:""},navActions:[{active:!1,label:g(Er.docs),value:"docs",href:""},{active:!1,label:g(Er.console),value:"console"},{active:!1,label:"user",value:"user",href:""}]}}},ea),na=aa,oa=(r("f69a"),Object(u["a"])(na,Hr,Xr,!1,null,"133eb058",null)),ia=oa.exports,sa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-loading",{attrs:{top:"35vh",loading:e.app_list_loading,type:"dot"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.app_list_load_error,expression:"app_list_load_error"}],attrs:{message:e.app_list_load_error,top:"calc(35vh - 20px)"}}),r("transition",{attrs:{name:"slide"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.app_list_loading&&!e.app_list_load_error,expression:"!app_list_loading && !app_list_load_error"}]},[r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:0===e.apps.length,expression:"apps.length === 0"}],attrs:{message:e.noAppTip,top:"calc(35vh - 20px)"}}),"myApps"===e.type&&e.invitations.length?r("x-invitations",{staticClass:"invitations",attrs:{invitations:e.invitations},on:{refreshApps:e.refreshApps}}):e._e(),e._l(e.apps,(function(t,a){return r("div",{key:a,staticClass:"app",style:a===e.apps.length-1?"margin-bottom: 80px":""},[r("div",{staticClass:"app-border background-image-china-style",style:"background-color: "+e.randomColor(a)}),r("div",{staticClass:"app-content"},[r("div",{staticClass:"app-content-title"},[r("div",{staticClass:"app-content-title-name background-image-china-style",style:"background-color: "+e.randomColor(a)},[r("p",[e._v(e._s(t.name))]),r("div",{staticStyle:{display:"flex"}},e._l(e.functions,(function(a,n){return r("div",{key:n,staticClass:"app-title-content-metric",style:0!==n?"margin-left: 10px;":""},[a.disabled&&a.disabled===e.type?e._e():r("div",[r("p",{staticStyle:{"font-size":"11px"}},[e._v(e._s(a.label))]),r("Icon",{staticClass:"app-content-select",attrs:{type:a.icon},on:{click:function(r){return e.goToFunction(t.appId,a.value)}}})],1)])})),0)]),r("div",{staticClass:"app-content-title-metric"},e._l(e.metrics,(function(a,n){return r("div",{key:n},[r("p",{staticClass:"app-content-title-metric-key"},[e._v(e._s(a.label))]),r("x-loading",{attrs:{loading:t[a.value+"Loading"],size:"small"}}),r("transition",{attrs:{name:"slide-noward"}},[r("p",{directives:[{name:"show",rawName:"v-show",value:!t[a.value+"Loading"],expression:"!app[`${metric.value}Loading`]"}],staticClass:"app-content-title-metric-value app-content-select",on:{click:function(r){return e.goToFunction2(t.appId,a.value)}}},[e._v(e._s(e.formatCount(t[a.value])))])])],1)})),0)]),r("div",{staticClass:"app-content-metrics"},[r("div",{staticStyle:{display:"flex",height:"100%","padding-bottom":"10px"}},e._l(e.mainMetrics,(function(a,n){return r("div",{key:n,staticClass:"app-content-metric"},[r("div",[e._v(e._s(a.label))]),r("x-loading",{attrs:{top:30,loading:t[a.value+"Loading"],size:"small",type:"dot"}}),r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t[a.value+"Loading"]&&t[a.value]&&0===t[a.value].length,expression:"!app[`${metric.value}Loading`] && app[metric.value] && app[metric.value].length === 0"}],staticClass:"no-data"},[e._v("-")])]),r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t[a.value+"Loading"]&&t[a.value]&&0!==t[a.value].length,expression:"!app[`${metric.value}Loading`] && app[metric.value] && app[metric.value].length !== 0"}]},[r("div",{staticClass:"instances"},e._l(t[a.value],(function(n,o){return r("Icon",{key:o,staticClass:"instance-ico",style:e.getInstanceStyle(n),attrs:{type:"md-egg",title:n.title},on:{click:function(r){return e.goToAgent(t.appId,a.value,n.agentId,n.pid)}}})})),1)])])],1)})),0)])])])}))],2)])],1)},ca=[];function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pa=m("consoler"),da=pa.mapState,fa=pa.mapActions,ha="instanceCount",va="alarmCount",ba="riskCount",ya="processCpuUsage",ga="processMemoryUsage",ma="systemCpuUsage",Oa="systemMemoryUsage",wa="diskUsage",ja={created:function(){this.cancelToken=T(),this.getApps({cancelToken:this.cancelToken.token,type:this.type})},beforeDestroy:function(){C(this.cancelToken)},methods:ua({},fa(["getApps","getOverviewMetrics","getMainMetrics"]),{formatCount:function(e){if(!j(e))return e;var t=e;return e>9999&&(t=(t/1e3).toFixed(1)+"K"),t},randomColor:function(e){var t=this.colors.length,r=this.colors[e%t];return r},getInstanceStyle:function(e){var t="color: ";return 0===e.status?t+="#c5c8ce":1===e.status?t+="#2a9446":2==e.status?t+="#f89501":t+="#e33900",t},handleApps:function(e){var t=[],r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value,l=Object.assign({},c);r.push(l),t.push(l.appId),l[ha]=0,l["".concat(ha,"Loading")]=!0,l[va]=0,l["".concat(va,"Loading")]=!0,l[ba]=0,l["".concat(ba,"Loading")]=!0,l[ya]=[],l["".concat(ya,"Loading")]=!0,l[ga]=[],l["".concat(ga,"Loading")]=!0,l[ma]=[],l["".concat(ma,"Loading")]=!0,l[Oa]=[],l["".concat(Oa,"Loading")]=!0,l[wa]=[],l["".concat(wa,"Loading")]=!0,this.getOverviewMetricData([ha,va,ba],l.appId),this.getMainMetricData(ya,l.appId),this.getMainMetricData(ga,l.appId),this.getMainMetricData(ma,l.appId),this.getMainMetricData(Oa,l.appId),this.getMainMetricData(wa,l.appId)}}catch(u){n=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r},handleInvitations:function(e){return e.map((function(e){var t=Object.assign({},e,{rejectLoading:!1,confirmLoading:!1});return t}))},getAppByAppId:function(e){var t=this.apps.filter((function(t){return t.appId===e}));return t[0]},setDataToApps:function(e,t,r){var a=this.getAppByAppId(e);if(a){var n=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value,u=r[l];j(u)?a[l]=u:a[l]="-",a["".concat(l,"Loading")]=!1}}catch(p){o=!0,i=p}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}}},setMainMetricDataToApp:function(e,t,r){var a=this.getAppByAppId(e);a&&(a[t]=r,a["".concat(t,"Loading")]=!1)},getOverviewMetricData:function(e,t){var r=this;this.getOverviewMetrics({cancelToken:this.cancelToken.token,appId:t}).then((function(a){return r.setDataToApps(t,e,a)})).catch((function(){return r.setDataToApps(t,e,{})}))},getMainMetricData:function(e,t){var r=this;this.getMainMetrics({cancelToken:this.cancelToken.token,urlKey:e,appId:t}).then((function(a){return r.setMainMetricDataToApp(t,e,a.list)})).catch((function(){return r.setMainMetricDataToApp(t,e,[])}))},goToFunction:function(e,t){this.$router.push({path:"/app/".concat(e,"/").concat(t)})},goToFunction2:function(e,t){var r="",a={};"instanceCount"===t?r="instance":"alarmCount"===t?r="alarm":"riskCount"===t&&(r="instance",a.tab="module_risk"),this.$router.push({path:"/app/".concat(e,"/").concat(r),query:a})},goToAgent:function(e,t,r,a){var n={};"processCpuUsage"===t||"processMemoryUsage"===t?(n.tab="process",n.agentId=r,n.pid=a):(n.tab="system",n.agentId=r),this.$router.push({path:"/app/".concat(e,"/instance"),query:n})},refreshApps:function(){C(this.cancelToken),this.cancelToken=T(),this.getApps({cancelToken:this.cancelToken.token,type:this.type})}}),computed:ua({},da(["app_list_loading","app_list_load_error","app_list_data"]),{noAppTip:function(){var e="";return e="myApps"===this.type?g(Er.noAppTipOnMyAccount):g(Er.noAppTipOnJoinedAccount),e}}),watch:{type:function(){this.refreshApps()},app_list_data:function(){var e=this.app_list_data,t=e.list,r=e.invitations;Array.isArray(t)&&(this.apps=this.handleApps(t)),Array.isArray(r)&&(this.invitations=this.handleInvitations(r))}}},_a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.invitations,(function(t,a){return r("div",{key:a,style:0!==a?"margin-top: 13px":""},[r("div",{staticClass:"invitation"},[r("div",{staticClass:"button-group"},[r("Button",{staticClass:"button",attrs:{type:"info",ghost:"",loading:t.rejectLoading,disabled:t.confirmLoading},on:{click:function(r){return e.rejectInvitation(t)}}},[e._v("谢绝邀请")]),r("Button",{staticClass:"button",staticStyle:{"margin-left":"8px"},attrs:{type:"info",loading:t.confirmLoading,disabled:t.rejectLoading},on:{click:function(r){return e.confirmInvitation(t)}}},[e._v("加入应用")])],1),r("div",{staticClass:"title"},[e._v("您收到了来自应用 "+e._s(t.appName)+" (Owner: "+e._s(t.ownerInfo)+") 的邀请！")]),r("div",{staticClass:"sub-title"},[e._v("加入应用后您可以查看应用完整的监控数据、访问和分析性能文件以协助定位 Node.js 应用故障")])])])})),0)},xa=[];function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Da=m("dashboard/team"),Sa=Da.mapActions,Ta={created:function(){this.cancelToken=T()},beforeDestroy:function(){C(this.cancelToken)},methods:ka({},Sa(["updateInviationStatus"]),{updateStatus:function(e,t,r){var a=this,n=e.appId;e[t]=!0,this.updateInviationStatus({cancelToken:this.cancelToken.token,appId:n,status:r}).then((function(){return a.$emit("refreshApps")})).catch((function(e){return a.$Message.error(e.message)})).then((function(){return e[t]=!1}))},rejectInvitation:function(e){this.updateStatus(e,"rejectLoading",0)},confirmInvitation:function(e){this.updateStatus(e,"confirmLoading",1)}})};function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ma=Aa({props:{invitations:Array}},Ta),Ea=Ma,Ia=(r("4ace"),Object(u["a"])(Ea,_a,xa,!1,null,"19d69d00",null)),La=Ia.exports;function Ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $a=Fa({props:{type:String},components:{"x-invitations":La},data:function(){return{colors:["#2d8cf0","#2db7f5","#19be6b","#5cadff","#f89501","#2b85e4","#ed4014","#c5c8ce"],functions:[{label:g(Er.instance),value:"instance",icon:"md-cloud"},{label:g(Er.file),value:"file",icon:"md-folder"},{label:g(Er.team),value:"team",icon:"md-people"},{label:g(Er.alarm),value:"alarm",icon:"ios-alarm"},{label:g(Er.settings),value:"setting",icon:"md-settings",disabled:"joinedApps"}],metrics:[{label:g(Er.instanceCount),value:"instanceCount"},{label:g(Er.rsikCount),value:"riskCount"},{label:g(Er.alarmCount),value:"alarmCount"}],mainMetrics:[{label:g(Er.processCpuUsage),value:"processCpuUsage"},{label:g(Er.processMemoryUsage),value:"processMemoryUsage"},{label:g(Er.systemCpuUsage),value:"systemCpuUsage"},{label:g(Er.systemMemoryUsage),value:"systemMemoryUsage"},{label:g(Er.diskUsage),value:"diskUsage"}],apps:[],invitations:[]}}},ja),Na=$a,Ba=(r("c1b5"),Object(u["a"])(Na,sa,ca,!1,null,"75e7baec",null)),Ua=Ba.exports,za=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"35px",viewBox:"0 0 89 28",version:"1.1"}},[r("title",[e._v("Logo")]),r("desc",[e._v("Created with Sketch Beta.")]),r("defs"),r("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[r("g",{attrs:{id:"Developer-Copy-3",transform:"translate(-207.000000, -14.000000)",fill:"#494949"}},[r("g",{attrs:{id:"logo"}},[r("g",{attrs:{id:"Logo",transform:"translate(207.000000, 14.000000)"}},[r("g",{attrs:{id:"Group-10",transform:"translate(44.000000, 5.000000)"}},[r("path",{attrs:{d:"M29.1177382,0.3234375 L28.8110889,2.9390625 C27.3614671,2.9390625 26.4554671,3.14999789 26.0930617,3.571875 L26.0930617,3.7546875 C26.6413161,4.45781602 26.9154392,5.24530814 26.9154392,6.1171875 C26.9154392,7.4578192 26.4252699,8.60155777 25.4449167,9.5484375 C24.4645635,10.4953172 23.0033481,10.96875 21.0612266,10.96875 C20.113397,10.96875 19.3374893,10.8937507 18.7334802,10.74375 C18.2409805,10.9687511 17.9947343,11.2640607 17.9947343,11.6296875 C17.9947343,12.2015654 18.2897651,12.6023426 18.8798355,12.8320312 C19.4699059,13.0617199 20.8428444,13.1765625 22.9986922,13.1765625 C26.7249636,13.1765625 28.5880713,14.4562372 28.5880713,17.015625 C28.5880713,18.815634 27.8121636,20.2453072 26.2603249,21.3046875 C24.7084862,22.3640678 22.8221477,22.89375 20.6012528,22.89375 C16.2523874,22.89375 14.0779873,21.5156388 14.0779873,18.759375 C14.0779873,17.9062457 14.3219104,17.1820342 14.8097639,16.5867187 C15.2976174,15.9914033 15.8621251,15.6281257 16.503304,15.496875 L16.503304,15.2859375 C15.7227384,14.78906 15.3324615,14.0296926 15.3324615,13.0078125 C15.3324615,11.9765573 15.8667692,11.114066 16.9354006,10.4203125 L16.9354006,10.2234375 C15.4300241,9.4640587 14.6773472,8.27813306 14.6773472,6.665625 C14.6773472,5.28749311 15.1953934,4.13437964 16.2315012,3.20625 C17.2676091,2.27812036 18.8682092,1.8140625 21.0333494,1.8140625 C22.5108485,1.8140625 23.7095562,2.09530969 24.6295085,2.6578125 L24.824649,2.6578125 C25.0941299,0.885928641 25.9954838,0 27.5287376,0 C28.1327467,0 28.6624082,0.107811422 29.1177382,0.3234375 L29.1177382,0.3234375 Z M25.1452368,18.05625 C25.1452368,17.3624965 24.8827291,16.860939 24.3577058,16.5515625 C23.8326825,16.242186 22.9290056,16.0875 21.6466479,16.0875 C20.6058938,16.0875 19.555863,16.0406255 18.496524,15.946875 C17.6787886,16.4343774 17.269927,17.1609327 17.269927,18.1265625 C17.269927,19.9265715 18.4593425,20.8265625 20.838209,20.8265625 C22.1670289,20.8265625 23.2170597,20.57344 23.9883329,20.0671875 C24.759606,19.560935 25.1452368,18.8906292 25.1452368,18.05625 L25.1452368,18.05625 Z M23.5004818,6.4828125 C23.5004818,5.63905828 23.2310049,4.9968772 22.692043,4.55625 C22.153081,4.1156228 21.5351425,3.8953125 20.838209,3.8953125 C20.1412754,3.8953125 19.5303062,4.10859162 19.0052829,4.53515625 C18.4802596,4.96172088 18.2177519,5.58749587 18.2177519,6.4125 C18.2177519,7.24687917 18.4872289,7.87968534 19.0261908,8.3109375 C19.5651527,8.74218966 20.1923835,8.9578125 20.907902,8.9578125 C21.5862506,8.9578125 22.1879276,8.74922084 22.7129509,8.33203125 C23.2379741,7.91484166 23.5004818,7.29844158 23.5004818,6.4828125 L23.5004818,6.4828125 Z",id:"egg"}}),r("path",{attrs:{d:"M12.6980658,7.509375 C12.6980658,7.98750239 12.6701889,8.61093366 12.6144342,9.3796875 L3.63797494,9.534375 C3.76806921,10.5937553 4.21874614,11.4749965 4.99001927,12.178125 C5.7612924,12.8812535 6.77415397,13.2328125 8.02863436,13.2328125 C9.42250146,13.2328125 10.9046246,13.0218771 12.4750482,12.6 L12.1962762,15.328125 C10.9139184,15.7968773 9.32493376,16.03125 7.4292745,16.03125 C5.03182309,16.03125 3.19426919,15.3515693 1.91655768,13.9921875 C0.638846172,12.6328057 0,10.9968846 0,9.084375 C0,7.08749002 0.606323094,5.35547609 1.81898747,3.88828125 C3.03165185,2.42108641 4.71588267,1.6875 6.87173045,1.6875 C8.84172929,1.6875 10.3052678,2.22655711 11.2623899,3.3046875 C12.2195119,4.38281789 12.6980658,5.78436638 12.6980658,7.509375 Z M9.43643309,7.3828125 C9.43643309,5.22655172 8.52578691,4.1484375 6.70446724,4.1484375 C4.96677958,4.1484375 3.9353334,5.26405134 3.61009774,7.4953125 L9.43643309,7.3828125 Z",id:"Combined-Shape"}}),r("path",{attrs:{d:"M44.8404805,0.3234375 L44.5338312,2.9390625 C43.0842094,2.9390625 42.1782094,3.14999789 41.815804,3.571875 L41.815804,3.7546875 C42.3640584,4.45781602 42.6381814,5.24530814 42.6381814,6.1171875 C42.6381814,7.4578192 42.1480122,8.60155777 41.167659,9.5484375 C40.1873058,10.4953172 38.7260904,10.96875 36.7839689,10.96875 C35.8361393,10.96875 35.0602315,10.8937507 34.4562225,10.74375 C33.9637228,10.9687511 33.7174766,11.2640607 33.7174766,11.6296875 C33.7174766,12.2015654 34.0125074,12.6023426 34.6025778,12.8320312 C35.1926482,13.0617199 36.5655867,13.1765625 38.7214345,13.1765625 C42.4477059,13.1765625 44.3108136,14.4562372 44.3108136,17.015625 C44.3108136,18.815634 43.5349059,20.2453072 41.9830672,21.3046875 C40.4312285,22.3640678 38.54489,22.89375 36.323995,22.89375 C31.9751297,22.89375 29.8007296,21.5156388 29.8007296,18.759375 C29.8007296,17.9062457 30.0446527,17.1820342 30.5325062,16.5867187 C31.0203597,15.9914033 31.5848674,15.6281257 32.2260463,15.496875 L32.2260463,15.2859375 C31.4454807,14.78906 31.0552037,14.0296926 31.0552037,13.0078125 C31.0552037,11.9765573 31.5895115,11.114066 32.6581429,10.4203125 L32.6581429,10.2234375 C31.1527664,9.4640587 30.4000895,8.27813306 30.4000895,6.665625 C30.4000895,5.28749311 30.9181357,4.13437964 31.9542435,3.20625 C32.9903514,2.27812036 34.5909515,1.8140625 36.7560917,1.8140625 C38.2335908,1.8140625 39.4322985,2.09530969 40.3522508,2.6578125 L40.5473912,2.6578125 C40.8168722,0.885928641 41.7182261,0 43.2514799,0 C43.855489,0 44.3851505,0.107811422 44.8404805,0.3234375 Z M39.2232241,6.4828125 C39.2232241,5.63905828 38.9537472,4.9968772 38.4147852,4.55625 C37.8758233,4.1156228 37.2578848,3.8953125 36.5609513,3.8953125 C35.8640177,3.8953125 35.2530485,4.10859162 34.7280252,4.53515625 C34.2030019,4.96172088 33.9404942,5.58749587 33.9404942,6.4125 C33.9404942,7.24687917 34.2099711,7.87968534 34.7489331,8.3109375 C35.287895,8.74218966 35.9151258,8.9578125 36.6306443,8.9578125 C37.3089929,8.9578125 37.9106699,8.74922084 38.4356931,8.33203125 C38.9607164,7.91484166 39.2232241,7.29844158 39.2232241,6.4828125 Z M40.8679791,18.05625 C40.8679791,17.3624965 40.6054714,16.860939 40.0804481,16.5515625 C39.5554248,16.242186 38.6517479,16.0875 37.3693901,16.0875 C36.328636,16.0875 35.2786052,16.0406255 34.2192662,15.946875 C33.4015309,16.4343774 32.9926693,17.1609327 32.9926693,18.1265625 C32.9926693,19.9265715 34.1820847,20.8265625 36.5609513,20.8265625 C37.8897712,20.8265625 38.939802,20.57344 39.7110752,20.0671875 C40.4823483,19.560935 40.8679791,18.8906292 40.8679791,18.05625 Z",id:"Combined-Shape"}})]),r("g",{attrs:{id:"Page-1"}},[r("path",{attrs:{d:"M7.2,15.1726335 L8,13.7933032 L12,20.6899548 L4,20.6899548 L7.2,15.1726335 L4,20.6900609 L0,13.7932766 L4,6.89662504 L8.00004,5.30920061e-05 L15.9999067,5.30920061e-05 L14.39996,2.75871372 L15.99996,5.30920061e-05 L20.0000933,6.89670468 L12,6.89670468 L4.00004619,6.89670468 L8,13.7932766 L7.2,15.1726335 Z M18.1236406,23.9257798 L16,27.5879867 L12,20.6900078 L20,20.6900078 L18.1236406,23.9257798 L20.0000933,20.6899548 L23.99996,27.5879336 L15.99996,27.5879336 L18.1236406,23.9257798 Z M24,13.7932766 L28,6.89662504 L32,13.7932766 L24,13.7932766 Z M12,6.89665158 L8,13.7933032 L4,6.89665158 L12,6.89665158 Z M15.99996,5.30920061e-05 L23.99996,5.30920061e-05 L27.99996,6.89670468 L20.0000933,6.89670468 L15.99996,5.30920061e-05 Z M28,6.89665158 L24,13.7933032 L20,6.89665158 L28,6.89665158 Z M3.99996,20.6900078 L11.99996,20.6900078 L15.99996,27.5879867 L8.00009333,27.5879867 L3.99996,20.6900078 Z",id:"Combined-Shape"}}),r("polygon",{attrs:{id:"Fill-12",points:"14.23244 17.2417219 12.23244 13.7932633 14.23244 10.3448048 18.23244 10.3448048 20.23244 13.7932633 18.23244 17.2417219"}})])])])])])])])},Ga=[],Wa={},Ha=Wa,Xa=Object(u["a"])(Ha,za,Ga,!1,null,null,null),qa=Xa.exports,Ya=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content",staticStyle:{"min-height":"120px"}},[r("x-loading",{attrs:{loading:e.new_app_loading,type:"dot",size:"middle",top:30}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.new_app_load_error,expression:"new_app_load_error"}],attrs:{message:e.new_app_load_error,top:10}}),e.new_app_loading||e.new_app_load_error||e.new_app_data?e._e():r("div",{staticClass:"x-modal-results new-app"},[r("Input",{attrs:{placeholder:"请输入您的应用名称"},model:{value:e.newAppName,callback:function(t){e.newAppName=t},expression:"newAppName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("应用名称")])]),e._m(0)],1),e.new_app_loading||e.new_app_load_error||!e.new_app_data?e._e():r("div",{staticClass:"x-modal-results"},e._l(e.newAppInfo,(function(t,a){return r("div",{key:a,staticClass:"new-app-group",style:0!==a?"margin-top: 13px":""},[r("div",{staticClass:"app-label"},[e._v(e._s(t.label)+" :")]),r("div",{staticClass:"app-value"},[e._v(e._s(t.value))])])})),0)],1),r("div",{staticClass:"x-modal-footer"},[e.new_app_loading?e._e():r("Button",{staticStyle:{"margin-right":"2px"},attrs:{type:"primary",ghost:""},on:{click:e.closeNewAppModal}},[e._v("关闭")]),e.new_app_loading||e.new_app_load_error||e.new_app_data?e._e():r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.submitNewAppCreation}},[e._v("提交")]),e.new_app_loading||e.new_app_load_error||!e.new_app_data?e._e():r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",to:{path:"/app/"+e.new_app_data.appId+"/instance"}}},[e._v("打开新应用")])],1)])},Va=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"modal-attention"},[r("strong",[e._v("注意:")]),r("span",{staticStyle:{"margin-left":"10px"}},[e._v("应用名称最大长度不能超过 30 个字符")])])}];function Ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Za=m("consoler"),Ja=Za.mapState,en=Za.mapMutations,tn=Za.mapActions,rn={created:function(){this.cancelToken=T(),this.set_new_app_load_error(void 0),this.set_new_app(void 0)},beforeDestroy:function(){C(this.cancelToken)},methods:Qa({},en(["setNewAppModal","set_new_app_load_error","set_new_app"]),{},tn(["createNewApp"]),{closeNewAppModal:function(){this.setNewAppModal({status:!1}),this.new_app_data&&this.$emit("refresh")},submitNewAppCreation:function(){var e=this.newAppName.trim();e?e.length>30?this.$Message.error("应用名称不能超过 30 个字符！"):this.createNewApp({cancelToken:this.cancelToken.token,newAppName:e}):this.$Message.error("应用名称不能为空！")}}),computed:Qa({},Ja(["new_app_loading","new_app_load_error","new_app_data"]),{newAppInfo:function(){var e=this.new_app_data;if(!e)return[];var t=[],r=e.appName,a=e.appId,n=e.appSecret;return r&&t.push({label:"应用名称",value:r}),a&&t.push({label:"应用 ID",value:a}),n&&t.push({label:"应用 Secret",value:n}),t}})};function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?an(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var on=nn({data:function(){return{newAppName:""}}},rn),sn=on,cn=(r("9ba8"),Object(u["a"])(sn,Ya,Va,!1,null,"b764c376",null)),ln=cn.exports;function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dn=pn({components:{"x-header":ia,"x-apps":Ua,"x-egg-logo":qa,"x-create-app":ln},data:function(){return{selectedType:void 0,valueWhiteList:{selectedType:["myApps","joinedApps"]},nessaryQueryArgs:["type"],modalQueryKey:"new-app"}}},Wr),fn=dn,hn=(r("b0c4"),Object(u["a"])(fn,Ar,Mr,!1,null,"153e1c88",null)),vn=hn.exports,bn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"19yjh91"===this.appName?"mirror":""},[r("x-header",{attrs:{active:"console",owner:e.currentUserIsOwner}}),r("div",{staticClass:"x-body"},[r("x-sider",{attrs:{active:e.menuTab,owner:e.currentUserIsOwner},on:{menuChanged:e.menuChanged}}),r("Content",[r("x-loading",{attrs:{loading:e.app_loading,top:"40vh",type:"dot"}}),e.app_load_error?r("x-error-message",{attrs:{message:e.app_load_error,top:"calc(40vh - 20px)"}}):e._e(),r("transition",{attrs:{name:"slide"}},[e.app_loading||e.app_load_error||!e.activeContent?e._e():r(e.activeContent.component,{tag:"component",attrs:{appName:e.appName,title:e.activeContent.title,currentUserIsOwner:e.currentUserIsOwner}})],1)],1)],1)],1)},yn=[];function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var On=m("dashboard"),wn=On.mapState,jn=On.mapMutations,_n=On.mapActions,xn={created:function(){this.cancelToken=T(),this.setAppId(Number(this.$route.params.appId)),this.menuTab=this.$route.params.menuTab},beforeDestroy:function(){C(this.cancelToken),this.setAppId(Number(void 0))},methods:mn({},jn(["setAppId"]),{},_n(["getAppInfo"]),{menuChanged:function(e){this.menuTab=e,this.$route.params.menuTab!==e&&this.$router.push({path:e})}}),computed:mn({},wn(["appId","app_loading","app_load_error","app_data"])),watch:{$route:function(e){this.menuTab=e.params.menuTab,this.setAppId(Number(e.params.appId))},appId:function(){this.getAppInfo(this.cancelToken.token)},menuTab:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.contentGroup[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value;o.value===this.menuTab&&(this.activeContent=o)}}catch(i){t=!0,r=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}},app_data:function(){var e=this.app_data||{};e.appName&&(this.appName=e.appName,this.currentUserIsOwner=e.currentUserIsOwner)}}},Pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Sider",{staticClass:"sider",attrs:{width:60}},e._l(e.menuGroup,(function(t,a){return r("div",{key:a,class:"menu"+(e.checkAuth(t)&&t.active?" active":""),on:{click:function(r){return e.changeMenu(t)},mouseover:function(r){return e.mouseover(t)},mouseout:function(r){return e.mouseout(t)}}},[r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.checkAuth(t),expression:"checkAuth(menu)"}]},[r("Icon",{staticClass:"menu-icon",attrs:{type:t.icon}}),r("p",{staticClass:"menu-name"},[e._v(e._s(t.label))])],1)])],1)})),0)],1)},kn=[],Dn="MAIN_FLAG",Sn={created:function(){this.activeMenuGroup(this.active)},methods:{activeMenuGroup:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=this.menuGroup[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.value===e&&(i.active=!0)}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}},resetMenuGroup:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.menuGroup[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value;o.active=!1}}catch(i){t=!0,r=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}},changeMenu:function(e){e.value!==this.active&&(e[Dn]=!0,this.$emit("menuChanged",e.value))},checkAuth:function(e){return"setting"!==e.value||this.owner},mouseover:function(e){e.active?e[Dn]=!0:e.active=!0},mouseout:function(e){e[Dn]?delete e[Dn]:e.active=!1}},watch:{active:function(){this.resetMenuGroup(),this.activeMenuGroup(this.active)}}};function Tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var An=Cn({props:{active:String,owner:Boolean},data:function(){return{menuGroup:[{label:g(Er.instance),value:"instance",icon:"md-cloud",active:!1},{label:g(Er.file),value:"file",icon:"md-folder",active:!1},{label:g(Er.team),value:"team",icon:"md-people",active:!1},{label:g(Er.alarm),value:"alarm",icon:"ios-alarm",active:!1},{label:g(Er.settings),value:"setting",icon:"md-settings",active:!1}]}}},Sn),Mn=An,En=(r("c165"),Object(u["a"])(Mn,Pn,kn,!1,null,"3ae851c8",null)),In=En.exports,Ln=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"detail-content"},[r("x-dashboard-title",{attrs:{appName:e.appName,dashboardTitle:e.title}},[r("template",{slot:"extra"},[r("x-loading",{style:e.agents_loading?"margin-left: 25px":"",attrs:{loading:e.agents_loading,top:5,size:"small"}}),r("transition",{attrs:{name:"slide"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.agents.length,expression:"agents.length"}]},[r("Select",{staticClass:"agent-selector",attrs:{size:"small",placeholder:e.placeholder,"not-found-text":e.notFoundText},model:{value:e.selectedAgentId,callback:function(t){e.selectedAgentId=t},expression:"selectedAgentId"}},e._l(e.agents,(function(t,a){return r("Option",{key:a,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1),r("Button",{staticClass:"agent-button",attrs:{type:"info",size:"small"},on:{click:e.checkAgent}},[e._v(e._s(e.checkAgentTip))])],1)])],1)],2),e.agents_load_error?r("x-error-message",{attrs:{message:e.agents_load_error,top:"calc(40vh - 55px)"}}):e._e(),e.agents_loading||e.agents_load_error?e._e():r("div",[e.agents.length?r("div",[r("transition",{attrs:{name:"slide-downward"}},[r("Tabs",{staticClass:"instance-tab",model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.instanceTabs,(function(e,t){return r("TabPane",{key:t,attrs:{label:e.label,icon:e.icon,name:e.value}})})),1)],1),r("transition",{attrs:{name:"slide"}},[e.selectedAgentId?r(e.activeComponent,{tag:"component",attrs:{appId:e.appId}}):e._e()],1)],1):r("x-error-message",{attrs:{message:"您的应用下尚未连接任何实例，请参照文档进行部署",top:"calc(40vh - 55px)"}})],1),r("x-check-agent")],1)},Rn=[];function Fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nn=m("dashboard"),Bn=Nn.mapState,Un=m("dashboard/instance"),zn=Un.mapState,Gn=Un.mapMutations,Wn=Un.mapActions,Hn={created:function(){this.cancelToken=T();var e=this.$route.query;this.selectedTab=e.tab||"process",this.selectedAgentId=e.agentId,this.getAgents(this.cancelToken.token)},beforeDestroy:function(){C(this.cancelToken)},methods:$n({},Gn(["setAgentId","setAgentModal"]),{},Wn(["getAgents"]),{formatAgents:function(e){return e.map((function(e){var t=e.agentId;return{label:t,value:t}}))},setDefaultAgent:function(){var e=this.agents.map((function(e){return e.value}));!(e.length>0)||this.selectedAgentId&&e.includes(this.selectedAgentId)||(this.selectedAgentId=e[0]),this.valueWhiteList.selectedAgentId=e},checkAgent:function(){this.setAgentModal({status:!0})}}),computed:$n({},Bn(["appId"]),{},zn(["agents_loading","agents_load_error","agents_data"]),{checkAgentTip:function(){return g(Er.checkAgent)},activeComponent:function(){var e="";switch(this.selectedTab){case"process":e="x-process";break;case"system":e="x-system";break;case"error_log":e="x-error-log";break;case"module_risk":e="x-module-risk";break;default:break}return e}}),watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"tab","selectedTab"),E.call(this,t,"agentId","selectedAgentId")},selectedTab:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"tab","selectedTab",t)},selectedAgentId:function(){this.setAgentId(this.selectedAgentId);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"agentId","selectedAgentId",t)},agents_data:function(){var e=this.agents_data;Array.isArray(e)&&(this.agents=this.formatAgents(e),this.setDefaultAgent())}}},Xn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.globalProcessTip,expression:"globalProcessTip"}],attrs:{message:e.globalProcessTip,top:"calc(30vh -  32px)"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.globalProcessTip,expression:"!globalProcessTip"}],staticClass:"panel"},[r("div",{staticStyle:{"text-align":"center"}},[r("x-loading",{attrs:{loading:e.xprofiler_processes_loading,top:"40vh",size:"middle",type:"dot"}})],1),e.xprofiler_processes_load_error?r("x-error-message",{attrs:{message:e.xprofiler_processes_load_error,top:"calc(40vh - 22px)"}}):e._e(),r("transition",{attrs:{name:"slide"}},[r("x-panel",{directives:[{name:"show",rawName:"v-show",value:!e.xprofiler_processes_loading&&!e.xprofiler_processes_load_error,expression:"!xprofiler_processes_loading && !xprofiler_processes_load_error"}],ref:"panel",staticStyle:{height:"100%"},attrs:{processes:e.xProcesses},on:{selectPid:e.selectPid}})],1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.globalProcessTip,expression:"!globalProcessTip"}],staticClass:"data"},[r("div",{staticClass:"process-line-body"},[r("div",{staticClass:"section-title"},[e._v(e._s(e.lineTitle))]),r("div",{staticStyle:{"text-align":"center"}},[r("x-loading",{attrs:{loading:e.xprofiler_processes_loading,top:55,size:"middle",type:"dot"}})],1),e.xprofiler_processes_load_error?r("x-error-message",{attrs:{message:e.xprofiler_processes_load_error,top:"30"}}):e._e(),r("transition",{attrs:{name:"slide-rightward"}},[r("x-line",{directives:[{name:"show",rawName:"v-show",value:!e.xprofiler_processes_loading&&!e.xprofiler_processes_load_error,expression:"!xprofiler_processes_loading && !xprofiler_processes_load_error"}],ref:"line",attrs:{processes:e.xProcesses},on:{selectPid:e.selectPid}})],1)],1),r("div",{staticClass:"process-catalogue-body"},[r("transition",{attrs:{name:"slide-rightward"}},[r("x-catalogue",{directives:[{name:"show",rawName:"v-show",value:!e.xprofiler_processes_loading&&!e.xprofiler_processes_load_error,expression:"!xprofiler_processes_loading && !xprofiler_processes_load_error"}],ref:"catalogue",attrs:{processes:e.xProcesses},on:{selectPid:e.selectPid}})],1)],1),r("div",{staticClass:"process-chart-body"},[r("div",{staticClass:"section-title"},[e._v("指标分布状况")]),r("div",{staticStyle:{"text-align":"center"}},[r("x-loading",{attrs:{loading:e.xprofiler_processes_loading,top:"calc(50vh - 175px)",size:"middle",type:"dot"}})],1),e.xprofiler_processes_load_error?r("x-error-message",{attrs:{message:e.xprofiler_processes_load_error,top:"calc(50vh - 197px)"}}):e._e(),r("div",{staticStyle:{"margin-top":"10px"}},[r("x-scatter",{ref:"scatter",attrs:{display:!e.xprofiler_processes_loading&&!e.xprofiler_processes_load_error,processes:e.xProcesses},on:{selectPid:e.selectPid}})],1)],1)])],1)},qn=[],Yn=(r("a630"),r("c975"),r("6062"),r("c1df")),Vn=r.n(Yn);function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zn=m("dashboard"),Jn=Zn.mapState,eo=m("dashboard/instance"),to=eo.mapState,ro=m("dashboard/instance/process"),ao=ro.mapState,no=ro.mapActions,oo={created:function(){this.cancelToken=T(),this.getXprofilerProcesses(this.cancelToken.token)},mounted:function(){this.line=this.$refs.line,this.panel=this.$refs.panel,this.catalogue=this.$refs.catalogue,this.scatter=this.$refs.scatter},beforeDestroy:function(){C(this.cancelToken)},methods:Qn({},no(["getXprofilerProcesses"]),{resetXprocesses:function(){this.globalProcessTip=void 0,this.selectedPid=void 0,this.xProcesses=[]},formatXprocesses:function(e){var t=this,r=Array.from(new Set(e.map((function(e){return e.cmd}))));return e.map((function(e){e=Object.assign({},e);var a=t.colors,n=r.indexOf(e.cmd);return e.color=a[n%a.length],e.selected=!1,e.startTimeFmt=Yn(e.startTime).format("YYYY-MM-DD HH:mm:SS"),e.updateTimeFmt=Yn(e.updateTime).format("YYYY-MM-DD HH:mm:SS"),e.cpuUsageFmt=e.cpuUsage+"%",e.heapUsageFmt=e.heapUsage+"%",e.gcUsageFmt=e.gcUsage+"%",e.rssFmt=k(e.rss,1),t.line.setLineData(e),t.scatter.setScatterData(e),e}))},setDefaultPid:function(){var e=this.$route.query;j(e.pid)?this.selectedPid=Number(e.pid):this.xProcesses.length>0&&(this.selectedPid=this.xProcesses[0].pid)},selectPid:function(e){var t=this.xProcesses[e];this.selectedPid=t.pid},dispatchProc:function(){var e,t=!0,r=!1,a=void 0;try{for(var n,o=this.xProcesses[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.pid==this.selectedPid&&(e=i)}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}e&&(this.line.updateSelectedProcess(e),this.panel.updateSelectedProcess(e),this.catalogue.updateSelectedProcess(e))}}),computed:Qn({},Jn(["appId"]),{},to(["agentId"]),{},ao(["colors","xprofiler_processes_loading","xprofiler_processes_load_error","xprofiler_processes_data"]),{lineTitle:function(){return g(Er.lineTitle)}}),watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"pid","selectedPid")},selectedPid:function(){if(this.selectedPid){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"pid","selectedPid",t),this.dispatchProc()}},agentId:function(){this.resetXprocesses(),this.getXprofilerProcesses(this.cancelToken.token)},xprofiler_processes_data:function(){var e=this.xprofiler_processes_data;!1!==e&&(Array.isArray(e)&&0!==e.length?(this.xProcesses=this.formatXprocesses(e),this.setDefaultPid()):this.globalProcessTip="无法连接到此实例，请确认此实例上的应用已安装并启动了 xtransit，且已正确配置 appid 和 secret")}}},io=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"line"},[r("div",{staticClass:"process-line-group"},e._l(e.processes,(function(t,a){return r("div",{key:a,staticStyle:{"background-color":"#e8eaec",width:"100%"}},[r("div",{staticClass:"process-line",style:e.getProcessLineStyle(a)+t.selectedStyle,on:{mouseover:function(r){return e.mouseover(t,r)},mousemove:function(r){return e.mousemove(t,r)},mouseout:function(t){return e.mouseout()},click:function(t){return e.selectPid(a)}}})])})),0),r("div",{staticClass:"process-line-label-group"},e._l(e.times,(function(t,a){return r("div",{key:a,staticClass:"process-line-label"},[r("div",[e._v(e._s(t.value))]),r("div",[e._v(e._s(t.label))])])})),0),r("x-tip",{ref:"tip"})],1)},so=[],co=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("x-tooltip",{ref:"tooltip"},[r("template",{slot:"header"},[r("div",{staticClass:"tooltip-header",style:"background-color: "+(e.activeXProcess?e.activeXProcess.color:"#f8f8f9")},[r("div",[e._v("PID: "+e._s(e.activeXProcess.pid))])])]),r("template",{slot:"content"},[r("div",{staticClass:"tooltip-content"},e._l(e.tooltipContent,(function(t,a){return r("div",{key:a,staticClass:"tooltip-content-group"},[r("div",{staticClass:"tooltip-content-group-key"},[e._v(e._s(t.key)+":")]),r("div",{staticClass:"tooltip-content-group-value"},[e._v(e._s(e.activeXProcess[t.value]))])])})),0)])],2)},lo=[],uo={mounted:function(){this.tooltip=this.$refs.tooltip},methods:{show:function(e,t,r){this.processData=e,this.tooltip.showToolTip(t,r)},remove:function(){this.tooltip.removeToolTip()}},computed:{activeXProcess:function(){var e=this.processData;return e||{pid:"未知",cmd:"未知"}}}};function po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?po(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ho=fo({data:function(){return{processData:void 0,tooltipContent:[{key:g(Er.cmd),value:"cmd"},{key:g(Er.startTime),value:"startTimeFmt"},{key:g(Er.updateTime),value:"updateTimeFmt"}]}}},uo),vo=ho,bo=(r("71d5"),Object(u["a"])(vo,co,lo,!1,null,"4de22307",null)),yo=bo.exports,go=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],mo={created:function(){this.setLastTime()},mounted:function(){this.tip=this.$refs.tip},methods:{setLineData:function(e){e.selectedStyle=""},setLastTime:function(){for(var e=[],t=Yn().day(),r=t,a=0;a<24;a+=2){var n=Yn().subtract(a,"hours"),o=n.hours();n.day()!==r?(r=n.day(),e.push({label:n.format("MM.DD"),value:go[n.day()]})):e.push({label:o<12?"AM":"PM",value:o})}this.times=e},getProcessLineStyle:function(e){var t=864e5,r=Date.now()-t,a=Date.now(),n=this.processes[e],o=n.startTime,i=n.updateTime;if(i<o||i<=r)return"";var s="background-color: "+n.color+";";return o>r&&(s+="margin-left:"+(o-r)/t*100+"%;"),a>i+18e4&&(s+="margin-right:"+(a-i)/t*100+"%;"),s},selectPid:function(e){this.$emit("selectPid",e)},resetSelectedStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!0,r=!1,a=void 0;try{for(var n,o=this.processes[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;e&&i.selected||(i.selected=!1,i.selectedStyle="")}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}},setBoxShadow:function(e){var t=1.3;e.selectedStyle="box-shadow: 0 0 0 2px ".concat(e.color.replace(")",", 0.4)"),";")+"-webkit-transform: scaleY(".concat(t,");transform: scaleY(").concat(t,");")+"transition: box-shadow .1s"},updateSelectedProcess:function(e){this.resetSelectedStyle(),e.selected=!0,this.setBoxShadow(e)},getLineWidth:function(){var e=window.getComputedStyle(this.$refs.line).width;return parseInt(e,10)+80},mouseover:function(e,t){this.resetSelectedStyle(!0),this.setBoxShadow(e),this.tip.show(e,this.getLineWidth(),t)},mousemove:function(e,t){this.tip.show(e,this.getLineWidth(),t)},mouseout:function(){this.resetSelectedStyle(!0),this.tip.remove()}}};function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jo=wo({props:{processes:Array},components:{"x-tip":yo},data:function(){return{times:[]}}},mo),_o=jo,xo=(r("a350"),Object(u["a"])(_o,io,so,!1,null,"64d5705a",null)),Po=xo.exports,ko=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{"text-align":"right"}},[r("Button",{staticClass:"check-button",attrs:{type:"info",size:"small"},on:{click:function(t){return e.openDrawer()}}},[r("Icon",{staticClass:"check-button-icon",attrs:{type:"md-apps"}}),e._v(" "+e._s(e.checkProcessesTag)+" ")],1)],1),r("div",{staticClass:"panel"},[r("div",{staticClass:"panel-title",style:e.panelStyle},[r("div",{staticClass:"panel-title-line"},[r("div",{staticClass:"panel-title-pid"},[e._v("PID: "+e._s(e.processData.pid))]),r("x-dropdown",{staticClass:"panel-title-dropdown",attrs:{title:e.processListTag}},[r("template",{slot:"content"},e._l(e.processes,(function(t,a){return r("div",{key:a,class:"x-dropdown-li"+(t.pid===e.processData.pid?" selected":""),on:{click:function(t){return e.selectPid(a)}}},[r("div",{staticClass:"panel-title-dropdown-dot",style:"background-color: "+t.color}),r("div",{staticClass:"panel-title-dropdown-pid"},[e._v(e._s(t.pid))]),r("div",{staticClass:"panel-title-dropdown-cmd",attrs:{title:t.cmd}},[e._v(e._s(t.cmd))])])})),0)],2)],1),r("div",{staticClass:"panel-title-cmd",attrs:{title:e.processData.cmd}},[e._v(e._s(e.processData.cmd))])]),r("div",{staticClass:"panel-content"},[r("div",{staticClass:"panel-content-metric"},[e._l(e.metrics,(function(t,a){return r("div",{key:a,staticClass:"panel-content-metric-group"},[r("div",{staticClass:"panel-content-metric-key"},[e._v(e._s(t.label))]),t.time?r("div",{staticClass:"panel-content-metric-value"},[r("p",[e._v(e._s(e.splitTime(e.processData[t.value])[1]||"-"))]),r("p",[e._v(e._s(e.splitTime(e.processData[t.value])[0]))])]):r("div",{staticClass:"panel-content-metric-value"},[e._v(e._s(e.processData[t.value]||"-"))])])})),r("div",{staticClass:"panel-chapter"},[e._v(e._s(e.processDetailTag))]),r("div",{staticClass:"panel-long-button"},[r("Button",{attrs:{size:"small",type:"primary",ghost:"",long:""},on:{click:e.checkXprofiler}},[r("div",{staticClass:"panel-button-value"},[e._v(e._s(e.checkXprofilerTag))])])],1),r("div",{staticClass:"panel-button"},e._l(e.detailButtons,(function(t,a){return r("div",{key:a,staticClass:"panel-normal-button"},[r("Button",{attrs:{size:"small",type:"info",long:""},on:{click:function(r){return e.actDetail(t.value)}}},[r("div",{staticClass:"panel-button-value"},[e._v(e._s(t.label))])])],1)})),0),r("div",{staticClass:"panel-chapter"},[e._v(e._s(e.actionsTag))]),r("div",{staticClass:"panel-button"},e._l(e.actionButtons,(function(t,a){return r("div",{key:a,staticClass:"panel-normal-button",style:a===e.actionButtons.length-1&&a%2===0?"width: 100%":""},[r("Button",{attrs:{size:"small",type:"info",long:""},on:{click:function(r){return e.takeAction(t.value)}}},[r("div",{staticClass:"panel-button-value"},[e._v(e._s(t.label))])])],1)})),0)],2)])]),r("x-check-xprofiler"),r("x-modal",{ref:"saveTrend",attrs:{title:"保存数据趋势",padding:0,"hide-footer":""},on:{canceled:e.closeSaveTrendModal}},[r("x-save-trend",{attrs:{slot:"content"},slot:"content"})],1),r("x-modal",{ref:"takeAction",attrs:{title:"抓取性能数据",padding:0,"hide-footer":""},on:{canceled:e.closeTakeActionModal}},[r("x-take-action",{attrs:{slot:"content"},slot:"content"})],1),r("x-drawer",{ref:"trend",on:{close:function(t){return e.closeTrendDrawer()}}},[r("template",{slot:"header"},[r("div",{staticClass:"processes-header"},[e._v("进程 "+e._s(e.processTrendData.pid)+" 数据趋势")])]),r("template",{slot:"content"},[r("div",{staticClass:"trend-content"},[r("x-trend")],1)])],2),r("x-drawer",{ref:"processes",on:{close:function(t){return e.closeDrawer()}}},[r("template",{slot:"header"},[r("div",{staticClass:"processes-header"},[e._v("实例 "+e._s(e.agentId)+" 存在以下 "+e._s(e.processCount)+" 个 Node.js 进程（不一定接入 Xprofiler 插件）")])]),r("template",{slot:"content"},[r("div",{staticClass:"process-content"},[r("x-node")],1)])],2)],1)},Do=[];function So(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?So(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):So(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Co=m("dashboard/instance"),Ao=Co.mapState,Mo=m("dashboard/instance/process"),Eo=Mo.mapState,Io=Mo.mapGetters,Lo=Mo.mapMutations,Ro=B("drawerQueryKey","processTrendDrawer","trend","setProcessTrendDrawer"),Fo=Ro.mapMethods,$o=Ro.mapWatch,No=Ro.handleMounted,Bo=B("drawerQueryKeyProcesses","processesDrawer","processes","setProcessesDrawer"),Uo=Bo.mapMethods,zo=Bo.mapWatch,Go=Bo.handleMounted,Wo=U("modalQueryKeySaveTrend","saveTrendModal","saveTrend","setSaveTrendModal"),Ho=Wo.mapMethods,Xo=Wo.mapWatch,qo=Wo.handleMounted,Yo=U("modalQueryKeyActions","takeActionModal","takeAction","setTakeActionModal"),Vo=Yo.mapMethods,Ko=Yo.mapWatch,Qo=Yo.handleMounted,Zo={mounted:function(){No.call(this,"handleProcessTrendDrawer",!0,"processData"),Go.call(this,"handleProcessesDrawer",!0),qo.call(this,"handleSaveTrendModal"),Qo.call(this,"handleActionModal")},methods:To({},Fo("handleProcessTrendDrawer"),{},Uo("handleProcessesDrawer"),{},Ho("handleSaveTrendModal"),{},Vo("handleActionModal"),{},Lo(["setXprofilerStatusModal","setSaveTrendModal","setTakeActionModal","setProcessTrendDrawer","setProcessesDrawer"]),{updateSelectedProcess:function(e){this.processData=e},splitTime:function(e){return e?e.split(" "):["",""]},selectPid:function(e){this.$emit("selectPid",e)},checkXprofiler:function(){this.setXprofilerStatusModal({status:!0,pid:this.processData.pid})},openDrawer:function(){this.setProcessesDrawer({status:!0})},closeDrawer:function(){this.setProcessesDrawer({status:!1})},actDetail:function(e){"processTrend"===e&&this.setProcessTrendDrawer({status:!0,processData:this.processData}),"saveProcessData"===e&&this.setSaveTrendModal({status:!0,processData:this.processData})},takeAction:function(e){this.setTakeActionModal({status:!0,actionData:{pid:this.processData.pid,action:e}})},closeTrendDrawer:function(){this.setProcessTrendDrawer({status:!1})},closeSaveTrendModal:function(){this.setSaveTrendModal({status:!1})},closeTakeActionModal:function(){this.setTakeActionModal({status:!1})}}),computed:To({},Ao(["agentId"]),{},Eo(["processTrendDrawer","processTrendData","processesDrawer","saveTrendModal","takeActionModal"]),{},Io(["processCount"]),{panelStyle:function(){var e=this.processData,t="";return e.color&&(t+="background-color: "+e.color+";"),t},checkProcessesTag:function(){return g(Er.checkProcesses)},processListTag:function(){return g(Er.processList)},processDetailTag:function(){return g(Er.processDetail)},checkXprofilerTag:function(){return g(Er.checkXprofiler)},actionsTag:function(){return g(Er.actions)}}),watch:To({},$o,{},zo,{},Xo,{},Ko,{$route:function(e){this.handleProcessTrendDrawer(e.query),this.handleProcessesDrawer(e.query),this.handleSaveTrendModal(e.query),this.handleActionModal(e.query)}})},Jo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"processes"},[r("x-loading",{attrs:{loading:e.processes_loading,top:"40vh",type:"dot",size:"large"}}),r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.processes_loading,expression:"!processes_loading"}]},[r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.processes_load_error,expression:"processes_load_error"}],attrs:{message:e.processes_load_error,top:"40vh"}}),r("x-table",{directives:[{name:"show",rawName:"v-show",value:!e.processes_load_error,expression:"!processes_load_error"}],attrs:{columns:e.processColumns,data:e.processes_data,fontSize:"14","no-data-head":"",noDataText:"没有在该实例上查找到任何 Node.js 进程",stribe:""},scopedSlots:e._u([{key:"command",fn:function(t){var a=t.row;return[r("div",{staticClass:"process-command"},[e._v(e._s(a.command))])]}},{key:"options",fn:function(t){var a=t.row;return[r("Button",{attrs:{type:"info",size:"small"},on:{click:function(t){return e.checkXprofiler(a)}}},[r("div",{staticClass:"process-check"},[e._v("插件状态")])])]}}])})],1)])],1)},ei=[];function ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ai=m("dashboard/instance/process"),ni=ai.mapState,oi=ai.mapMutations,ii=ai.mapActions,si={created:function(){this.cancelToken=T(),this.getNodeProcesses(this.cancelToken.token)},beforeDestroy:function(){C(this.cancelToken)},methods:ri({},oi(["setXprofilerStatusModal"]),{},ii(["getNodeProcesses"]),{checkXprofiler:function(e){this.setXprofilerStatusModal({status:!0,pid:e.pid})}}),computed:ri({},ni(["processes_loading","processes_load_error","processes_data"]))};function ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ui=li({data:function(){return{processColumns:[{title:"PID",value:"pid",width:"90"},{title:"进程启动命令",value:"command"},{title:"操作",value:"options",width:"110",align:"center"}]}}},si),pi=ui,di=(r("2eab"),Object(u["a"])(pi,Jo,ei,!1,null,"8fe2eaa4",null)),fi=di.exports,hi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-modal",{ref:"checkXprofiler",attrs:{title:"X-Profiler 插件状态",width:530},on:{canceled:e.closeXprofilerCheck}},[r("template",{slot:"content"},[r("div",{staticClass:"container"},[r("x-loading",{attrs:{loading:e.xprofiler_status_loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.xprofiler_status_load_error,expression:"xprofiler_status_load_error"}],attrs:{message:e.xprofiler_status_load_error}}),r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.xprofiler_status_loading&&!e.xprofiler_status_load_error,expression:"!xprofiler_status_loading && !xprofiler_status_load_error"}],staticClass:"content"},e._l(e.checkList,(function(t,a){return r("div",{key:a,staticClass:"xprofiler",style:t.style},[r("div",{domProps:{innerHTML:e._s(a+1+". "+t.label)}}),e._l(t.children,(function(t,a){return r("div",{key:a,staticClass:"xprofiler-status-group",style:0!==a?"margin-left: 15px":""},[t.dropdown?r("div",{staticClass:"dropdown"},[r("Icon",{style:t.style,attrs:{type:t.icon}}),r("x-dropdown",{attrs:{transformY:8}},[r("div",{staticClass:"dropdown-title xprofiler-status-label",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.label))]),r("div",{attrs:{slot:"content"},slot:"content"},e._l(t.children,(function(t,a){return r("div",{key:a,staticClass:"xprofiler-logdir-group x-dropdown-li"},[r("div",{staticClass:"dropdown-dot",style:"background-color: "+t.color+";"}),r("div",{domProps:{innerHTML:e._s(t.label)}})])})),0)])],1):r("div",{staticClass:"xprofiler-status"},[r("Icon",{style:t.style,attrs:{type:t.icon}}),r("div",{staticClass:"xprofiler-status-label"},[e._v(e._s(t.label))])],1)])}))],2)})),0)])],1)]),r("template",{slot:"footer"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.xprofiler_status_loading,expression:"!xprofiler_status_loading"}]},[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeXprofilerCheck}},[e._v("关闭")])],1)])],2)],1)},vi=[];r("4fad");function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function yi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gi=m("dashboard/instance/process"),mi=gi.mapState,Oi=gi.mapMutations,wi=gi.mapActions,ji=U("modalQueryKey","xprofilerStatusModal","checkXprofiler","setXprofilerStatusModal",void 0,"getXprofilerStatus","xprofiler_status_loading",["pid"]),_i=ji.mapMethods,xi=ji.mapWatch,Pi=ji.handleMounted,ki={created:function(){this.cancelToken=T()},mounted:function(){Pi.call(this,"handleXprofiler")},methods:yi({},Oi(["setXprofilerStatusModal"]),{},wi(["getXprofilerStatus"]),{},_i("handleXprofiler"),{closeXprofilerCheck:function(){this.setXprofilerStatusModal({status:!1})},getIconStyle:function(e,t){if(!this.xprofiler_status_data)return{icon:"md-help-circle"};var r=this.xprofiler_status_data[e];return t&&(r=this.xprofiler_status_data[e]&&this.xprofiler_status_data[e]===this.xprofiler_status_data[t]),{icon:r?"md-checkmark-circle":"md-close-circle",style:"color: "+(r?this.healthyColor:this.wrongColor)+";",color:r?this.healthyColor:this.wrongColor,status:r}}}),computed:yi({},mi(["xprofilerStatusModal","xprofilerCheckPid","xprofiler_status_loading","xprofiler_status_load_error","xprofiler_status_data"]),{pid:function(){return this.xprofilerCheckPid},installStatus:function(){return this.getIconStyle("installXprofiler")},enableStatus:function(){return this.getIconStyle("enableXprofiler")},logdirStatus:function(){return this.getIconStyle("xprofilerLogdir","xtransitLogdir")},validXprofiler:function(){var e=this.xprofiler_status_data;return e&&e.installXprofiler&&e.enableXprofiler},config:function(){var e=this.xprofiler_status_data;return e&&e.xprofilerConfig?Object.entries(e.xprofilerConfig).map((function(e){var t=Object(O["a"])(e,2),r=t[0],a=t[1];return{key:r,value:a}})):[]},versionInfo:function(){var e=this.xprofiler_status_data;if(!e)return"";var t=e.nodeVersion||"未知",r="进程 ".concat(this.pid,' 使用的运行时版本为 <code style="font-size: 12px;color: #2a9446;font-weight: bold;">').concat(t,"</code>"),a=e.xprofilerVersion;return this.validXprofiler&&a&&(r+='，插件版本为 <code style="font-size: 12px;color: #2a9446;font-weight: bold;">'.concat(a,"</code>")),r},checkList:function(){var e=this,t=this.installStatus,r=this.enableStatus,a=this.logdirStatus,n=this.xprofiler_status_data,o=this.validXprofiler;if(!n)return[];var i="margin-top: 8px;";return[{label:"插件 X-Profiler 状态：",children:[{label:t.status?"已安装":"未安装",icon:t.icon,style:t.style},{label:r.status?"已启用":"未启用",icon:r.icon,style:r.style},{label:a.status?"日志目录配置成功":"日志目录配置失败",icon:a.icon,style:a.style,dropdown:o,children:[{label:"配置 xprofiler 日志目录："+n.xprofilerLogdir,color:a.color},{label:"配置 xtransit 日志目录： "+n.xtransitLogdir,color:a.color}]}]},{label:"插件 X-Profiler 配置：",style:i,children:[{label:o?"配置获取成功":"无法获取配置",icon:o?"md-checkmark-circle":"md-close-circle",style:"color: "+(o?this.healthyColor:this.wrongColor)+";",dropdown:o,children:this.config.map((function(t){return{label:'<div style="font-size: 14px">'.concat(t.key,": ").concat(t.value,"</div>"),color:o?e.healthyColor:e.wrongColor}}))}]},{label:this.versionInfo,style:i}]}}),watch:yi({},xi,{$route:function(e){this.handleXprofiler(e.query)}})};function Di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Di(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ti=Si({data:function(){return{modalQueryKey:"check-xprofiler",healthyColor:"#2a9446",wrongColor:"#e33900"}}},ki),Ci=Ti,Ai=(r("4524"),Object(u["a"])(Ci,hi,vi,!1,null,"7f555d47",null)),Mi=Ai.exports,Ei=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticStyle:{"text-align":"center"}},[r("x-loading",{attrs:{loading:e.xprofiler_processes_loading,top:"40vh",size:"small",type:"dot"}})],1),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.xprofiler_processes_load_error,expression:"xprofiler_processes_load_error"}],attrs:{message:e.xprofiler_processes_load_error,top:"calc(40vh - 25px)"}}),r("transition",{attrs:{name:"slide-noward"}},[e.xprofiler_processes_loading||e.xprofiler_processes_load_error?e._e():r("div",[r("div",{staticClass:"panel",style:"background-color: "+e.color},[r("div",{staticClass:"line-group"},[r("div",{staticClass:"title"},[e._v("PID: "+e._s(e.proc.pid))]),r("div",{staticClass:"action"},e._l(e.bts,(function(t,a){return r("div",{key:a,staticClass:"bt-wrapper",on:{mouseover:function(r){return e.mouseover(t)},mouseout:function(r){return e.mouseout(t)},click:function(r){return e.takeAction(t)}}},[r("Button",{attrs:{long:"",type:t.ghost?"default":"text",ghost:t.ghost}},[r("div",{ref:t.value,refInFor:!0},[e._v(e._s(t.label))])])],1)})),0)]),r("div",{staticClass:"cmd"},[e._v(e._s(e.proc.cmd))])]),r("div",{staticClass:"trend-duration-wrapper"},[r("div",{staticClass:"tag-group trend-duration"},e._l(e.durationGroup,(function(t,a){return r("div",{key:a,class:"tag trend-duration-tag"+(e.duration===t.value?" tag-selected":""),on:{click:function(r){e.duration=t.value}}},[e._v(e._s(t.label))])})),0)]),e._l(e.chartGroup,(function(t,a){return r("div",{key:a},[r("div",{staticClass:"detail",style:"margin-top: 20px;"},e._l(t,(function(t,a){return r("x-trend-data",{key:a,ref:t.value,refInFor:!0,staticClass:"trend-data",attrs:{type:t.value,title:t.label,solid:t.solid,duration:e.duration},on:{linkage:e.linkage,hidden:e.hidden,broadcast:e.broadcast}})})),1),a!==e.chartGroup.length-1?r("div",{staticClass:"interval-section"}):e._e()])}))],2)])],1)},Ii=[];function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fi=m("dashboard/instance/process"),$i=Fi.mapState,Ni=Fi.mapMutations,Bi={methods:Ri({},Ni(["setTakeActionModal"]),{mouseover:function(e){e.ghost=!1;var t=this.$refs[e.value][0].style;t["font-weight"]="bold",t["color"]=this.color,t["font-style"]="italic"},mouseout:function(e){e.ghost=!0;var t=this.$refs[e.value][0].style;t["font-weight"]="normal",t["color"]="#fff",t["font-style"]="normal"},takeAction:function(e){this.setTakeActionModal({status:!0,actionData:{pid:this.proc.pid,action:e.value}})},showTip:function(e,t){var r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=this.$refs[s][0];c&&c.showTip(t)}}catch(l){a=!0,n=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}},handleBroadcase:function(e,t){var r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=this.$refs[s][0];c&&c.handleBroadcase(t)}}catch(l){a=!0,n=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}},hiddenTip:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;this.$refs[i][0].hiddenTip()}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}},linkage:function(e){this.showTip(this.chartRefs,e)},broadcast:function(e){this.handleBroadcase(this.chartRefs,e)},hidden:function(){this.hiddenTip(this.chartRefs)}}),computed:Ri({},$i(["colors","processTrendData","xprofiler_processes_loading","xprofiler_processes_load_error","xprofiler_processes_data"]),{cmdMap:function(){return Array.from(new Set(this.xprofiler_processes_data.map((function(e){return e.cmd}))))},proc:function(){var e=this.processTrendData.pid;return this.xprofiler_processes_data.filter((function(t){return Number(t.pid)===Number(e)}))[0]},color:function(){var e=this.colors,t=this.proc,r=this.cmdMap.indexOf(t.cmd);return e[r%e.length]||e[0]},chartRefs:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=this.chartGroup[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,s=!0,c=!1,l=void 0;try{for(var u,p=i[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value.value;e.push(d)}}catch(f){c=!0,l=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}catch(f){r=!0,a=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e}})},Ui=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"trend-title-group"},[r("div",{staticClass:"trend-title"},[e._v(e._s(e.title))]),r("transition",{attrs:{name:"slide-noward"}},[e.commonData.showStatus&&void 0!==e.trendStatus.status?r("div",{staticClass:"trend-status-group"},[r("div",{staticClass:"trend-status",style:e.statusLabelStyle},[e._v(e._s(e.trendStatus.statusLabel))]),r("div",{staticClass:"trend-tip"},[e._v(e._s(e.trendStatus.statusTip))])]):e._e()])],1),r("div",[r("div",{staticStyle:{"text-align":"center","margin-top":"13px"}},[r("x-loading",{attrs:{loading:e.loading,top:"100",type:"dot",size:"middle"}})],1),e.loadError?r("x-error-message",{attrs:{message:e.loadError,top:"100"}}):e._e(),r("transition",{attrs:{name:"slide-noward"}},[e.loading||e.loadError?e._e():r("div",{staticClass:"charts"},[e.solid?r("x-pie",{staticClass:"pie",attrs:{data:e.selectedData,yAxis:e.commonData.yAxis,yAxisUnit:e.commonData.yAxisUnit}}):e._e(),r("x-area",{ref:"area",staticClass:"main-chart",attrs:{xAxis:"time",data:e.chartData,yAxis:e.commonData.yAxis,yAxisUnit:e.commonData.yAxisUnit,noDataText:e.commonData.noDataText,showStatus:e.commonData.showStatus,solid:e.solid},on:{linkage:e.linkage,hidden:e.hidden,status:e.updateStatus,broadcast:e.broadcast}})],1)])],1)])},zi=[],Gi=r("53ca");function Wi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xi=m("dashboard/instance/process"),qi=Xi.mapActions,Yi={created:function(){this.cancelToken=T(),this.getTrendData()},beforeDestroy:function(){C(this.cancelToken)},methods:Hi({},qi(["getProcessTrend"]),{updateSelectedData:function(e){this.solid&&(this.selectedData=e)},getTrendData:function(){var e=this;this.loading=!0,this.getProcessTrend({cancelToken:this.cancelToken.token,trendType:this.type,duration:this.duration}).then((function(t){if(0!==Object.keys(t).length){var r=t.list;Array.isArray(r)&&(e.trendData=r),j(t.limit)&&(e.limit=t.limit),e.checkStatus(e.lastValidData),e.updateSelectedData(e.lastValidData),e.loading=!1}})).catch((function(t){e.loadError=t.message,e.loading=!1}))},setStatus:function(e,t){return e<60?t[0]:e<85?t[1]:t[2]},checkStatus:function(e){var t=this.type,r=this.limit,a={},n=["健康态","警告态","紧急态"];if("heapTrend"===t){var o=1024*e.heap_used*1024/r*100,i=["堆内存使用率在正常范围内 ( 0 - 60% )","堆内存使用率偏高 ( 60% - 85% )","堆内存使用率极高 ( 85%+ )"];a.status=o,a.statusLabel=this.setStatus(o,n),a.statusTip=this.setStatus(o,i)}if("cpuTrend"===t){var s=e.cpu_60,c=["一分钟内 CPU 平均使用率在正常范围内 ( 0 - 60% )","一分钟内 CPU 平均使用率偏高 ( 60% - 85% )","一分钟内 CPU 平均使用率极高 ( 85%+ )"];a.status=s,a.statusLabel=this.setStatus(s,n),a.statusTip=this.setStatus(s,c)}if("gcTrend"===t){var l=e.scavenge_duration*this.gcUnit.scale,u=e.marksweep_duration*this.gcUnit.scale,p=["一分钟内 GC 平均耗费在正常范围内 ( 0 - 5% )","一分钟内 GC 平均耗费偏高 ( 5% - 15% )","一分钟内 GC 平均耗费极高 ( 15%+ )"],d=(l+u)/6e4;a.status=d,a.statusLabel=this.setStatus(d,n),a.statusTip=this.setStatus(d,p)}this.trendStatus=a},updateStatus:function(e){this.checkStatus(e),this.updateSelectedData(e)},linkage:function(e){this.$emit("linkage",e)},broadcast:function(e){this.$emit("broadcast",e)},hidden:function(){this.$emit("hidden")},showTip:function(e){var t=this.$refs.area;t&&t.showTip(e)},hiddenTip:function(){var e=this.$refs.area;e&&e.hiddenTip()},handleBroadcase:function(e){var t=this.$refs.area;t&&t.handleBroadcase(e)}}),computed:{gcUnit:function(){var e=0,t=!0,r=!1,a=void 0;try{for(var n,o=this.trendData[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.scavenge_duration>e&&(e=i.scavenge_duration),i.marksweep_duration>e&&(e=i.marksweep_duration)}}catch(c){r=!0,a=c}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}var s={};return e<1e3?(s.label="ms",s.scale=1):(s.label="s",s.scale=1e3),s},commonData:function(){var e=this.type,t={yAxis:[],yAxisUnit:"",noDataText:"",showStatus:!1};return"heapTrend"===e&&(t.yAxis=["rss","heap_total","heap_used"],t.yAxisUnit="MB",t.noDataText="暂无内存趋势数据",t.showStatus=!0),"cpuTrend"===e&&(t.yAxis=["cpu_now","cpu_15","cpu_30","cpu_60"],t.yAxisUnit="%",t.noDataText="暂无 CPU 趋势数据",t.showStatus=!0),"heapSpaceTrend"===e&&(t.yAxis=["old_space","new_space","map_space","lo_space","code_space","read_only_space","new_lo_space","code_lo_space"],t.yAxisUnit="MB",t.noDataText="暂无堆空间趋势数据",t.showStatus=!0),"gcTrend"===e&&(t.yAxis=["scavenge_duration","marksweep_duration"],t.yAxisUnit=this.gcUnit.label,t.noDataText="暂无 GC 趋势数据",t.showStatus=!0),"uvTrend"===e&&(t.yAxis=["active_handles"],t.yAxisUnit="",t.noDataText="暂无 Libuv 趋势数据",t.showStatus=!0),"qpsTrend"===e&&(t.yAxis=["qps"],t.yAxisUnit="",t.noDataText="暂无 QPS 趋势数据",t.showStatus=!0),"timerTrend"===e&&(t.yAxis=["active_timers"],t.yAxisUnit="",t.noDataText="暂无 Timer 趋势数据",t.showStatus=!0),"tcpTrend"===e&&(t.yAxis=["active_tcp_handles"],t.yAxisUnit="",t.noDataText="暂无 TCP 趋势数据",t.showStatus=!0),"udpTrend"===e&&(t.yAxis=["active_udp_handles"],t.yAxisUnit="",t.noDataText="暂无 UDP 趋势数据",t.showStatus=!0),t},chartData:function(){var e=this.type,t=this.commonData,r=this.trendData;if(["heapTrend","heapSpaceTrend"].includes(e))return r.map((function(e){var r=!0,a=!1,n=void 0;try{for(var o,i=t.yAxis[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;e[s]=Math.round(e[s]/1024/1024)}}catch(c){a=!0,n=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return e}));if(["gcTrend"].includes(e)){var a=this.gcUnit.scale;return r.map((function(e){var r=Object.assign({},e),n=!0,o=!1,i=void 0;try{for(var s,c=t.yAxis[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;r[l]=e[l]/a}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}))}return r},lastValidData:function(){var e=this.commonData.yAxis,t=this.chartData,r=t.length,a=function(){r--;var a=t[r];if(e.every((function(e){return j(a[e])})))return{v:a}};while(r){var n=a();if("object"===Object(Gi["a"])(n))return n.v}},statusLabelStyle:function(){var e="",t=["#19be6b","#f89501","#ed4014"];return e+="background-color: "+this.setStatus(this.trendStatus.status,t)+";",e}},watch:{duration:function(){C(this.cancelToken),this.cancelToken=T(),this.getTrendData()}}};function Vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qi=Ki({props:{type:String,title:String,solid:Boolean,duration:Number},data:function(){return{loading:!1,loadError:void 0,trendData:[],trendStatus:{},limit:void 0,selectedData:{}}}},Yi),Zi=Qi,Ji=(r("048a"),Object(u["a"])(Zi,Ui,zi,!1,null,"688c61ae",null)),es=Ji.exports;function ts(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ts(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var as=rs({components:{"x-trend-data":es},data:function(){return{bts:[{label:"CPU Profile",value:"cpuprofile",ghost:!0},{label:"Heap Profile",value:"heapprofile",ghost:!0},{label:"GC 追踪",value:"gcprofile",ghost:!0},{label:"堆快照",value:"heapsnapshot",ghost:!0},{label:"Node.js 实时诊断",value:"diag",ghost:!0}],chartGroup:[[{label:"堆内存趋势",value:"heapTrend"},{label:"CPU 趋势",value:"cpuTrend"}],[{label:"堆空间组成",value:"heapSpaceTrend",solid:!0}],[{label:"GC 趋势",value:"gcTrend"},{label:"Libuv Active Handles 趋势",value:"uvTrend"}],[{label:"QPS 趋势",value:"qpsTrend"},{label:"Timer 趋势",value:"timerTrend"}],[{label:"TCP 趋势",value:"tcpTrend"},{label:"UDP 趋势",value:"udpTrend"}]],duration:24,durationGroup:[{label:"24H",value:24},{label:"3D",value:72},{label:"1W",value:168}]}}},Bi),ns=as,os=(r("92637"),Object(u["a"])(ns,Ei,Ii,!1,null,"57f8cdb9",null)),is=os.exports,ss=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-loading",{attrs:{loading:e.save_trend_loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.save_trend_load_error,expression:"save_trend_load_error"}],attrs:{message:e.save_trend_load_error}}),e.save_trend_loading||e.save_trend_load_error?e._e():r("div",{staticClass:"x-modal-results"},[r("p",[e._v(" 保存过去 24h 进程趋势数据成功，请访问 "),r("router-link",{staticClass:"x-modal-link",attrs:{to:{path:"/app/"+e.appId+"/file"},target:"_blank"}},[e._v("文件列表")]),e._v(" 查看详情。 ")],1),r("p",{staticStyle:{"margin-top":"8px"}},[e._v("文件名: "+e._s(e.save_trend_data))])])],1),r("div",{staticClass:"x-modal-footer"},[r("Button",{directives:[{name:"show",rawName:"v-show",value:!e.save_trend_loading,expression:"!save_trend_loading"}],attrs:{type:"primary",ghost:""},on:{click:e.closeSaveTrendModal}},[e._v("关闭")])],1)])},cs=[];function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ps=m("dashboard"),ds=ps.mapState,fs=m("dashboard/instance/process"),hs=fs.mapState,vs=fs.mapMutations,bs=fs.mapActions,ys={created:function(){this.cancelToken=T(),this.saveProcessTrend({cancelToken:this.cancelToken.token})},beforeDestroy:function(){C(this.cancelToken)},methods:us({},vs(["setSaveTrendModal"]),{},bs(["saveProcessTrend"]),{closeSaveTrendModal:function(){this.setSaveTrendModal({status:!1})}}),computed:us({},ds(["appId"]),{},hs(["save_trend_loading","save_trend_load_error","save_trend_data"]))};function gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gs(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Os=ms({},ys),ws=Os,js=Object(u["a"])(ws,ss,cs,!1,null,null,null),_s=js.exports,xs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-loading",{attrs:{loading:e.take_action_loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.take_action_load_error,expression:"take_action_load_error"}],attrs:{message:e.take_action_load_error}}),e.take_action_loading||e.take_action_load_error?e._e():r("div",{staticClass:"x-modal-results"},[r("p",[e._v(" "+e._s(e.actionTip)+"操作成功，请访问 "),r("router-link",{staticClass:"x-modal-link",attrs:{to:{path:"/app/"+e.appId+"/file"},target:"_blank"}},[e._v("文件列表")]),e._v(" 查看详情。 ")],1),r("p",{staticStyle:{"margin-top":"8px"}},[e._v("生成文件路径: "+e._s(e.take_action_data))])])],1),r("div",{staticClass:"x-modal-footer"},[r("Button",{directives:[{name:"show",rawName:"v-show",value:!e.take_action_loading,expression:"!take_action_loading"}],attrs:{type:"primary",ghost:""},on:{click:e.closeTakeActionModal}},[e._v("关闭")])],1)])},Ps=[];function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ss=m("dashboard"),Ts=Ss.mapState,Cs=m("dashboard/instance/process"),As=Cs.mapState,Ms=Cs.mapMutations,Es=Cs.mapActions,Is={created:function(){this.cancelToken=T(),this.takeAction({cancelToken:this.cancelToken.token})},beforeDestroy:function(){C(this.cancelToken)},methods:Ds({},Ms(["setTakeActionModal"]),{},Es(["takeAction"]),{closeTakeActionModal:function(){this.setTakeActionModal({status:!1})}}),computed:Ds({},Ts(["appId"]),{},As(["takeActionData","take_action_loading","take_action_load_error","take_action_data"]),{actionTip:function(){var e=this.takeActionData||{},t=e.action,r="";switch(t){case"cpuprofile":r="CPU 采样约 5min ";break;case"heapsnapshot":r="获取堆快照";break;case"heapprofile":r="Heap 采样约 5min ";break;case"gcprofile":r="GC 采样约 5min ";break;case"diag":r="获取诊断报告";break;default:break}return r}})};function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fs=Rs({},Is),$s=Fs,Ns=Object(u["a"])($s,xs,Ps,!1,null,null,null),Bs=Ns.exports;function Us(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Us(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gs=zs({props:{processes:Array},components:{"x-node":fi,"x-check-xprofiler":Mi,"x-trend":is,"x-save-trend":_s,"x-take-action":Bs},data:function(){return{processData:{pid:"未知"},metrics:[{label:g(Er.startTime),value:"startTimeFmt",time:!0},{label:g(Er.updateTime),value:"updateTimeFmt",time:!0},{label:g(Er.cpuUsage),value:"cpuUsageFmt"},{label:g(Er.heapMemory),value:"heapUsageFmt"},{label:g(Er.gcUsage),value:"gcUsageFmt"},{label:g(Er.rssUsage),value:"rssFmt"},{label:g(Er.uvHandles),value:"uvHandles"},{label:g(Er.timers),value:"timers"},{label:g(Er.tcpHandles),value:"tcpHandles"},{label:g(Er.udpHandles),value:"udpHandles"}],detailButtons:[{label:g(Er.processDataTrend),value:"processTrend"},{label:g(Er.saveProcessData),value:"saveProcessData"}],actionButtons:[{label:g(Er.cpuprofile),value:"cpuprofile"},{label:g(Er.heapsnapshot),value:"heapsnapshot"},{label:g(Er.heapprofile),value:"heapprofile"},{label:g(Er.gcprofile),value:"gcprofile"},{label:g(Er.diag),value:"diag"}],drawerQueryKey:"process-trend",drawerQueryKeyProcesses:"show-processes",modalQueryKeySaveTrend:"save-trend-data",modalQueryKeyActions:"take-actions"}}},Zo),Ws=Gs,Hs=(r("2738"),Object(u["a"])(Ws,ko,Do,!1,null,"37883ee8",null)),Xs=Hs.exports,qs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"catalogue"},e._l(e.catalogues,(function(t,a){return r("div",{key:a,staticStyle:{position:"relative"}},[r("div",{staticClass:"tag"},[r("x-dropdown",{staticStyle:{"padding-left":"17px"},attrs:{title:t.label,position:"left"}},[r("template",{slot:"content"},e._l(e.sort(t.value),(function(a,n){return r("div",{key:n,class:"x-dropdown-li"+(a.pid===e.processData.pid?" selected":""),on:{click:function(t){return e.selectPid(a)}}},[r("div",{staticClass:"catalogue-dropdown-dot",style:"background-color: "+a.color}),r("div",{staticClass:"catalogue-dropdown-pid"},[e._v(e._s(a.pid)+":")]),r("div",{staticClass:"catalogue-dropdown-fmt"},[e._v(e._s(a[t.fmt]))])])})),0)],2)],1)])})),0)},Ys=[],Vs={methods:{updateSelectedProcess:function(e){this.processData=e},selectPid:function(e){this.$emit("selectPid",this.processes.indexOf(e))},arrayCopy:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=this.processes[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;e.push(i)}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e},soryByKey:function(e){var t=this.arrayCopy();return t.sort((function(t,r){return Number(t[e])<Number(r[e])?1:-1})),t},sort:function(e){return"cpu"===e?this.soryByKey("cpuUsage"):"heapMemory"===e?this.soryByKey("heapUsage"):"rss"===e?this.soryByKey("rss"):"gc"===e?this.soryByKey("gcUsage"):"timer"===e?this.soryByKey("timers"):"tcp"===e?this.soryByKey("tcpHandles"):"udp"===e?this.soryByKey("udpHandles"):this.processes}}};function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zs=Qs({props:{processes:Array},data:function(){return{processData:{},catalogues:[{label:"CPU",value:"cpu",fmt:"cpuUsageFmt"},{label:"堆内存",value:"heapMemory",fmt:"heapUsageFmt"},{label:"物理内存 (RSS)",value:"rss",fmt:"rssFmt"},{label:"GC",value:"gc",fmt:"gcUsageFmt"},{label:"定时器数量",value:"timer",fmt:"timers"},{label:"TCP 连接数",value:"tcp",fmt:"tcpHandles"},{label:"UDP 连接数",value:"udp",fmt:"udpHandles"}]}}},Vs),Js=Zs,ec=(r("cf70"),Object(u["a"])(Js,qs,Ys,!1,null,"7e1f0b17",null)),tc=ec.exports,rc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"process-chart-group"},e._l(e.scatters,(function(t,a){return r("x-scatter",{key:a,staticClass:"process-scatter",attrs:{display:e.display,fields:t.fields,xAxisUnit:t.xAxisUnit,yAxisUnit:t.yAxisUnit,data:e.processes},on:{select:e.selectPid},scopedSlots:e._u([{key:"header",fn:function(t){var a=t.proc;return[r("div",{staticClass:"scatter-header",style:"background-color: "+a.color},[e._v("PID: "+e._s(a.pid))])]}},{key:"content",fn:function(t){var a=t.proc,n=t.fields,o=t.unit;return[r("div",{staticClass:"scatter-content"},[e._l(e.scatterContent,(function(t,n){return r("div",{key:n,staticClass:"scatter-content-group"},[r("div",{staticClass:"scatter-content-key"},[e._v(e._s(t.label))]),r("div",{staticClass:"scatter-content-value"},[e._v(e._s(a[t.value]))])])})),e._l(n,(function(t,n){return r("div",{key:t,staticClass:"scatter-content-group",staticStyle:{"margin-top":"3px"}},[r("div",{staticClass:"scatter-content-key"},[e._v(e._s(t))]),r("div",{staticClass:"scatter-content-value"},[e._v(e._s(a[t])+e._s(o[n]))])])}))],2)]}}],null,!0)})})),1)},ac=[],nc={methods:{selectPid:function(e){this.$emit("selectPid",e)},setScatterData:function(e){e.HEAP=Number(e.heapUsage),e.CPU=Number(e.cpuUsage),e.GC=Number(e.gcUsage),e.RSS=Number((e.rss/1024/1024).toFixed(2))}}};function oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sc=ic({props:{display:Boolean,processes:Array},data:function(){return{scatters:[{fields:["HEAP","CPU"],xAxisUnit:["%","-3.8em"],yAxisUnit:["%","0"]},{fields:["RSS","GC"],xAxisUnit:["MB","-3.8em"],yAxisUnit:["%","0"]}],scatterContent:[{label:"命令",value:"cmd"}]}}},nc),cc=sc,lc=(r("f342"),Object(u["a"])(cc,rc,ac,!1,null,"248a2047",null)),uc=lc.exports;function pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fc=dc({components:{"x-line":Po,"x-panel":Xs,"x-catalogue":tc,"x-scatter":uc},data:function(){return{selectedPid:void 0,xProcesses:[],nessaryQueryArgs:["tab","agentId"],globalProcessTip:void 0}}},oo),hc=fc,vc=(r("49b4"),Object(u["a"])(hc,Xn,qn,!1,null,"45d3b144",null)),bc=vc.exports,yc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-overview"),r("x-detail-info",{staticClass:"detail"})],1)},gc=[],mc={},Oc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"overview"},[r("div",{staticClass:"section-title"},[e._v("系统信息概览")]),r("x-pie2",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"pieCommon"}),r("x-loading",{attrs:{loading:e.overview_loading,type:"dot",size:"middle",top:105}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.overview_load_error,expression:"overview_load_error"}],attrs:{message:e.overview_load_error,top:80}}),r("transition",{attrs:{name:"slide-noward"}},[e.overview_loading||e.overview_load_error?e._e():r("div",{staticClass:"content"},[e._l(e.pies,(function(e,t){return r("div",{key:t,staticClass:"pie"},[e.fake?r("x-error-message",{attrs:{message:e.message}}):r("x-pie2",{attrs:{title:e.title,percentage:e.percentage}})],1)})),r("div",{staticClass:"pie"},[e.disks.fake?r("x-error-message",{attrs:{message:e.disks.message}}):r("x-pie2",{attrs:{title:e.disks.title,percentage:e.disks.percentage}},[e.disks.list.length?r("div",{attrs:{slot:"title"},slot:"title"},[r("x-dropdown",{attrs:{transformY:8}},[r("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.disks.title))]),r("div",{attrs:{slot:"content"},slot:"content"},e._l(e.disks.list,(function(t,a){return r("div",{key:a,staticClass:"disk-list x-dropdown-li"},[r("div",{staticClass:"status-dot",style:"background-color: "+e.getColor(t.percentage)+";"}),r("div",[e._v(e._s(t.disk))]),r("div",{staticClass:"disk-percentage"},[e._v(e._s(t.percentage)+"%")])])})),0)])],1):e._e()])],1),r("div",{staticClass:"pie metrics"},[e.currentMetrics.length?r("div",{staticStyle:{width:"100%"}},e._l(e.currentMetrics,(function(t,a){return r("div",{key:a,staticClass:"metric-content",style:0!==a&&t.length?"margin-top: 25px;":""},e._l(t,(function(t,a){return r("div",{key:a,staticClass:"metric-group"},[r("div",{staticClass:"metric-key"},[e._v(e._s(t.key))]),r("div",{staticClass:"metric-value"},[e._v(e._s(t.value))])])})),0)})),0):r("x-error-message",{attrs:{message:"暂无当前系统指标数据"}})],1)],2)])],1)},wc=[];function jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xc=j,Pc=D,kc=m("dashboard/instance"),Dc=kc.mapState,Sc=m("dashboard/instance/system"),Tc=Sc.mapState,Cc=Sc.mapActions,Ac={created:function(){this.cancelToken=T(),this.getSystemOverview({cancelToken:this.cancelToken.token})},mounted:function(){this.pieCommon=this.$refs.pieCommon},beforeDestroy:function(){C(this.cancelToken)},methods:_c({},Cc(["getSystemOverview"]),{getColor:function(e){return this.$refs.pieCommon.getColor(e)}}),computed:_c({},Tc(["overview_loading","overview_load_error","overview_data"]),{},Dc(["agentId"]),{pies:function(){var e=this.overview_data;if(!e)return[];var t=[];return xc(e.osCpu)?t.push({title:"CPU 使用率",percentage:e.osCpu}):t.push({fake:!0,message:"暂无系统 CPU 信息"}),xc(e.osMem)?t.push({title:"MEM 使用率",percentage:e.osMem}):t.push({fake:!0,message:"暂无系统 Memory 信息"}),t},disks:function(){var e=this.overview_data;if(!e)return{};var t={};return xc(e.maxDisk)?(t.title="Disk 使用率",t.percentage=e.maxDisk):(t.fake=!0,t.message="暂无系统磁盘信息"),e.disks?(t.list=Object.entries(e.disks).map((function(e){var t=Object(O["a"])(e,2),r=t[0],a=t[1];return{disk:r,percentage:a}})),t.list.sort((function(e,t){return e.percentage<t.percentage?1:-1}))):t.list=[],t},currentMetrics:function(){var e=this.overview_data;if(!e)return[];var t=[[],[],[]],r=e.load1,a=e.load5,n=e.load15,o=e.nodeCount,i=e.scavengeMax,s=e.scavengeAverage,c=e.marksweepMax,l=e.marksweepAverage,u=e.rtMax,p=e.rtAverage,d=e.qps;return xc(r)&&xc(a)&&xc(n)&&t[0].push({key:"Load1 / 5 / 15",value:"".concat(r," / ").concat(a," / ").concat(n)}),xc(o)&&t[0].push({key:"Node.js 进程数",value:o}),xc(i)&&xc(s)&&t[1].push({key:"Scavenge Max / Avg",value:"".concat(Pc(i)," / ").concat(Pc(s))}),xc(c)&&xc(l)&&t[1].push({key:"Marksweep Max / Avg",value:"".concat(Pc(c)," / ").concat(Pc(l))}),xc(u)&&xc(p)&&t[2].push({key:"RT Max / Avg",value:"".concat(Pc(u)," / ").concat(Pc(p))}),xc(d)&&t[2].push({key:"QPS",value:d}),t}}),watch:{agentId:function(){this.getSystemOverview({cancelToken:this.cancelToken.token})}}};function Mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ic=Ec({},Ac),Lc=Ic,Rc=(r("82b1"),Object(u["a"])(Lc,Oc,wc,!1,null,"7edc25d0",null)),Fc=Rc.exports,$c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"trend-duration-wrapper"},[r("div",{staticClass:"tag-group trend-duration"},e._l(e.durationGroup,(function(t,a){return r("div",{key:a,class:"tag trend-duration-tag"+(e.duration===t.value?" tag-selected":""),on:{click:function(r){e.duration=t.value}}},[e._v(e._s(t.label))])})),0)]),r("div",{staticClass:"section-title"},[e._v("系统信息周期详情")]),r("div",{staticClass:"charts"},e._l(e.chartGroup,(function(t,a){return r("div",{key:a},[r("div",{staticClass:"system-detail",style:0===a?"margin-top: 10px;":"margin-top: 20px;"},e._l(t,(function(t,a){return r("x-system-trend",{key:a,ref:t.value,refInFor:!0,staticClass:"system-trend-data",attrs:{type:t.value,title:t.label,solid:t.solid,duration:e.duration},on:{linkage:e.linkage,hidden:e.hidden,broadcast:e.broadcast}})})),1),a!==e.chartGroup.length-1?r("div",{staticClass:"interval-section"}):e._e()])})),0)])},Nc=[],Bc={created:function(){var e=this.$route.query;j(e.duration)?this.duration=Number(e.duration):this.duration=24},methods:{showTip:function(e,t){var r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=this.$refs[s][0];c&&c.showTip(t)}}catch(l){a=!0,n=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}},handleBroadcase:function(e,t){var r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=this.$refs[s][0];c&&c.handleBroadcase(t)}}catch(l){a=!0,n=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}},hiddenTip:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=e[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;this.$refs[i][0].hiddenTip()}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}},linkage:function(e){this.showTip(this.chartRefs,e)},hidden:function(){this.hiddenTip(this.chartRefs)},broadcast:function(e){this.handleBroadcase(this.chartRefs,e)}},computed:{chartRefs:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=this.chartGroup[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,s=!0,c=!1,l=void 0;try{for(var u,p=i[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value.value;e.push(d)}}catch(f){c=!0,l=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}catch(f){r=!0,a=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e}},watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"duration","duration")},duration:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"duration","duration",t)}}},Uc=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"trend-title-group"},[r("div",{staticClass:"trend-title system-title"},[e._v(" "+e._s(e.title)+" "),e.extra?r("span",{staticClass:"extra"},[e._v("("+e._s(e.extra)+")")]):e._e()])]),r("div",[r("div",{staticStyle:{"text-align":"center"}},[r("x-loading",{attrs:{loading:e.loading,top:"100",type:"dot",size:"middle"}})],1),e.loadError?r("x-error-message",{attrs:{message:e.loadError,top:"100"}}):e._e(),r("transition",{attrs:{name:"slide-noward"}},[e.loading||e.loadError?e._e():r("div",{staticClass:"charts"},[r("x-area",{ref:"area",staticClass:"main-chart",attrs:{xAxis:"time",data:e.chartData,yAxis:e.commonData.yAxis,yAxisUnit:e.commonData.yAxisUnit,noDataText:e.commonData.noDataText,solid:e.solid},on:{linkage:e.linkage,hidden:e.hidden,broadcast:e.broadcast}})],1)])],1)])},zc=[];function Gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Wc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hc=m("dashboard/instance"),Xc=Hc.mapState,qc=m("dashboard/instance/system"),Yc=qc.mapActions,Vc={created:function(){this.cancelToken=T(),this.getTrendData()},beforeDestroy:function(){C(this.cancelToken)},methods:Wc({},Yc(["getSystemTrend"]),{getTrendData:function(){var e=this;this.duration&&(this.loading=!0,this.getSystemTrend({cancelToken:this.cancelToken.token,trendType:this.type,duration:this.duration}).then((function(t){if(0!==Object.keys(t).length){var r=t.list,a=t.extra,n=t.yAxis;Array.isArray(r)&&(e.trendData=r),Array.isArray(n)&&n.length&&(e.yAxis=n),e.extra=a,e.loading=!1}})).catch((function(t){e.loadError=t.message,e.loading=!1})))},showTip:function(e){var t=this.$refs.area;t&&t.showTip(e)},hiddenTip:function(){var e=this.$refs.area;e&&e.hiddenTip()},handleBroadcase:function(e){var t=this.$refs.area;t&&t.handleBroadcase(e)},linkage:function(e){this.$emit("linkage",e)},hidden:function(){this.$emit("hidden")},broadcast:function(e){this.$emit("broadcast",e)},getTimeUnit:function(e){var t=0,r=!0,a=!1,n=void 0;try{for(var o,i=this.trendData[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value,c=!0,l=!1,u=void 0;try{for(var p,d=e[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;s[f]>t&&(t=s[f])}}catch(v){l=!0,u=v}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}}}catch(v){a=!0,n=v}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}var h={};return t<1e3?(h.label="ms",h.scale=1):(h.label="s",h.scale=1e3),h},formatTimeData:function(e){var t=this.trendData,r=this.commonData,a=this[e].scale;return t.map((function(e){var t=Object.assign({},e),n=!0,o=!1,i=void 0;try{for(var s,c=r.yAxis[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;t[l]=e[l]/a}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return t}))}}),computed:Wc({},Xc(["agentId"]),{gcUnit:function(){return this.getTimeUnit(["scavenge_avg","marksweep_avg"])},rtUnit:function(){return this.getTimeUnit(["response_time"])},commonData:function(){var e=this.type,t={yAxis:[],yAxisUnit:"",noDataText:""};return"osCpuTrend"===e&&(t.yAxis=["os_cpu"],t.yAxisUnit="%",t.noDataText="暂无系统 CPU 趋势数据"),"osMemoryTrend"===e&&(t.yAxis=["os_memory"],t.yAxisUnit="%",t.noDataText="暂无系统内存趋势数据"),"loadTrend"===e&&(t.yAxis=["load1","load5","load15"],t.yAxisUnit="",t.noDataText="暂无系统 Load 负载数据"),"nodeCountTrend"===e&&(t.yAxis=["node_count"],t.yAxisUnit="",t.noDataText="暂无系统 Node.js 进程数趋势数据"),"osGcTrend"===e&&(t.yAxis=["scavenge_avg","marksweep_avg"],t.yAxisUnit=this.gcUnit.label,t.noDataText="暂无整体 Node.js 进程 GC 数趋势数据"),"diskUsageTrend"===e&&(t.yAxis=this.yAxis,t.yAxisUnit="%",t.noDataText="暂无磁盘使用趋势数据"),"qpsTrend"===e&&(t.yAxis=["qps"],t.yAxisUnit="",t.noDataText="暂无 QPS 趋势数据"),"httpResponseTrend"===e&&(t.yAxis=["response_time"],t.yAxisUnit=this.rtUnit.label,t.noDataText="暂无 HTTP 响应数据"),t},chartData:function(){var e=this.type,t=this.trendData;return["osGcTrend"].includes(e)?this.formatTimeData("gcUnit"):["httpResponseTrend"].includes(e)?this.formatTimeData("rtUnit"):t}}),watch:{agentId:function(){this.getTrendData()},duration:function(){C(this.cancelToken),this.cancelToken=T(),this.getTrendData()}}};function Kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Qc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zc=Qc({props:{type:String,title:String,solid:Boolean,duration:Number},data:function(){return{loading:!1,loadError:void 0,trendData:[],extra:void 0,yAxis:[]}}},Vc),Jc=Zc,el=(r("204b"),Object(u["a"])(Jc,Uc,zc,!1,null,"1be8233d",null)),tl=el.exports;function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var nl=al({components:{"x-system-trend":tl},data:function(){return{chartGroup:[[{label:"系统 CPU 趋势",value:"osCpuTrend"},{label:"系统 Memory 趋势",value:"osMemoryTrend"}],[{label:"系统 Load 负载",value:"loadTrend"},{label:"Node.js 进程数",value:"nodeCountTrend"}],[{label:"整体 GC 状态",value:"osGcTrend"},{label:"磁盘使用率",value:"diskUsageTrend"}],[{label:"QPS 趋势",value:"qpsTrend"},{label:"HTTP 响应时间",value:"httpResponseTrend"}]],duration:void 0,durationGroup:[{label:"24H",value:24},{label:"3D",value:72},{label:"1W",value:168}],nessaryQueryArgs:["tab","agentId"]}}},Bc),ol=nl,il=(r("7fbd"),Object(u["a"])(ol,$c,Nc,!1,null,"e6c2c0ec",null)),sl=il.exports;function cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ul=ll({components:{"x-overview":Fc,"x-detail-info":sl}},mc),pl=ul,dl=(r("26db"),Object(u["a"])(pl,yc,gc,!1,null,"16c5f5e7",null)),fl=dl.exports,hl=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-error-files",{directives:[{name:"show",rawName:"v-show",value:!e.files_loading&&!e.files_load_error&&!e.logs_load_error,expression:"!files_loading && !files_load_error && !logs_load_error"}]}),e.errorFile?r("x-error-logs",{staticClass:"error-logs"}):e._e(),r("x-loading",{attrs:{loading:e.files_loading,type:"dot",size:"middle",top:"30vh"}}),r("x-loading",{attrs:{loading:e.logs_loading,type:"dot",size:"middle",top:"calc(30vh - 32px)"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:!e.files_loading&&e.files_load_error||!e.logs_loading&&e.logs_load_error,expression:"(!files_loading && files_load_error) || (!logs_loading && logs_load_error)"}],attrs:{message:e.files_load_error||e.logs_load_error,top:"calc(30vh -  25px)"}})],1)},vl=[];function bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function yl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gl=m("dashboard/instance/errors"),ml=gl.mapState,Ol={computed:yl({},ml(["errorFile","files_loading","files_load_error","logs_loading","logs_load_error"]))},wl=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("transition",{attrs:{name:"slide"}},[r("Select",{directives:[{name:"show",rawName:"v-show",value:e.files_data.length,expression:"files_data.length"}],staticClass:"agent-selector error-files-selector",model:{value:e.selectedErrorFile,callback:function(t){e.selectedErrorFile=t},expression:"selectedErrorFile"}},e._l(e.files_data,(function(t,a){return r("Option",{key:a,attrs:{value:t.value}},[e._v(e._s(t.value))])})),1)],1)],1)},jl=[];function _l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pl=m("dashboard/instance"),kl=Pl.mapState,Dl=m("dashboard/instance/errors"),Sl=Dl.mapState,Tl=Dl.mapMutations,Cl=Dl.mapActions,Al={created:function(){this.cancelToken=T(),this.getErrorFiles({cancelToken:this.cancelToken.token})},beforeDestroy:function(){this.reset(),C(this.cancelToken)},methods:xl({},Cl(["getErrorFiles"]),{},Tl(["set_files_load_error","setErrorFile"]),{reset:function(){this.set_files_load_error(void 0),this.setErrorFile(void 0),this.selectedErrorFile=void 0}}),computed:xl({},Sl(["files_data"]),{},kl(["agentId"]),{errorFiles:function(){return!!this.files_data.length}}),watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"file","selectedErrorFile")},files_data:function(){if(this.errorFiles){this.set_files_load_error(void 0);var e=this.$route.query,t=this.files_data.map((function(e){return e.value}));this.valueWhiteList.selectedErrorFile=t,e.file&&t.includes(e.file)?this.selectedErrorFile=decodeURIComponent(e.file):this.selectedErrorFile=this.files_data[0].value}else this.set_files_load_error("项目下暂无错误日志信息，请查看您的 xtransit 是否正确配置了 error_logs 错误日志文件路径数组")},selectedErrorFile:function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],o=r[1];o&&n&&o!==n&&this.setErrorFile(void 0),setTimeout((function(){return e.setErrorFile(e.selectedErrorFile)}),0),this.selectedErrorFile&&I.call(this,"file","selectedErrorFile",r)},agentId:function(){this.reset(),this.getErrorFiles({cancelToken:this.cancelToken.token})}}};function Ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ml(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Il=El({data:function(){return{selectedErrorFile:void 0,nessaryQueryArgs:["tab","agentId"],valueWhiteList:{selectedErrorFile:[]}}}},Al),Ll=Il,Rl=(r("f893"),Object(u["a"])(Ll,wl,jl,!1,null,"72aa475e",null)),Fl=Rl.exports,$l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.logs_loading&&!e.logs_load_error,expression:"!logs_loading && !logs_load_error"}]},[r("x-table",{attrs:{columns:e.columns,data:e.errors,noDataText:"当前应用暂无错误信息","no-data-head":"",border:"",stribe2:""},scopedSlots:e._u([{key:"occuredTime",fn:function(t){var a=t.row;return[r("div",{staticClass:"error-content"},[r("code",[e._v(e._s(a.date))])]),r("div",{staticClass:"error-content",staticStyle:{"margin-top":"5px"}},[r("code",[e._v(e._s(a.time))])])]}},{key:"errorType",fn:function(t){var a=t.row;return[r("code",{staticClass:"error-content"},[e._v(e._s(a.type))])]}},{key:"errorDetail",fn:function(t){var a=t.row;return[r("div",{staticClass:"error-content"},[e._l(a.stack,(function(t,a){return r("div",{key:a},[0===a?r("code",[e._v(e._s(t))]):r("code",{staticStyle:{"margin-left":"15px"}},[e._v(e._s(t))])])})),a.extra.length?r("div",e._l(a.extra,(function(t,a){return r("div",{key:a},[r("code",[e._v(e._s(t))])])})),0):e._e()],2)]}}])}),e.totaLogCount?r("div",{staticClass:"pagination"},[r("Page",{attrs:{total:e.totaLogCount,"page-size":e.pageSize,current:e.currentPage,size:"small","show-elevator":""},on:{"on-change":e.changeLogPage}})],1):e._e()],1)])},Nl=[];function Bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zl=m("dashboard/instance/errors"),Gl=zl.mapState,Wl=zl.mapMutations,Hl=zl.mapActions,Xl={created:function(){this.cancelToken=T();var e=this.$route.query;e.page?this.currentPage=Number(e.page):this.currentPage=1},beforeDestroy:function(){C(this.cancelToken),this.set_logs_load_error(void 0)},methods:Ul({},Wl(["set_logs_load_error"]),{},Hl(["getErrorLogs"]),{changeLogPage:function(e){this.currentPage=e}}),computed:Ul({},Gl(["logs_loading","logs_load_error","logs_data"]),{errors:function(){var e=this.logs_data,t=e.list,r=e.count;return Array.isArray(t)?(j(r)&&(this.totaLogCount=r),t.map((function(e){var t=Vn()(Number(e.timestamp)).format("YYYY-MM-DD HH:mm:SS").split(" ");return{date:t[0],time:t[1],type:e.type,stack:e.stack.split("\n"),extra:e.extra.split("\n")}}))):[]}}),watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"page","currentPage")},currentPage:function(){if(this.currentPage){this.getErrorLogs({cancelToken:this.cancelToken.token,currentPage:this.currentPage,pageSize:this.pageSize});for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"page","currentPage",t)}}}};function ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vl=Yl({data:function(){return{currentPage:void 0,pageSize:20,totaLogCount:0,columns:[{title:"发生时间",value:"occuredTime",align:"center",width:120},{title:"错误类型",value:"errorType",align:"center",width:150},{title:"详细错误堆栈",value:"errorDetail"}],nessaryQueryArgs:["tab","agentId","file"]}}},Xl),Kl=Vl,Ql=(r("1923"),Object(u["a"])(Kl,$l,Nl,!1,null,"1788ef68",null)),Zl=Ql.exports;function Jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tu=eu({components:{"x-error-files":Fl,"x-error-logs":Zl}},Ol),ru=tu,au=(r("a2ba"),Object(u["a"])(ru,hl,vl,!1,null,"31b6fa09",null)),nu=au.exports,ou=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-module-files",{directives:[{name:"show",rawName:"v-show",value:!e.files_loading&&!e.files_load_error&&!e.module_load_error,expression:"!files_loading && !files_load_error && !module_load_error"}]}),e.moduleFile?r("x-module-detail",{staticClass:"module-detail"}):e._e(),r("x-loading",{attrs:{loading:e.files_loading,type:"dot",size:"middle",top:"30vh"}}),r("x-loading",{attrs:{loading:e.module_loading,type:"dot",size:"middle",top:"calc(30vh - 72px)"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:!e.files_loading&&e.files_load_error||!e.module_loading&&e.module_load_error,expression:"(!files_loading && files_load_error) || (!module_loading && module_load_error)"}],attrs:{message:e.files_load_error||e.module_load_error,top:"calc(30vh -  25px)"}})],1)},iu=[];function su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function cu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?su(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lu=m("dashboard/instance/modules"),uu=lu.mapState,pu={computed:cu({},uu(["moduleFile","files_loading","files_load_error","module_loading","module_load_error"]))},du=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("transition",{attrs:{name:"slide"}},[r("Alert",{directives:[{name:"show",rawName:"v-show",value:e.files_data.length,expression:"files_data.length"}],staticClass:"x-alert",attrs:{type:e.riskTip.alertType}},[r("div",{staticClass:"alert-group"},[r("Icon",{style:"color: "+e.riskTip.color+";",attrs:{type:e.riskTip.iconType}}),r("div",{staticClass:"alert-desc",domProps:{innerHTML:e._s(e.riskTip.tip)}})],1)])],1),r("div",{staticClass:"tab"},[r("transition",{attrs:{name:"slide"}},[r("Select",{directives:[{name:"show",rawName:"v-show",value:e.files_data.length,expression:"files_data.length"}],staticClass:"agent-selector module-files-selector",model:{value:e.selectedModuleFile,callback:function(t){e.selectedModuleFile=t},expression:"selectedModuleFile"}},e._l(e.files_data,(function(t,a){return r("Option",{key:a,attrs:{value:t.value}},[e._v(e._s(t.value))])})),1)],1),r("transition",{attrs:{name:"slide"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.files_data.length,expression:"files_data.length"}],staticClass:"tag-group"},[r("div",{class:"tag"+(e.dependencies?" tag-selected":""),on:{click:function(t){return e.changeDevType(!0)}}},[e._v("dependencies")]),r("div",{class:"tag"+(e.dependencies?"":" tag-selected"),on:{click:function(t){return e.changeDevType(!1)}}},[e._v("devDependencies")])])])],1)],1)},fu=[];r("a15b9");function hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bu=m("dashboard/instance"),yu=bu.mapState,gu=m("dashboard/instance/modules"),mu=gu.mapState,Ou=gu.mapMutations,wu=gu.mapActions,ju={created:function(){this.cancelToken=T(),this.getModuleFiles({cancelToken:this.cancelToken.token})},beforeDestroy:function(){this.reset(),C(this.cancelToken)},methods:vu({},wu(["getModuleFiles"]),{},Ou(["set_files_load_error","setModuleFile","setShowDependencies","setRiskModules"]),{reset:function(){this.set_files_load_error(void 0),this.setModuleFile(void 0),this.setRiskModules(void 0),this.selectedModuleFile=void 0},formatRisk:function(e,t){return'<code style="color: '.concat(t,';">').concat(e,"</code>")},setRiskTip:function(e,t){var r=[];return e.critical&&r.push("".concat(this.formatRisk(e.critical,t)," 个极危漏洞")),e.high&&r.push("".concat(this.formatRisk(e.high,t)," 个高危漏洞")),e.moderate&&r.push("".concat(this.formatRisk(e.moderate,t)," 个中危漏洞")),e.low&&r.push("".concat(this.formatRisk(e.low,t)," 个低危漏洞")),"发现 ".concat(r.join("，"))},changeDevType:function(e){this.dependencies=e}}),computed:vu({},mu(["files_data"]),{},yu(["agentId"]),{moduleFiles:function(){return!!this.files_data.length},riskTip:function(){var e=this,t={},r=this.files_data.filter((function(t){return t.value===e.selectedModuleFile}));if(!r.length)return t;var a=r[0].risk,n=a.vulnerabilities||{},o="当前项目引入的 Npm 模块",i="（扫描 <code>".concat(a.totalDependencies,"</code> 个模块于 <code>").concat(a.scanTime,"</code>）");return n.critical||n.high?(t.alertType="error",t.iconType="ios-alert-outline",t.color="#e33900",t.tip=this.setRiskTip(a.vulnerabilities,t.color)):n.moderate?(t.alertType="warning",t.iconType="ios-alert-outline",t.color="#f89501",t.tip=this.setRiskTip(a.vulnerabilities,t.color)):n.low?(t.alertType="info",t.iconType="ios-alert-outline",t.color="#2376b7",t.tip=this.setRiskTip(a.vulnerabilities,t.color)):(t.alertType="success",t.iconType="ios-checkmark-circle-outline",t.color="#2a9446",t.tip="不存在安全风险"),t.tip="".concat(o).concat(t.tip).concat(i),t}}),watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"file","selectedModuleFile"),E.call(this,t,"dependencies","dependencies")},files_data:function(){if(this.moduleFiles){this.set_files_load_error(void 0);var e=this.$route.query,t=this.files_data.map((function(e){return e.value}));this.valueWhiteList.selectedModuleFile=t,e.file&&t.includes(e.file)?this.selectedModuleFile=decodeURIComponent(e.file):this.selectedModuleFile=this.files_data[0].value}else this.set_files_load_error("项目下暂无模块信息，请查看您的 xtransit 是否正确配置了 packages 模块文件路径数组")},selectedModuleFile:function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],o=r[1];if(o&&n&&o!==n&&(this.setModuleFile(void 0),this.setRiskModules(void 0)),setTimeout((function(){e.setModuleFile(e.selectedModuleFile);var t=!0,r=!1,a=void 0;try{for(var n,o=e.files_data[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.value===e.selectedModuleFile&&e.setRiskModules(i.riskModules)}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}),0),this.selectedModuleFile){I.call(this,"file","selectedModuleFile",r);var i=this.$route.query;_(i.dependencies)?this.dependencies=x(i.dependencies):this.dependencies=!0}},dependencies:function(){this.setShowDependencies(this.dependencies);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"dependencies","dependencies",t)},agentId:function(){this.reset(),this.getModuleFiles({cancelToken:this.cancelToken.token})}}};function _u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pu=xu({data:function(){return{selectedModuleFile:void 0,dependencies:void 0,nessaryQueryArgs:["tab","agentId","file"],valueWhiteList:{selectedModuleFile:[]}}}},ju),ku=Pu,Du=(r("6652"),Object(u["a"])(ku,du,fu,!1,null,"7f0a8604",null)),Su=Du.exports,Tu=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.module_loading&&!e.module_load_error,expression:"!module_loading && !module_load_error"}]},[r("x-table",{attrs:{columns:e.columns,data:e.modules,noDataText:"当前应用暂无模块依赖信息","no-data-head":""},scopedSlots:e._u([{key:"moduleName",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding name font"},[a.resolved?r("a",{attrs:{href:a.resolved,download:a.name,target:"_blank"}},[e._v(e._s(a.name))]):r("div",[e._v(e._s(a.name))])])]}},{key:"packageVersion",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding font"},[e._v(e._s(a.version))])]}},{key:"packageLockVersion",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding font"},[e._v(e._s(a.lockVersion))])]}},{key:"securityRisk",fn:function(t){var a=t.row;return[a.risk?r("div",{staticClass:"padding"},[r("div",{staticClass:"risk-label font",style:"color: "+a.color+";",on:{click:function(t){return e.openRiskModal(a)}}},[e._v(e._s(a.level))])]):r("div",{staticClass:"padding"},[r("Icon",{staticClass:"no-risk",attrs:{type:"md-checkmark"}})],1)]}}])}),r("x-modal",{ref:"riskDetail",attrs:{title:"安全风险详情",padding:0,"hide-footer":"",fullscreen:""},on:{canceled:e.closeRiskModal}},[r("x-risk-message",{attrs:{slot:"content"},slot:"content"})],1)],1)])},Cu=[];r("45fc");function Au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Au(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Eu=m("dashboard/instance/modules"),Iu=Eu.mapState,Lu=Eu.mapMutations,Ru=Eu.mapActions,Fu=U("modalQueryKey","riskDetailModal","riskDetail","setRiskDetailModal"),$u=Fu.mapMethods,Nu=Fu.mapWatch,Bu=Fu.handleMounted,Uu={created:function(){this.cancelToken=T(),this.getModule({cancelToken:this.cancelToken.token})},mounted:function(){Bu.call(this,"handleRiskDetailModal")},beforeDestroy:function(){C(this.cancelToken),this.set_module_load_error(void 0)},methods:Mu({},Lu(["set_module_load_error","setRiskDetailModal"]),{},Ru(["getModule"]),{},$u("handleRiskDetailModal"),{checkSeverity:function(e,t){var r=this.riskModules;return!!r[e]&&r[e].some((function(e){return e.severity===t}))},openRiskModal:function(e){this.setRiskDetailModal({status:!0,riskModalData:e})},closeRiskModal:function(){this.setRiskDetailModal({status:!1})}}),computed:Mu({},Iu(["module_loading","module_load_error","module_data","showDependencies","riskModules","riskDetailModal"]),{modules:function(){var e=[],t=this.showDependencies,r=this.module_data||{};if(!r.dependencies||!r.devDependencies)return e;var a=r.lockModule||{};r=t?r.dependencies:r.devDependencies;for(var n=0,o=Object.entries(r);n<o.length;n++){var i=Object(O["a"])(o[n],2),s=i[0],c=i[1],l={};this.checkSeverity(s,"critical")?(l.risk=!0,l.level="极危",l.color="#e33900"):this.checkSeverity(s,"high")?(l.risk=!0,l.level="高危",l.color="#e33900"):this.checkSeverity(s,"moderate")?(l.risk=!0,l.level="中危",l.color="#f89501"):this.checkSeverity(s,"low")?(l.risk=!0,l.level="低危",l.color="#2376b7"):l.risk=!1,e.push(Mu({name:s,version:c,lockVersion:a[s]&&a[s].version||"-",resolved:a[s]&&a[s].resolved},l))}return e}}),watch:Mu({},Nu,{$route:function(e){this.handleRiskDetailModal(e.query)}})},zu=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-table",{attrs:{columns:e.columns,data:e.risks,noDataText:"当前模块暂无安全风险信息","no-data-head":"",stribe:""},scopedSlots:e._u([{key:"name",fn:function(t){var a=t.row;return[r("div",{staticClass:"name font"},[a.url?r("a",{attrs:{href:a.url,target:"_blank"}},[e._v(e._s(a.name))]):r("div",[e._v(e._s(a.name))])])]}},{key:"version",fn:function(t){var a=t.row;return[r("div",{staticClass:"font"},[e._v(e._s(a.version))])]}},{key:"path",fn:function(t){var a=t.row;return[r("div",{staticClass:"font"},[e._v(e._s(a.path))])]}},{key:"vulnerableVersions",fn:function(t){var a=t.row;return[r("div",{staticClass:"font"},[e._v(e._s(a.vulnerableVersions))])]}},{key:"fixCmd",fn:function(t){var a=t.row;return[r("div",{staticClass:"font"},[e._v(e._s(a.fixCmd))])]}},{key:"level",fn:function(t){var a=t.row;return[r("div",{staticClass:"font"},[e._v(e._s(a.level))])]}}])})],1)])},Gu=[];function Wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xu=m("dashboard/instance/modules"),qu=Xu.mapState,Yu=Xu.mapMutations,Vu={critical:0,high:1,moderate:2,low:3},Ku={critical:"极危",high:"高危",moderate:"中危",low:"低危"},Qu={methods:Hu({},Yu(["setRiskDetailModal"]),{closeRiskModal:function(){this.setRiskDetailModal({status:!1})}}),computed:Hu({},qu(["riskModalData","riskModules"]),{risks:function(){var e=[];if(!this.riskModalData||!this.riskModules)return e;var t=this.riskModules[this.riskModalData.name];if(!t)return e;t.sort((function(e,t){return Vu[e.severity]>Vu[t.severity]?1:-1}));var r=!0,a=!1,n=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;e.push({url:s.url,name:s.name,version:s.currentVersions,path:s.path,vulnerableVersions:s.vulnerable_versions,fixCmd:s.cmd,level:Ku[s.severity]})}}catch(c){a=!0,n=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return e}})};function Zu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ju(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zu(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ep=Ju({data:function(){return{columns:[{title:"模块",value:"name"},{title:"当前版本",value:"version"},{title:"依赖路径",value:"path",width:"30%"},{title:"影响版本",value:"vulnerableVersions"},{title:"如何修复",value:"fixCmd"},{title:"漏洞级别",value:"level",width:"85",align:"center"}]}}},Qu),tp=ep,rp=(r("d617"),Object(u["a"])(tp,zu,Gu,!1,null,"202adebb",null)),ap=rp.exports;function np(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?np(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):np(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ip=op({components:{"x-risk-message":ap},data:function(){return{columns:[{title:"模块名称",value:"moduleName",width:"28%",left:19},{title:"设置版本规则",value:"packageVersion",align:"center",width:"calc(36% - 83px)"},{title:"版本锁定信息",value:"packageLockVersion",align:"center",width:"calc(36% - 83px)"},{title:"安全风险等级",value:"securityRisk",align:"center",width:166}],modalQueryKey:"risk-detail"}}},Uu),sp=ip,cp=(r("0b82"),Object(u["a"])(sp,Tu,Cu,!1,null,"417f71ea",null)),lp=cp.exports;function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?up(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dp=pp({components:{"x-module-files":Su,"x-module-detail":lp}},pu),fp=dp,hp=(r("2cfc"),Object(u["a"])(fp,ou,iu,!1,null,"27545f2c",null)),vp=hp.exports,bp=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-modal",{ref:"checkAgent",attrs:{title:"查看实例",width:560},on:{canceled:e.closeAgentCheck}},[r("template",{slot:"content"},[r("div",{staticStyle:{"text-align":"center",padding:"10px 0"}},[r("x-loading",{attrs:{loading:e.agent_loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.agent_load_error,expression:"agent_load_error"}],attrs:{message:e.agent_load_error}}),r("transition",{attrs:{name:"slide-noward"}},[r("x-table",{directives:[{name:"show",rawName:"v-show",value:!e.agent_loading&&!e.agent_load_error,expression:"!agent_loading && !agent_load_error"}],attrs:{columns:e.checkAgentColumns,data:e.agent_data,noDataText:"没有获取到实例信息"}})],1)],1)]),r("template",{slot:"footer"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.agent_loading,expression:"!agent_loading"}]},[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeAgentCheck}},[e._v("关闭")])],1)])],2)],1)},yp=[];function gp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gp(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Op=m("dashboard/instance"),wp=Op.mapState,jp=Op.mapMutations,_p=Op.mapActions,xp=U("modalQueryKey","agentModal","checkAgent","setAgentModal",void 0,"getAgentInfo","agent_loading"),Pp=xp.mapMethods,kp=xp.mapWatch,Dp=xp.handleMounted,Sp={created:function(){this.cancelToken=T()},mounted:function(){Dp.call(this,"handleAgent")},methods:mp({},Pp("handleAgent"),{},jp(["setAgentModal"]),{},_p(["getAgentInfo"]),{closeAgentCheck:function(){this.setAgentModal({status:!1})}}),computed:mp({},wp(["agentModal","agent_loading","agent_load_error","agent_data"])),watch:mp({},kp,{$route:function(e){this.handleAgent(e.query)}})};function Tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ap=Cp({data:function(){return{checkAgentColumns:[{title:"类型",value:"type",width:"130"},{title:"信息详情",value:"value"}],modalQueryKey:"check-agent"}}},Sp),Mp=Ap,Ep=Object(u["a"])(Mp,bp,yp,!1,null,null,null),Ip=Ep.exports;function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Rp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fp=Rp({props:{appName:String,title:String,currentUserIsOwner:Boolean},components:{"x-process":bc,"x-system":fl,"x-error-log":nu,"x-module-risk":vp,"x-check-agent":Ip},data:function(){return{selectedAgentId:void 0,selectedTab:void 0,agents:[],placeholder:g(Er.choseInstance),notFoundText:g(Er.noAgent),instanceTabs:[{label:g(Er.processTrend),icon:"md-skip-forward",value:"process"},{label:g(Er.systemData),icon:"md-desktop",value:"system"},{label:g(Er.errorLog),icon:"md-warning",value:"error_log"},{label:g(Er.moduleRisk),icon:"md-nuclear",value:"module_risk"}],valueWhiteList:{selectedTab:["process","system","error_log","module_risk"]},nessaryQueryArgs:["tab","agentId"]}}},Hn),$p=Fp,Np=(r("07ec"),Object(u["a"])($p,Ln,Rn,!1,null,"98a67920",null)),Bp=Np.exports,Up=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"detail-content"},[r("x-dashboard-title",{attrs:{appName:e.appName,dashboardTitle:e.title,line:""}},[r("x-uploader",{attrs:{slot:"extra"},slot:"extra"})],1),r("x-type-filter",{staticClass:"type-filter"}),r("x-file-list",{staticClass:"file-list"}),r("x-analytics")],1)},zp=[],Gp={},Wp=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Button",{staticClass:"upload-button",attrs:{type:"info",size:"small"},on:{click:e.openUploadModal}},[r("div",[r("Icon",{staticClass:"upload-icon",attrs:{type:"md-cloud-upload"}}),r("span",{staticClass:"upload-text"},[e._v("上传文件")])],1)]),r("x-modal",{ref:"uploadFile",attrs:{title:"上传性能文件",padding:0,"hide-footer":""},on:{canceled:e.closeUploadModal}},[r("x-upload-file",{attrs:{slot:"content"},slot:"content"})],1)],1)},Hp=[];function Xp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function qp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Yp=m("dashboard/file"),Vp=Yp.mapState,Kp=Yp.mapMutations,Qp=U("modalQueryKey","uploadModal","uploadFile","setUploadModal"),Zp=Qp.mapMethods,Jp=Qp.mapWatch,ed=Qp.handleMounted,td={mounted:function(){ed.call(this,"handleUploadModal",!0)},methods:qp({},Kp(["setUploadModal"]),{},Zp(["handleUploadModal"]),{openUploadModal:function(){this.setUploadModal({status:!0})},closeUploadModal:function(){this.setUploadModal({status:!1})}}),computed:qp({},Vp(["uploadModal"])),watch:qp({},Jp,{$route:function(e){this.handleUploadModal(e.query)}})},rd=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("div",{staticClass:"container"},[r("x-loading",{attrs:{loading:e.upload_loading,type:"dot",size:"middle"}}),e.upload_load_error?r("x-error-message",{attrs:{message:e.upload_load_error}}):e._e(),e.upload_data?r("div",[e._v("性能文件上传成功")]):e._e(),e.upload_loading||e.upload_load_error||e.upload_data?e._e():r("div",{staticClass:"wrapper"},[r("div",{staticClass:"group"},[r("div",[e._v("文件类型")]),r("Select",{staticClass:"agent-selector upload-selector",attrs:{placeholder:"请选择文件类型"},model:{value:e.selectedFileType,callback:function(t){e.selectedFileType=t},expression:"selectedFileType"}},e._l(e.fileTypes,(function(t,a){return r("Option",{key:a,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),e._l(e.uploads,(function(t,a){return r("div",{key:a,staticClass:"group item"},[r("div",{staticClass:"solid"},[e._v(e._s(t.title))]),r("Upload",{staticClass:"upload-button solid",attrs:{"before-upload":function(r){return e.handleUpload(r,t)},action:""}},[r("Button",{attrs:{type:"primary"}},[r("Icon",{staticClass:"upload-icon",attrs:{type:"md-cloud-upload"}}),r("span",{staticClass:"upload-text"},[e._v(e._s(t.button))])],1)],1),r("div",{staticClass:"placeholder"}),r("div",{staticClass:"filename",domProps:{innerHTML:e._s(t.tip)}})],1)}))],2)],1)]),r("div",{staticClass:"x-modal-footer"},[e.upload_loading?e._e():r("div",[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeUploadModal}},[e._v("关闭")]),e.upload_load_error||e.upload_data?e._e():r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.upload}},[e._v("上传")])],1)])])},ad=[];r("fb6a");function nd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var id=m("dashboard/file"),sd=id.mapState,cd=id.mapGetters,ld=id.mapMutations,ud=id.mapActions,pd={created:function(){this.cancelToken=T(),this.uploads=this.getUploads("normalUploads"),this.set_upload_load_error(void 0),this.set_upload(void 0)},beforeDestroy:function(){C(this.cancelToken)},methods:od({},ld(["setUploadModal","setFilterType","set_upload_load_error","set_upload"]),{},ud(["uploadFile"]),{reset:function(){var e=this;this.uploads.forEach((function(t){return t.tip=e.defaultFileTip}))},closeUploadModal:function(){var e=this;this.setUploadModal({status:!1}),this.upload_data&&!this.upload_load_error&&setTimeout((function(){e.setFilterType(void 0),setTimeout((function(){return e.setFilterType("all")}),0)}),0)},getExt:function(e){var t=e.split("."),r=t[t.length-1];return r},getUploads:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";return this[e].map((function(e){return e.tip=t.defaultFileTip,"normal"===r&&(e.valid=t.normalValidTypes),e}))},formatFileName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:31,r=e;return e.length>t&&(r="".concat(e.slice(0,13),"...").concat(e.slice(e.length-15,e.length))),r='<span style="font-size: 12px">'.concat(r,"</span>"),r},handleUpload:function(e,t){var r=this.getExt(e.name);return t.valid.includes(r)?(this.validCoredumpTypes.includes(this.selectedFileType)?this.selectedFileType="core":this.selectedFileType=r,t.tip=this.formatFileName(e.name),t.file=e):t.tip='<span style="color: #e33900">文件类型 .'.concat(r," 错误!</span>"),!1},upload:function(){var e=this.uploads,t=!0,r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;s.file||(s.tip='<span style="color: #e33900">'.concat(s.title,"不能为空！</span>"),t=!1)}}catch(v){a=!0,n=v}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}if(t){var c=new FormData,l=!0,u=!1,p=void 0;try{for(var d,f=e[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var h=d.value;c.append("file",h.file)}}catch(v){u=!0,p=v}finally{try{l||null==f.return||f.return()}finally{if(u)throw p}}this.uploadFile({cancelToken:this.cancelToken.token,fileType:this.selectedFileType,formData:c})}}}),computed:od({},sd(["fileTypes","upload_loading","upload_load_error","upload_data"]),{},cd(["normalValidTypes"]),{validCoredumpTypes:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=this.coredumpUploads[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;e=e.concat(i.valid)}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e}}),watch:{selectedFileType:function(e,t){var r,a=this;(this.uploads.every((function(t){return!a.getExt(t.tip).includes(e)}))&&this.reset(),"core"===e||"core"===t)&&(r="core"===e?this.getUploads("coredumpUploads","core"):this.getUploads("normalUploads"),this.uploads=r)}}};function dd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hd=fd({data:function(){return{selectedFileType:void 0,uploads:[],defaultFileTip:"未选择任何文件",normalUploads:[{title:"性能文件",button:"选择性能文件",tip:void 0,valid:[],file:void 0}],coredumpUploads:[{title:"核心转储",button:"选择核心转储",tip:void 0,valid:["core"],file:void 0},{title:"执行文件",button:"选择执行文件",tip:void 0,valid:["node"],file:void 0}]}}},pd),vd=hd,bd=(r("ac6e"),Object(u["a"])(vd,rd,ad,!1,null,"52b50836",null)),yd=bd.exports;function gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Od=md({components:{"x-upload-file":yd},data:function(){return{modalQueryKey:"upload-file"}}},td),wd=Od,jd=(r("addb"),Object(u["a"])(wd,Wp,Hp,!1,null,"84efd888",null)),_d=jd.exports,xd=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Select",{staticClass:"agent-selector type-selector",model:{value:e.selectedFilterType,callback:function(t){e.selectedFilterType=t},expression:"selectedFilterType"}},e._l(e.filterTypes,(function(t,a){return r("Option",{key:a,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)},Pd=[];function kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Dd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sd=m("dashboard/file"),Td=Sd.mapState,Cd=Sd.mapGetters,Ad=Sd.mapMutations,Md={created:function(){var e=this.$route.query;e.filterType?this.selectedFilterType=e.filterType:this.selectedFilterType="all"},beforeDestroy:function(){this.setFilterType(void 0)},methods:Dd({},Ad(["setFilterType"])),computed:Dd({},Td(["nessaryQueryArgs","filterType"]),{},Cd(["filterTypes"])),watch:{filterType:function(){this.filterType&&(this.selectedFilterType=this.filterType)},$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"filterType","selectedFilterType")},selectedFilterType:function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],o=r[1];o&&n&&o!==n&&this.setFilterType(void 0),setTimeout((function(){return e.setFilterType(e.selectedFilterType)}),0),this.selectedFilterType&&I.call(this,"filterType","selectedFilterType",r)}}};function Ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Id(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ed(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ed(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ld=Id({data:function(){return{selectedFilterType:void 0}}},Md),Rd=Ld,Fd=(r("9679"),Object(u["a"])(Rd,xd,Pd,!1,null,"4fb3cdde",null)),$d=Fd.exports,Nd=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-loading",{attrs:{loading:e.files_loading,type:"dot",size:"middle",top:"calc(40vh - 105px)"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.files_load_error,expression:"files_load_error"}],attrs:{message:e.files_load_error,top:"calc(40vh -  115px)"}}),e.filterType?r("x-content"):e._e(),r("x-modal",{ref:"actionError",attrs:{title:e.errorModalData.title,padding:0,"hide-footer":""},on:{canceled:e.closeErrorModal}},[r("x-operation-error",{attrs:{slot:"content"},slot:"content"})],1),r("x-modal",{ref:"fileDeletion",attrs:{title:"删除文件",padding:0,"hide-footer":""},on:{canceled:e.closeDeletionModal}},[r("x-deletion-confirm",{attrs:{slot:"content"},slot:"content"})],1)],1)},Bd=[];function Ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ud(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gd=m("dashboard/file"),Wd=Gd.mapState,Hd=Gd.mapMutations,Xd=U("modalQueryKey","errorModal","actionError","setErrorModal"),qd=Xd.mapMethods,Yd=Xd.mapWatch,Vd=Xd.handleMounted,Kd=U("modalQueryKeyDeletion","fileDeletionModal","fileDeletion","setDeletionModal"),Qd=Kd.mapMethods,Zd=Kd.mapWatch,Jd=Kd.handleMounted,ef={mounted:function(){Vd.call(this,"handleErrorModal"),Jd.call(this,"handleDeletionModal")},methods:zd({},Hd(["setErrorModal","setDeletionModal"]),{},qd("handleErrorModal"),{},Qd("handleDeletionModal"),{closeErrorModal:function(){this.setErrorModal({status:!1})},closeDeletionModal:function(){this.setDeletionModal({status:!1})}}),computed:zd({},Wd(["files_loading","files_load_error","filterType","errorModal","errorModalData","fileDeletionModal"])),watch:zd({},Yd,{},Zd,{$route:function(e){this.handleErrorModal(e.query),this.handleDeletionModal(e.query)}})},tf=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"slide-noward"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.files_loading&&!e.files_load_error,expression:"!files_loading && !files_load_error"}]},[r("x-table",{attrs:{columns:e.columns,data:e.files,noDataText:"项目下暂无性能文件","no-data-head":""},scopedSlots:e._u([{key:"fileType",fn:function(e){var t=e.row;return[r("x-type",{attrs:{row:t}})]}},{key:"fileInfo",fn:function(e){var t=e.row;return[r("x-info",{attrs:{row:t}})]}},{key:"operation",fn:function(t){var a=t.row,n=t.index;return[r("x-operation",{ref:"operation::"+n,attrs:{row:a},on:{"loading-file":e.addLoadingFile}})]}},{key:"deletion",fn:function(e){var t=e.row;return[r("x-deletion",{attrs:{row:t}})]}}])}),e.totaFileCount?r("div",{staticClass:"pagination"},[r("Page",{attrs:{total:e.totaFileCount,"page-size":e.pageSize,current:e.currentPage,size:"small","show-elevator":""},on:{"on-change":e.changeFilePage}})],1):e._e()],1)])},rf=[];r("a434");function af(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?af(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):af(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var of=m("dashboard/file"),sf=of.mapState,cf=of.mapGetters,lf=of.mapMutations,uf=of.mapActions,pf={created:function(){this.cancelToken=T(),this.cancelToken2=T();var e=this.$route.query;e.page?this.currentPage=Number(e.page):this.currentPage=1},mounted:function(){var e=this;this.checkInterval=setInterval((function(){return e.handleLoadingFiles()}),1e3)},beforeDestroy:function(){C(this.cancelToken),C(this.cancelToken2),this.set_files({list:[],count:0}),clearInterval(this.checkInterval)},methods:nf({},uf(["getFiles","checkFileStatus"]),{},lf(["set_files","setErrorModal"]),{resetFileStatusCheck:function(){var e=this;C(this.cancelToken2),clearInterval(this.checkInterval),this.loadingFiles=[],this.checkingStatus=!1,this.cancelToken2=T(),this.checkInterval=setInterval((function(){return e.handleLoadingFiles()}),1e3)},changeFilePage:function(e){this.currentPage=e},refreshFiles:function(e,t){this.getFiles({cancelToken:this.cancelToken.token,filterType:e||this.filterType,currentPage:t||this.currentPage,pageSize:this.pageSize})},addLoadingFile:function(e){this.loadingFiles.push(e),this.checkingStatusError=void 0},handleLoadingFiles:function(){var e=this,t=this.loadingFiles;if(0!==t.length&&!this.checkingStatus&&!this.checkingStatusError){this.checkingStatus=!0;var r=t.map((function(e){return{fileId:e.fileId,fileType:e.fileType,status:e.fileStatus,index:e.index}}));this.checkFileStatus({cancelToken:this.cancelToken2.token,files:r}).then((function(r){var a=r.list;if(Array.isArray(a)){var n=!0,o=!1,i=void 0;try{for(var s,c=function(){var r=s.value,a=t.filter((function(e){return e.index===r.index}));if(!a.length)return"continue";a=a[0],a.fileStatus=r.status;var n=e.$refs["operation::".concat(r.index)];n&&n.updateOperation();var o=t.indexOf(a);t.splice(o,1)},l=a[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)c()}catch(u){o=!0,i=u}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}}})).catch((function(r){e.checkingStatusError=r.message,e.setErrorModal({status:!0,error:{title:"状态检索失败",message:e.checkingStatusError}}),t.forEach((function(t){var r=t.fileStatus;0===r&&(r=998),2===r&&(r=999),t.fileStatus=r;var a=e.$refs["operation::".concat(t.index)];a&&a.updateOperation()})),e.loadingFiles=[]})).then((function(){return e.checkingStatus=!1}))}}}),computed:nf({},sf(["nessaryQueryArgs","filterType","files_loading","files_load_error","files_data"]),{},cf(["getIconByType","getLabelByType"]),{files:function(){var e=[],t=this.files_data,r=t.list,a=t.count;if(!Array.isArray(r)||!r.length)return e;j(a)&&(this.totaFileCount=a);for(var n=0;n<r.length;n++){var o=r[n],i={typeIcon:this.getIconByType(o.fileType),typeLabel:this.getLabelByType(o.fileType),filePath:o.file||o.coreFile,fileBasename:o.basename,executable:o.executableFile,fileCreator:o.creator,createTime:o.time,createAgent:o.agent,fileStatus:o.status,fileFavor:o.favor,fileType:o.fileType,fileId:o.fileId,index:n};e.push(i)}return e}}),watch:{totaFileCount:function(){if(this.totaFileCount){var e=Math.ceil(this.totaFileCount/this.pageSize);this.currentPage>e&&(this.currentPage=e)}},$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"page","currentPage")},currentPage:function(){if(this.currentPage){this.refreshFiles(),this.resetFileStatusCheck();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"page","currentPage",t)}}}},df=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"file-type"},[r("div",[r("Icon",{staticClass:"type-icon",attrs:{type:e.row.typeIcon}})],1),r("div",{staticClass:"type-label"},[e._v(e._s(e.row.typeLabel))])])},ff=[],hf={props:{row:Object}},vf=hf,bf=(r("c95c"),Object(u["a"])(vf,df,ff,!1,null,"e6704f0e",null)),yf=bf.exports,gf=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"file-info"},[r("div",{staticClass:"file-path"},[e._v(e._s(e.row.filePath))]),r("div",{staticClass:"file-desc"},[e.row.executable?r("a",{attrs:{href:"/file/download?fileType=executable&fileId="+e.row.fileId}},[e._v("可执行文件")]):e._e(),e._v(" 由 "),r("strong",{staticClass:"file-desc-heilight"},[e._v(e._s(e.row.fileCreator))])]),r("div",{staticClass:"file-desc"},[e._v(" 于 "),r("strong",{staticClass:"file-desc-heilight"},[e._v(e._s(e.row.createTime))]),e._v(" 创建在实例 "),r("strong",{staticClass:"file-desc-heilight"},[e._v(e._s(e.row.createAgent))])])])},mf=[],Of={props:{row:Object}},wf=Of,jf=(r("919d"),Object(u["a"])(wf,gf,mf,!1,null,"0783c7ac",null)),_f=jf.exports,xf=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"opt"},e._l(e.operations,(function(t,a){return r("div",{key:a,staticClass:"container"},["button"===t.type?r("div",{staticClass:"opt-group"},[r("Button",{class:"opt-button"+(t.fixed?"":" button-hover"),attrs:{shape:"circle",loading:t.loading,type:t.bt,disabled:t.disabled,icon:t.icon},on:{click:function(r){return e.takeAction(t)}}}),r("div",{staticClass:"opt-label",style:"color: "+t.color+";"},[e._v(e._s(e.formatLabel(t.label)))])],1):r("div",{staticClass:"line",style:"color: "+t.color+";"})])})),0)},Pf=[],kf=(r("c7cd"),r("2909"));function Df(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Sf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Df(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Tf=m("dashboard/file"),Cf=Tf.mapMutations,Af=Tf.mapActions,Mf=m("dashboard/file/wrapper"),Ef=Mf.mapMutations,If={created:function(){this.cancelToken=T(),this.updateOperation()},beforeDestroy:function(){C(this.cancelToken)},methods:Sf({},Cf(["setErrorModal"]),{},Ef(["setDiagDrawer","setGcDrawer"]),{},Af(["doTransfer","doFavor"]),{formatLabel:function(e){return"string"===typeof e?e:e.label},getColor:function(e){var t=this.disableColor;return["success","info","error"].includes(e)&&(t=this["".concat(e,"Color")]),["normal","warning"].includes(e)&&(t=this.warningColor),t},createButton:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{type:"button",label:e,bt:"normal"===t?void 0:t,icon:r,loading:a,disabled:n,color:this.getColor(t),fixed:o,raw:!this.fixed&&this.row}},createLine:function(e){return{type:"line",color:e}},doneButton:function(e,t,r,a){return this.createButton(e,r,t,!1,!1,a)},createLoadingGroup:function(e,t){return[this.createLine(this.getColor(t)),this.createButton(e,t,void 0,!0,!1,!0)]},createDisableGroup:function(e,t){return[this.createLine(this.disableColor),this.createButton(e,void 0,t,!1,!0,!0)]},createDoneGroup:function(e,t,r){return[this.createLine(this.getColor(r)),this.doneButton(e,t,r)]},createLeftGroup:function(e){var t=[];return this.devtools.includes(e)&&t.push.apply(t,Object(kf["a"])(this.createDisableGroup("devtools","md-search"))),this.devtools2.includes(e)&&t.push.apply(t,Object(kf["a"])(this.createDisableGroup("devtools","md-search"))),this.xprofiler.includes(e)&&t.push.apply(t,Object(kf["a"])(this.createDisableGroup("分析","ios-pulse"))),t.push.apply(t,Object(kf["a"])(this.createDisableGroup("下载","md-cloud-download"))),t.push.apply(t,Object(kf["a"])(this.createDisableGroup("收藏","md-star"))),t},updateOperation:function(){var e=[],t=this.row,r=t.fileStatus;0===r&&(e.push(this.createButton("生成中",void 0,void 0,!0,!0,!0)),e.push.apply(e,Object(kf["a"])(this.createDisableGroup("转储","md-cloud-upload"))),e.push.apply(e,Object(kf["a"])(this.createLeftGroup(t.fileType))),this.$emit("loading-file",t)),1===r&&(e.push(this.doneButton("已生成","md-brush","success",!0)),e.push.apply(e,Object(kf["a"])(this.createDoneGroup("转储","md-cloud-upload","success"))),e.push.apply(e,Object(kf["a"])(this.createLeftGroup(t.fileType)))),2===r&&(e.push(this.doneButton("已生成","md-brush","success",!0)),e.push.apply(e,Object(kf["a"])(this.createLoadingGroup("转储中","success"))),e.push.apply(e,Object(kf["a"])(this.createLeftGroup(t.fileType))),this.$emit("loading-file",t)),3===r&&(e.push(this.doneButton("已生成","md-brush","success",!0)),"upload"!==t.createAgent&&"trend"!==t.fileType&&e.push.apply(e,Object(kf["a"])(this.createDoneGroup("再转储","md-cloud-upload","success"))),this.devtools.includes(t.fileType)&&e.push.apply(e,Object(kf["a"])(this.createDoneGroup({label:"devtools",value:"devtools-new"},"md-search","info"))),this.devtools2.includes(t.fileType)&&e.push.apply(e,Object(kf["a"])(this.createDoneGroup({label:"devtools",value:"devtools-old"},"md-search","info"))),this.xprofiler.includes(t.fileType)&&e.push.apply(e,Object(kf["a"])(this.createDoneGroup("分析","ios-pulse","info"))),e.push.apply(e,Object(kf["a"])(this.createDoneGroup("下载","md-cloud-download","info"))),t.fileFavor?e.push.apply(e,Object(kf["a"])(this.createDoneGroup("收藏","md-star","warning"))):e.push.apply(e,Object(kf["a"])(this.createDoneGroup("收藏","md-star","normal")))),998===r&&(e.push(this.createButton("未知状态","warning","md-brush")),e.push.apply(e,Object(kf["a"])(this.createDisableGroup("转储","md-cloud-upload"))),e.push.apply(e,Object(kf["a"])(this.createLeftGroup(t.fileType)))),999===r&&(e.push(this.doneButton("已生成","md-brush","success",!0)),e.push.apply(e,Object(kf["a"])(this.createDoneGroup("转储失败","md-close","error"))),e.push.apply(e,Object(kf["a"])(this.createLeftGroup(t.fileType)))),this.operations=e},doAnalytics:function(e){var t=e.fileType,r=e.fileId,a=e.fileBasename,n={fileType:t,fileId:r,fileBasename:a};"diag"===t&&this.setDiagDrawer({status:!0,diagData:n}),"gcprofile"===t&&this.setGcDrawer({status:!0,gcData:n})},doFileFavor:function(e){var t=this,r=e.raw,a=r.fileId,n=r.fileType,o=r.fileFavor,i=void 0===o||0===o?1:0;e.loading=!0,this.doFavor({cancelToken:this.cancelToken.token,fileId:a,fileType:n,favor:i}).then((function(){e.raw.fileFavor=i,t.updateOperation()})).catch((function(e){return t.setErrorModal({status:!0,error:{title:"收藏失败",message:e.message}})})).then((function(){return e.loading=!1}))},doFileTransfer:function(e){var t=this,r=e.raw,a=r.fileId,n=r.fileType;e.raw.fileStatus=2,this.updateOperation(),this.doTransfer({cancelToken:this.cancelToken.token,fileId:a,fileType:n}).catch((function(e){return t.setErrorModal({status:!0,error:{title:"转储失败",message:e.message}})}))},handleDevtools:function(e,t){var r=t.fileId,a=t.fileType,n=t.filePath,o="";["cpuprofile"].includes(a)&&(o="js_profiler"),["heapsnapshot","heapprofile"].includes(a)&&(o="heap_profiler");var i="fileId=".concat(r,"&fileType=").concat(a,"&fileName=").concat(n,"&selectedTab=").concat(o),s="/dashboard/".concat(e,"?").concat(i);window.open(s,"_blank")},takeAction:function(e){var t=e.raw,r=e.label;if(t){if("分析"===r&&this.doAnalytics(t),"下载"===r){var a=this.$store.state.url.downloadFile;window.location="".concat(a,"?fileType=").concat(t.fileType,"&fileId=").concat(t.fileId)}"收藏"===r&&this.doFileFavor(e),"转储"!==r&&"再转储"!==r&&"转储失败"!==r||this.doFileTransfer(e),"未知状态"===r&&(e.raw.fileStatus=0,this.updateOperation()),["devtools-new","devtools-old"].includes(r.value)&&this.handleDevtools(r.value,t)}}}),watch:{row:function(){this.updateOperation()}}};function Lf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lf(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ff=Rf({props:{row:Object},data:function(){return{operations:[],devtools:["cpuprofile","heapprofile","heapsnapshot"],devtools2:["cpuprofile","heapprofile","heapsnapshot"],xprofiler:["gcprofile","diag"],normalColor:"#515a6e",disableColor:"#c5c8ce",successColor:"#2a9446",infoColor:"#2376b7",warningColor:"#f89501",errorColor:"#e33900"}}},If),$f=Ff,Nf=(r("eb46"),Object(u["a"])($f,xf,Pf,!1,null,"a137ddaa",null)),Bf=Nf.exports,Uf=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("div",{staticClass:"opt-group"},[r("Button",{staticClass:"opt-button",attrs:{shape:"circle",type:"error",icon:"md-trash"},on:{click:e.openDeletionModal}}),r("div",{staticClass:"opt-label"},[e._v("删除")])],1)])},zf=[];function Gf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hf=m("dashboard/file"),Xf=Hf.mapMutations,qf={methods:Wf({},Xf(["setDeletionModal"]),{openDeletionModal:function(){var e=this.row;this.setDeletionModal({status:!0,data:{filePath:e.filePath,fileId:e.fileId,fileType:e.fileType}})}})};function Yf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kf=Vf({props:{row:Object}},qf),Qf=Kf,Zf=(r("dd11"),Object(u["a"])(Qf,Uf,zf,!1,null,"52d16dee",null)),Jf=Zf.exports;function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rh=th({components:{"x-type":yf,"x-info":_f,"x-operation":Bf,"x-deletion":Jf},data:function(){return{currentPage:void 0,pageSize:10,columns:[{title:"文件类型",value:"fileType",align:"center",width:125},{title:"文件信息",value:"fileInfo",left:20,width:450},{title:"操作",value:"operation",titleLeft:23},{title:"删除",value:"deletion",align:"center",width:125}],totaFileCount:0,loadingFiles:[],checkingStatus:!1,checkingStatusError:void 0}}},pf),ah=rh,nh=Object(u["a"])(ah,tf,rf,!1,null,null,null),oh=nh.exports,ih=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[e._v(e._s(e.errorModalData.message))]),r("div",{staticClass:"x-modal-footer"},[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeErrorModal}},[e._v("关闭")])],1)])},sh=[];function ch(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ch(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ch(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var uh=m("dashboard/file"),ph=uh.mapState,dh=uh.mapMutations,fh={methods:lh({},dh(["setErrorModal"]),{closeErrorModal:function(){this.setErrorModal({status:!1})}}),computed:lh({},ph(["errorModalData"]))};function hh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hh(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bh=vh({},fh),yh=bh,gh=Object(u["a"])(yh,ih,sh,!1,null,null,null),mh=gh.exports,Oh=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-loading",{attrs:{loading:e.loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{message:e.error}}),e.success?r("div",{staticClass:"confirm"},[r("div",[e._v("云端文件已经成功删除")])]):e._e(),e.loading||e.error||e.success?e._e():r("div",{staticClass:"confirm"},[r("div",[e._v("确认删除文件 "+e._s(e.deletionData.filePath)+" ?")])])],1),r("div",{staticClass:"x-modal-footer"},[e.loading?e._e():r("div",[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeDeletionModal}},[e._v("关闭")]),e.error||e.success?e._e():r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.submitFileDeletion}},[e._v("删除")])],1)])])},wh=[];function jh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jh(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xh=m("dashboard/file"),Ph=xh.mapState,kh=xh.mapMutations,Dh=xh.mapActions,Sh={created:function(){this.cancelToken=T()},beforeDestroy:function(){C(this.cancelToken)},methods:_h({},kh(["setDeletionModal","setFilterType"]),{},Dh(["deleteFile"]),{closeDeletionModal:function(){var e=this;this.setDeletionModal({status:!1}),this.success&&!this.error&&setTimeout((function(){e.setFilterType(void 0),setTimeout((function(){return e.setFilterType(e.$route.query.filterType)}),0)}),0)},submitFileDeletion:function(){var e=this,t=this.deletionData,r=t.fileId,a=t.fileType;this.loading=!0,this.deleteFile({cancelToken:this.cancelToken.token,fileId:r,fileType:a}).then((function(){return e.success=!0})).catch((function(t){return e.error=t.message})).then((function(){return e.loading=!1}))}}),computed:_h({},Ph(["deletionData"]))};function Th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Th(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Th(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ah=Ch({data:function(){return{loading:!1,error:void 0,success:!1}}},Sh),Mh=Ah,Eh=(r("12bb"),Object(u["a"])(Mh,Oh,wh,!1,null,"59d7dc80",null)),Ih=Eh.exports;function Lh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lh(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fh=Rh({components:{"x-content":oh,"x-operation-error":mh,"x-deletion-confirm":Ih},data:function(){return{modalQueryKey:"operation-error",modalQueryKeyDeletion:"deletion-confirm"}}},ef),$h=Fh,Nh=Object(u["a"])($h,Nd,Bd,!1,null,null,null),Bh=Nh.exports,Uh=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-drawer",{ref:"diag",on:{close:function(t){return e.closeDiagDrawer()}}},[r("x-diag",{staticClass:"analytics",attrs:{slot:"content"},slot:"content"})],1),r("x-drawer",{ref:"gc",on:{close:function(t){return e.closeGcDrawer()}}},[r("x-gc",{staticClass:"analytics",attrs:{slot:"content"},slot:"content"})],1)],1)},zh=[];function Gh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hh=m("dashboard/file/wrapper"),Xh=Hh.mapState,qh=Hh.mapMutations,Yh=B("diagDrawerKey","diagDrawer","diag","setDiagDrawer","diagData"),Vh=Yh.mapMethods,Kh=Yh.mapWatch,Qh=Yh.handleMounted,Zh=B("gcDrawerKey","gcDrawer","gc","setGcDrawer","gcData"),Jh=Zh.mapMethods,ev=Zh.mapWatch,tv=Zh.handleMounted,rv={mounted:function(){Qh.call(this,"handleDiagDrawer",!0),tv.call(this,"handleGcDrawer",!0)},methods:Wh({},qh(["setDiagDrawer","setGcDrawer"]),{},Vh("handleDiagDrawer"),{},Jh("handleGcDrawer"),{closeDiagDrawer:function(){this.setDiagDrawer({status:!1})},closeGcDrawer:function(){this.setGcDrawer({status:!1})}}),computed:Wh({},Xh(["diagDrawer","diagData","gcDrawer","gcData"])),watch:Wh({},Kh,{},ev,{$route:function(e){this.handleDiagDrawer(e.query),this.handleGcDrawer(e.query)}})},av=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-dashboard-title",{attrs:{appName:"诊断报告分析",dashboardTitle:e.diagData.fileBasename,line:""}}),r("div",{staticClass:"diag-content"},[r("div",{staticClass:"diag-loading"},[r("x-loading",{attrs:{loading:e.file_loading,top:"calc(40vh - 50px)",type:"dot",size:"large"}})],1),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.file_load_error,expression:"file_load_error"}],attrs:{message:e.file_load_error,top:"calc(40vh - 57px)"}}),r("transition",{attrs:{name:"slide-noward"}},[e.file_loading||e.file_load_error?e._e():r("div",{staticClass:"diag-detail"},[r("x-overview",{attrs:{data:e.overviewData}}),r("x-diag-tab",{staticClass:"diag-tab"}),r("x-diag-content")],1)])],1)],1)},nv=[];function ov(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ov(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ov(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sv=m("dashboard/file/wrapper"),cv=sv.mapState,lv=m("dashboard/analytics"),uv=lv.mapState,pv=lv.mapActions,dv={created:function(){this.cancelToken=T(),this.downloadFile({cancelToken:this.cancelToken.token,fileId:this.diagData.fileId,fileType:this.diagData.fileType})},beforeDestroy:function(){C(this.cancelToken)},methods:iv({},pv(["downloadFile"])),computed:iv({},cv(["diagData"]),{},uv(["file_loading","file_load_error","file_data"]),{overviewData:function(){var e=this.file_data;if(!e)return[];var t=e.pid,r=e.nodeVersion,a=e.loadTime,n=e.heapStatistics,o=n.heapTotalCommitted,i=n.heapTotalAvailable;return[{label:"ProcessID",value:t},{label:"Node.js 版本",value:r},{label:"堆内存状态 (Committed / HeapAvailable)",value:"".concat(k(o)," / ").concat(k(i))},{label:"启动时间",value:a}]}})},fv=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"overview"},e._l(e.data,(function(t,a){return r("div",{key:a,staticClass:"group"},[r("div",{staticClass:"label"},[e._v(e._s(t.label))]),r("div",{staticClass:"value"},[e._v(e._s(t.value))])])})),0)},hv=[],vv={props:{data:Array}},bv=vv,yv=(r("350f"),Object(u["a"])(bv,fv,hv,!1,null,"58218e8b",null)),gv=yv.exports,mv=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"demo-tabs-style2"},[r("Tabs",{attrs:{type:"card"},model:{value:e.selectedTab,callback:function(t){e.selectedTab=t},expression:"selectedTab"}},e._l(e.diagTabs,(function(e,t){return r("TabPane",{key:t,attrs:{label:e.label,name:e.value}})})),1)],1)},Ov=[];function wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function jv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _v=m("dashboard/analytics/diag"),xv=_v.mapMutations,Pv={created:function(){var e=this.$route.query;this.selectedTab=e["diagTab"]||"jsStacks"},methods:jv({},xv(["setDiagTab"])),watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"diagTab","selectedTab")},selectedTab:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"diagTab","selectedTab",t),this.setDiagTab(this.selectedTab)}}};function kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Dv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kv(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sv=Dv({data:function(){return{selectedTab:void 0,diagTabs:[{label:"JavaScript 栈",value:"jsStacks"},{label:"Native 栈",value:"nativeStacks"},{label:"Libuv 句柄",value:"libuvHandles"},{label:"系统信息",value:"system"}],nessaryQueryArgs:["filterType","page","diag-analytics","diagTab","diagData"]}}},Pv),Tv=Sv,Cv=Object(u["a"])(Tv,mv,Ov,!1,null,null,null),Av=Cv.exports,Mv=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide-noward"}},[e.diagTab?r(e.activeComponent,{tag:"component",attrs:{data:e.file_data}}):e._e()],1)],1)},Ev=[];function Iv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Lv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Iv(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rv=m("dashboard/analytics/diag"),Fv=Rv.mapState,$v=m("dashboard/analytics"),Nv=$v.mapState,Bv={computed:Lv({},Fv(["diagTab"]),{},Nv(["file_data"]),{activeComponent:function(){var e="";switch(this.diagTab){case"jsStacks":e="x-javascript";break;case"nativeStacks":e="x-native";break;case"libuvHandles":e="x-libuv";break;case"system":e="x-system-view";break;default:break}return e}})},Uv=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"section-title"},[e._v("进程堆信息")]),r("x-heap"),r("div",{staticClass:"section-title",staticStyle:{"margin-top":"25px"}},[e._v("函数调用栈")]),r("x-table",{staticStyle:{"margin-top":"15px"},attrs:{columns:e.columns,data:e.jsStacks,noDataText:"暂无 JavaScript 栈信息","no-data-head":"",stribe:""},scopedSlots:e._u([{key:"pcAddress",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[r("code",[e._v(e._s(a.pcAddress))])])]}},{key:"frameType",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[r("code",[e._v(e._s(a.frameType))])])]}},{key:"frameDetail",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding frame-detail"},[r("code",[e._v(e._s(a.frameDetail))])])]}}])})],1)},zv=[];function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Wv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gv(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hv=m("dashboard/analytics"),Xv=Hv.mapState,qv={computed:Wv({},Xv(["file_data"]),{jsStacks:function(){var e=this.file_data.jsStacks;return e.map((function(e){var t=e.pcAddress,r=e.frameType,a=e.functionName,n=e.scriptName,o=e.lineNumber,i=e.column,s="".concat(a,"() (").concat(n,":").concat(o,":").concat(i,")");return{pcAddress:t,frameType:r,frameDetail:s}}))}})},Yv=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-tooltip",{ref:"tooltip",attrs:{"min-width":100}},[r("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.selectedData.name)+": "+e._s(e.selectedData.size))])]),r("div",{ref:"heapGroup",staticClass:"heap-group"},[r("div",{staticClass:"heap-item"},[r("div",{staticClass:"sub-title"},[e._v("已使用 / 已分配堆内存 ("+e._s(e.heapData.usedTotalPect)+")")]),r("div",{staticClass:"heap-used-wrapper",on:{mousemove:function(t){return e.mousemove("heap_total",e.heapData.heapTotal,t)},mouseleave:e.mouseleave}},[r("div",{staticClass:"heap-used",style:e.heapData.usedTotalStyle,on:{mousemove:function(t){return t.stopPropagation(),e.mousemove("heap_used",e.heapData.heapTotalUsed,t)}}})])]),r("div",{staticClass:"heap-item"},[r("div",{staticClass:"sub-title"},[e._v("已使用 / 堆内存上限 ("+e._s(e.heapData.usedLimtPect)+")")]),r("div",{staticClass:"heap-used-wrapper",on:{mousemove:function(t){return e.mousemove("heap_limit",e.heapData.heapLimit,t)},mouseleave:e.mouseleave}},[r("div",{staticClass:"heap-used",style:e.heapData.usedLimitStyle,on:{mousemove:function(t){return t.stopPropagation(),e.mousemove("heap_used",e.heapData.heapTotalUsed,t)}}})])]),r("div",{staticClass:"heap-item"},[r("div",{staticClass:"sub-title"},[e._v("堆内存分布")]),r("div",{staticClass:"heap-used-wrapper"},[r("div",{staticClass:"heap-spaces"},e._l(e.heapSpaces,(function(t,a){return r("div",{key:a,style:t.width+"height: 100%;"+(0!==a&&0!==t.rawWidth?"padding-left: 1px;":""),on:{mousemove:function(r){return r.stopPropagation(),e.mousemove(t.name,t.size,r)},mouseleave:e.mouseleave}},[r("div",{staticClass:"heap-used",style:t.color})])})),0)])])])],1)},Vv=[];function Kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kv(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zv=m("dashboard/instance/process"),Jv=Zv.mapState,eb=m("dashboard/analytics"),tb=eb.mapState,rb={mounted:function(){this.tooltip=this.$refs.tooltip,this.setWidth(),window.addEventListener("resize",this.setWidth.bind(this))},methods:Qv({setWidth:function(){this.$refs.heapGroup&&(this.heapGroupWidth=parseInt(window.getComputedStyle(this.$refs.heapGroup).width,10)-110)}},w("mousemove",(function(e,t,r){this.selectedData={name:e,size:k(t)},this.tooltip.showToolTip(this.heapGroupWidth,r,70)})),{},w("mouseleave",(function(){this.tooltip.removeToolTip()}))),computed:Qv({},Jv(["colors"]),{},tb(["file_data"]),{heapData:function(){var e=this.file_data.heapStatistics,t=e.heapTotal,r=e.heapTotalUsed,a=e.heapLimit,n="",o=r/a*100;n+="width: ".concat(o,"%;");var i="",s=r/t*100;return i+="width: ".concat(s,"%;"),{heapTotal:t,heapTotalUsed:r,heapLimit:a,usedTotalStyle:i,usedTotalPect:"".concat(s.toFixed(2),"%"),usedLimitStyle:n,usedLimtPect:"".concat(o.toFixed(2),"%")}},heapSpaces:function(){var e=this,t=this.file_data.heapSpaceStatistics,r=0,a=!0,n=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;r+=c.size}}catch(l){n=!0,o=l}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return t.map((function(t,a){var n=t.size/r*100,o="background-color: ".concat(e.colors[a%e.colors.length],";");return{width:"width: ".concat(n,"%;"),color:o,rawWidth:n,name:t.name,size:t.size}}))}})};function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ab(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ob=nb({data:function(){return{selectedData:{},heapGroupWidth:1/0}}},rb),ib=ob,sb=(r("3d88"),Object(u["a"])(ib,Yv,Vv,!1,null,"285bb65e",null)),cb=sb.exports;function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ub(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pb=ub({components:{"x-heap":cb},data:function(){return{columns:[{title:"寄存器指令地址",value:"pcAddress",width:140},{title:"函数类型",value:"frameType",width:135,align:"center"},{title:"执行栈帧",value:"frameDetail"}]}}},qv),db=pb,fb=(r("e423"),Object(u["a"])(db,Uv,zv,!1,null,"6c76f57b",null)),hb=fb.exports,vb=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-table",{attrs:{columns:e.columns,data:e.nativeStacks,noDataText:"暂无 Native 栈信息","no-data-head":"",stribe:""},scopedSlots:e._u([{key:"pcAddress",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[r("code",[e._v(e._s(a.pcAddress))])])]}},{key:"frameDetail",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding frame-detail"},[r("code",[e._v(e._s(a.frameDetail))])])]}}])})],1)},bb=[];function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mb=m("dashboard/analytics"),Ob=mb.mapState,wb={computed:gb({},Ob(["file_data"]),{nativeStacks:function(){var e=this.file_data.nativeStacks;return e.map((function(e){var t=e.pcAddress,r=e.symbolName,a=e.sharedObjectName,n="";return n=r||a?"".concat(r||"").concat(a?" [".concat(a,"]"):""):"<unknown frame>",{pcAddress:t,frameDetail:n}}))}})};function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jb(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xb=_b({data:function(){return{columns:[{title:"寄存器指令地址",value:"pcAddress",width:140},{title:"Native 函数 / 链接库信息",value:"frameDetail"}]}}},wb),Pb=xb,kb=(r("a7a0"),Object(u["a"])(Pb,vb,bb,!1,null,"ac70d7d0",null)),Db=kb.exports,Sb=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.file_data.libuvHandles.length?r("div",[r("Alert",{staticClass:"x-alert",attrs:{type:"info"}},[r("div",{staticClass:"alert-group"},[r("Icon",{staticStyle:{color:"#2376b7"},attrs:{type:"ios-alert-outline"}}),r("div",{staticClass:"alert-desc"},[e._v(" Libuv 总句柄数: "),r("span",{staticClass:"statistics-number"},[e._v(e._s(e.statistics.total))]),e._v(", 活跃总句柄数: "),r("span",{staticClass:"statistics-number"},[e._v(e._s(e.statistics.active))]),e._v(", 活跃且存在引用总句柄数: "),r("span",{staticClass:"statistics-number"},[e._v(e._s(e.statistics.activeAndRef))])])],1)]),r("div",{staticClass:"uv-handle"},[r("Select",{staticClass:"agent-selector uv-type-selector",model:{value:e.selectedUvType,callback:function(t){e.selectedUvType=t},expression:"selectedUvType"}},e._l(e.uvTypes,(function(t,a){return r("Option",{key:a,attrs:{value:t.value}},[e._v(e._s(t.value))])})),1),r("div",{staticClass:"handle-tags"},e._l(e.uvTags,(function(t,a){return r("Tag",{key:a,staticClass:"handle-tag",style:0!==a?"margin-left: 20px;":"",attrs:{type:"dot",color:t.color}},[r("code",[e._v(" "+e._s(t.label)+": "),r("span",{staticClass:"statistics-number"},[e._v(e._s(e.handleStatistics[t.value]))])])])})),1)],1),r("transition",{attrs:{name:"slide-noward"}},[e.uvType?r("x-handle",{staticStyle:{"margin-top":"15px"}}):e._e()],1)],1):r("div",[r("x-error-message",{attrs:{message:"暂无 Libuv 句柄信息",top:"calc(35vh - 150px)"}})],1)])},Tb=[];function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cb(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mb=m("dashboard/analytics"),Eb=Mb.mapState,Ib=m("dashboard/analytics/diag"),Lb=Ib.mapState,Rb=Ib.mapMutations,Fb={methods:Ab({},Rb(["setUvType"]),{getStatistics:function(e){var t=this.file_data.libuvHandles,r=0,a=0,n=0,o=!0,i=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value;"all"!==e&&u.type!==e||(r++,u.isActive&&a++,u.isActive&&u.hasRef&&n++)}}catch(p){i=!0,s=p}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}return{total:r,active:a,activeAndRef:n}}}),computed:Ab({},Eb(["file_data"]),{},Lb(["uvType"]),{uvTypes:function(){var e=this.file_data.libuvHandles,t=Array.from(new Set(e.map((function(e){return e.type})))).map((function(e){return{label:e,value:e}})),r={},a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;r[c.type]?r[c.type]++:r[c.type]=1}}catch(u){n=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}t.sort((function(e,t){return r[e.value]<r[t.value]?1:-1}));var l=this.$route.query;return l.uvType?this.selectedUvType=l.uvType:this.selectedUvType=t[0].value,t},statistics:function(){return this.getStatistics("all")},handleStatistics:function(){return this.getStatistics(this.selectedUvType)}}),watch:{$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"uvType","selectedUvType")},selectedUvType:function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],o=r[1];o&&n&&o!==n&&this.setUvType(void 0),setTimeout((function(){return e.setUvType(e.selectedUvType)}),0),this.selectedUvType&&I.call(this,"uvType","selectedUvType",r)}}},$b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("transition",{attrs:{name:"slide-noward"}},[e.showHandles.length?r("x-table",{attrs:{columns:e.columns,data:e.showHandles,noDataText:e.uvType+" 类型下暂无 Libuv 句柄信息","no-data-head":"",stribe:""},scopedSlots:e._u([{key:"pcAddress",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[r("code",[e._v(e._s(a.pcAddress))])])]}},{key:"isActive",fn:function(e){var t=e.row;return[r("div",{staticClass:"padding"},[t.isActive?r("Icon",{staticClass:"active",attrs:{type:"md-checkmark"}}):r("Icon",{staticClass:"inactive",attrs:{type:"md-close"}})],1)]}},{key:"hasRef",fn:function(e){var t=e.row;return[r("div",{staticClass:"padding"},[t.hasRef?r("Icon",{staticClass:"active",attrs:{type:"md-checkmark"}}):r("Icon",{staticClass:"inactive",attrs:{type:"md-close"}})],1)]}},{key:"handleDetail",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[r("code",[e._v(e._s(a.handleDetail))])])]}}],null,!1,4106992201)}):e._e()],1),e.handles.length?r("div",{staticClass:"pagination"},[r("Page",{attrs:{total:e.handles.length,"page-size":e.pageSize,current:e.currentPage,size:"small","show-elevator":""},on:{"on-change":e.changeHandlePage}})],1):e._e()],1)},Nb=[];function Bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ub(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zb=m("dashboard/analytics"),Gb=zb.mapState,Wb=m("dashboard/analytics/diag"),Hb=Wb.mapState,Xb={created:function(){var e=this.$route.query;e.uvPage?this.currentPage=Number(e.uvPage):this.currentPage=1},methods:{changeHandlePage:function(e){var t=this;this.currentPage=null,setTimeout((function(){return t.currentPage=e}),0)}},computed:Ub({},Gb(["file_data"]),{},Hb(["uvType"]),{handles:function(){var e=this.file_data.libuvHandles,t=[],r=!0,a=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;s.type===this.uvType&&t.push(s)}}catch(c){a=!0,n=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return t.sort((function(e,t){return!e.isActive&&t.isActive?1:e.isActive===t.isActive&&!e.hasRef&&t.hasRef?1:-1})),t.map((function(e){return{pcAddress:e.address,isActive:e.isActive,hasRef:e.hasRef,handleDetail:e.detail||"<empty>"}}))},showHandles:function(){if(null===this.currentPage)return[];var e=(this.currentPage-1)*this.pageSize,t=this.pageSize*this.currentPage;return this.handles.filter((function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var o=a[1];return o>=e&&o<t}))}}),watch:{$route:function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];setTimeout((function(){return E.call(e,r,"uvPage","currentPage",!0)}),0)},currentPage:function(){if(this.currentPage){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"uvPage","currentPage",t)}}}};function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qb(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vb=Yb({data:function(){return{currentPage:void 0,pageSize:15,columns:[{title:"寄存器指令地址",value:"pcAddress",width:140},{title:"活跃状态",value:"isActive",width:135,align:"center"},{title:"引用状态",value:"hasRef",width:135,align:"center"},{title:"句柄补充信息",value:"handleDetail"}],nessaryQueryArgs:["filterType","page","diag-analytics","diagTab","diagData","uvType"]}}},Xb),Kb=Vb,Qb=(r("bc4f"),Object(u["a"])(Kb,$b,Nb,!1,null,"06ddf605",null)),Zb=Qb.exports;function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jb(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ty=ey({components:{"x-handle":Zb},data:function(){return{selectedUvType:void 0,uvTags:[{label:"句柄总数",value:"total",color:"primary"},{label:"活跃句柄总数",value:"active",color:"success"},{label:"活跃且存在引用句柄总数",value:"activeAndRef",color:"warning"}],nessaryQueryArgs:["filterType","page","diag-analytics","diagTab","diagData"]}}},Fb),ry=ty,ay=(r("bff7"),Object(u["a"])(ry,Sb,Tb,!1,null,"5b1966a4",null)),ny=ay.exports,oy=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Alert",{staticClass:"x-alert",attrs:{type:"info"}},[r("div",{staticClass:"alert-group"},[r("Icon",{staticStyle:{color:"#2376b7"},attrs:{type:"ios-alert-outline"}}),r("div",{staticClass:"alert-desc"},[e._v(" 系统版本: "),r("span",{staticClass:"overview"},[e._v(e._s(e.osVersion))])])],1)]),r("div",{staticClass:"content"},[r("div",{staticClass:"system-section"},[e._v("Process Env")]),e._l(e.systemEnv,(function(t,a){return r("div",{key:"env_"+a,staticClass:"section-detail env-group"},[r("Icon",{attrs:{type:"ios-arrow-forward"}}),r("span",{staticClass:"env-key"},[e._v(" "+e._s(t.key))]),r("span",{staticClass:"env-semi"},[e._v(": ")]),r("span",{staticClass:"env-value"},[e._v('"'+e._s(t.value)+'"')])],1)})),r("div",{staticClass:"system-section",staticStyle:{"margin-top":"15px"}},[e._v("Resource Limit")]),e._l(e.resourceLimits,(function(t,a){return r("div",{key:"limit_"+a,staticClass:"section-detail"},[r("Icon",{attrs:{type:"ios-arrow-forward"}}),r("span",{staticClass:"respurce-key"},[e._v(" "+e._s(t.type))]),r("span",{staticClass:"env-semi"},[e._v(": ")]),e._v(" Soft "),r("span",{staticClass:"respurce-params"},[e._v(e._s(t.softLimit))]),e._v(" Hard "),r("span",{staticClass:"respurce-params"},[e._v(e._s(t.hardLimit))])],1)})),r("div",{staticClass:"system-section",staticStyle:{"margin-top":"15px"}},[e._v("Loaded Libraries")]),e._l(e.loadedLibraries,(function(t,a){return r("div",{key:"lib_"+a,staticClass:"section-detail"},[r("Icon",{attrs:{type:"ios-arrow-forward"}}),e._v(" "+e._s(t)+" ")],1)}))],2)],1)},iy=[];function sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function cy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sy(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ly=m("dashboard/analytics"),uy=ly.mapState,py={computed:cy({},uy(["file_data"]),{osVersion:function(){return this.file_data.osVersion},system:function(){return this.file_data.system||{}},systemEnv:function(){var e=this.system.env||[];return e.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}}))},resourceLimits:function(){var e=this.system.resourceLimits||[];return e},loadedLibraries:function(){var e=this.system.loadedLibraries||[];return e}})};function dy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dy(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hy=fy({},py),vy=hy,by=(r("ab6a"),Object(u["a"])(vy,oy,iy,!1,null,"6dbe0001",null)),yy=by.exports;function gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function my(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gy(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oy=my({components:{"x-javascript":hb,"x-native":Db,"x-libuv":ny,"x-system-view":yy}},Bv),wy=Oy,jy=Object(u["a"])(wy,Mv,Ev,!1,null,null,null),_y=jy.exports;function xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Py(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xy(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ky=Py({components:{"x-overview":gv,"x-diag-tab":Av,"x-diag-content":_y}},dv),Dy=ky,Sy=(r("fca7"),Object(u["a"])(Dy,av,nv,!1,null,"6894aca3",null)),Ty=Sy.exports,Cy=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-dashboard-title",{attrs:{appName:"GC 追踪日志分析",dashboardTitle:e.gcData.fileBasename,line:""}}),r("div",{staticClass:"gc-content"},[r("div",{staticClass:"gc-loading"},[r("x-loading",{attrs:{loading:e.file_loading,top:"calc(40vh - 50px)",type:"dot",size:"large"}})],1),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.file_load_error,expression:"file_load_error"}],attrs:{message:e.file_load_error,top:"calc(40vh - 57px)"}}),r("transition",{attrs:{name:"slide-noward"}},[e.file_loading||e.file_load_error?e._e():r("div",[e.file_data.gc.length?r("div",[r("x-overview",{attrs:{data:e.overviewData}}),r("x-trace-statistics",{staticClass:"trace-statistics"}),r("x-trace-detail",{staticClass:"trace-detail"})],1):r("x-error-message",{attrs:{message:"当前进程追踪采样期间暂无 GC 行为发生",top:"calc(40vh - 57px)"}})],1)])],1)],1)},Ay=[];function My(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?My(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):My(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Iy=m("dashboard/file/wrapper"),Ly=Iy.mapState,Ry=m("dashboard/analytics/gc"),Fy=Ry.mapMutations,$y=Ry.mapGetters,Ny=m("dashboard/analytics"),By=Ny.mapState,Uy=Ny.mapActions,zy=D,Gy=k,Wy={created:function(){this.cancelToken=T(),this.downloadFile({cancelToken:this.cancelToken.token,fileId:this.gcData.fileId,fileType:this.gcData.fileType})},beforeDestroy:function(){C(this.cancelToken)},methods:Ey({},Uy(["downloadFile"]),{},Fy(["setGcFileData"])),computed:Ey({},Ly(["gcData"]),{},$y(["startTime","stopTime","gcList","calculateSize"]),{},By(["file_loading","file_load_error","file_data"]),{overviewData:function(){var e=this.gcList,t=0,r=0,a=0,n=0,o=0,i=this.stopTime-this.startTime,s=!0,c=!1,l=void 0;try{for(var u,p=e[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;t+=+(d.end-d.start),r++,"scavenge"===d.type&&a++,"marksweep"===d.type&&n++,"marking"===d.type&&o++}}catch(y){c=!0,l=y}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}var f,h,v="".concat(zy(t)," / ").concat(zy(i)),b="".concat(r," ( ").concat(a," / ").concat(n," / ").concat(o," )");return e.length?(f=Gy(this.calculateSize(e[0].before)),h=Gy(this.calculateSize(e[e.length-1].after))):(f="-",h="-"),[{label:"追踪期间 GC 暂停总时间 / 追踪时长",value:v},{label:"GC 次数 (Scavenge / Mark-Sweep / Incremental-Marking)",value:b},{label:"第一次 GC 前堆大小",value:f},{label:"最后一次 GC 后堆大小",value:h}]}}),watch:{file_data:function(){this.file_data&&this.setGcFileData(this.file_data)}}},Hy=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"section-title"},[e._v("GC 追踪全貌概览")]),r("div",{staticClass:"trace-group"},[r("div",{staticClass:"trace-item"},[r("div",{staticClass:"sub-title"},[e._v("GC 暂停时间占比 ( "+e._s(e.formatPercentage(e.gcOccupy))+"% )")]),r("div",{staticClass:"gc-total-wrapper"},[r("div",{staticClass:"gc-occupy",style:"width: "+e.gcOccupy+"%;"})])]),r("div",{staticClass:"trace-item"},[r("div",{staticClass:"sub-title"},[e._v("GC 暂停时间分布 (ms)")]),r("x-mini-scatter",{staticClass:"mini-scatter",attrs:{data:e.pauseTime,"dot-color":"#3B93D8"}})],1),r("div",{staticClass:"trace-item"},[r("div",{staticClass:"sub-title"},[e._v("GC 内存变化分布 (MB)")]),r("x-mini-scatter",{staticClass:"mini-scatter",attrs:{data:e.memoryChange,"dot-color":"#ff9900"}})],1)])])},Xy=[];function qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Yy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qy(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vy=m("dashboard/analytics/gc"),Ky=Vy.mapGetters,Qy={methods:{formatPercentage:function(e){return e.toFixed(2)}},computed:Yy({},Ky(["startTime","stopTime","pauseTime","memoryChange"]),{totalPauseTime:function(){var e=0,t=!0,r=!1,a=void 0;try{for(var n,o=this.pauseTime[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;e+=i}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e},gcOccupy:function(){var e=this.totalPauseTime,t=this.stopTime-this.startTime;return e/t*100}})};function Zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Jy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zy(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var eg=Jy({},Qy),tg=eg,rg=(r("1ecf"),Object(u["a"])(tg,Hy,Xy,!1,null,"4cb3d6d8",null)),ag=rg.exports,ng=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"section-title"},[e._v("GC 追踪分片解析")]),r("div",{staticClass:"trace-content"},[r("x-trace-panel",{staticClass:"trace-panel",attrs:{"select-gc":e.selectGc}}),r("div",{staticClass:"trace-charts"},[r("div",{staticClass:"trace-group"},[r("x-histogram",{ref:"histogram",staticClass:"trace-item",attrs:{data:e.pauseTimeWithStart,xAxis:"index",yAxis:"pause",yAxisUnit:"ms",yAxisZero:""},on:{broadcast:function(t){return e.broadcast("histogram",arguments)},linkage:function(t){return e.linkage("histogram",arguments)},hidden:function(t){return e.hidden("histogram")}}}),r("x-area",{ref:"area",staticClass:"trace-item",attrs:{right:30,bottom:27,data:e.heapTrendWithStart,xAxis:"index",yAxis:["heap_size"],xAxisScaleCount:5,yAxisUnit:"MB"},on:{broadcast:function(t){return e.broadcast("area",arguments)},linkage:function(t){return e.linkage("area",arguments)},hidden:function(t){return e.hidden("area")}}})],1),r("div",{staticClass:"trace-group"},[r("x-histogram",{ref:"histogram2",staticClass:"trace-item",attrs:{data:e.pauseTimeWithStart,xAxis:"index",yAxis:"changeAbs",yAxisUnit:"MB",yAxisZero:""},on:{broadcast:function(t){return e.broadcast("histogram2",arguments)},linkage:function(t){return e.linkage("histogram2",arguments)},hidden:function(t){return e.hidden("histogram2")}}}),r("x-space-scatter",{ref:"scatter",staticClass:"trace-item",attrs:{data:e.spaceTrendWithStart.list,xAxis:"index",yAxis:e.spaceTrendWithStart.spaces,yAxisUnit:"MB",yAxisZero:""},on:{broadcast:function(t){return e.broadcast("scatter",arguments)},linkage:function(t){return e.linkage("scatter",arguments)},hidden:function(t){return e.hidden("scatter")}}})],1)])],1)])},og=[];function ig(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function sg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ig(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ig(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cg=m("dashboard/analytics/gc"),lg=cg.mapGetters,ug={methods:{broadcast:function(e,t){var r=Object(O["a"])(t,1),a=r[0],n=!0,o=!1,i=void 0;try{for(var s,c=this.charts[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;l.name!==e&&this.$refs[l.name].handleBroadcase(a)}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}},linkage:function(e,t){var r=Object(O["a"])(t,1),a=r[0];this.selectGc=a.time;var n=!0,o=!1,i=void 0;try{for(var s,c=this.charts[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;l.name!==e&&this.$refs[l.name].showTip(a)}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}},hidden:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=this.charts[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.name!==e&&this.$refs[i.name].hiddenTip()}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}},computed:sg({},lg(["pauseTimeWithStart","heapTrendWithStart","spaceTrendWithStart"]),{charts:function(){return[{name:"histogram"},{name:"area"},{name:"histogram2"},{name:"scatter"}]}})},pg=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"panel"},[r("div",{staticClass:"title-group",style:"background-color: "+e.getTitleColor(e.gcData.type)+";"},[r("div",{staticClass:"icon-wrapper"},[r("transition",{attrs:{name:"slide-noward"}},[r("Icon",{directives:[{name:"show",rawName:"v-show",value:1!==e.gcTime,expression:"gcTime !== 1"}],staticClass:"icon",attrs:{type:"ios-arrow-back"},on:{click:function(t){e.gcTime--}}})],1)],1),r("div",{staticClass:"title-wrapper"},[r("div",{staticClass:"mian-title"},[e._v(" 第 "),r("span",{staticClass:"gc-times"},[e._v(e._s(e.gcTime))]),e._v(" 次 GC ")]),r("div",{staticClass:"sub-title"},[e._v("类型: "+e._s(e.gcData.type))])]),r("div",{staticClass:"icon-wrapper"},[r("transition",{attrs:{name:"slide-noward"}},[r("Icon",{directives:[{name:"show",rawName:"v-show",value:e.gcTime!==e.maxDataLength,expression:"gcTime !== maxDataLength"}],staticClass:"icon",attrs:{type:"ios-arrow-forward"},on:{click:function(t){e.gcTime++}}})],1)],1)]),r("div",{staticClass:"statistics"},e._l(e.statistics,(function(t,a){return r("div",{key:a,staticClass:"statistics-group",style:0!==a?"margin-top: 10px;":""},e._l(t,(function(t,a){return r("div",{key:a,staticClass:"metric-group"},[r("div",{staticClass:"metric-key"},[e._v(e._s(t.title))]),r("div",{staticClass:"metric-value"},[e._v(e._s(t.value))])])})),0)})),0),r("div",{staticClass:"gc-radio"},[r("RadioGroup",{model:{value:e.showSpaceStatus,callback:function(t){e.showSpaceStatus=t},expression:"showSpaceStatus"}},[r("Radio",{staticClass:"radio-label",attrs:{label:"before"}},[e._v("GC 前")]),r("Radio",{staticClass:"radio-label",attrs:{label:"after"}},[e._v("GC 后")])],1)],1),r("div",{ref:"spaces",staticClass:"spaces",style:"height: "+e.spacesWidth+"px;"},[r("x-space-status",{attrs:{data:e.gcData[e.showSpaceStatus],before:e.gcData.before,height:e.spacesWidth}})],1),r("div",{staticClass:"gc-status"},e._l(e.gcStstus,(function(t,a){return r("div",{key:a,staticClass:"statistics-group",style:0!==a?"margin-top: 10px;":""},e._l(t,(function(t,a){return r("div",{key:a,staticClass:"metric-group"},[r("div",{staticClass:"metric-key"},[e._v(e._s(t.title))]),r("div",{staticClass:"metric-value"},[e._v(e._s(t.value))])])})),0)})),0)])},dg=[];function fg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fg(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var vg=m("dashboard/analytics/gc"),bg=vg.mapState,yg=vg.mapGetters,gg={mounted:function(){this.spaces=this.$refs.spaces,this.setSpaceWidth()},methods:{setSpaceWidth:function(){if(this.spaces){var e=parseInt(window.getComputedStyle(this.spaces).width,10);e&&(this.spacesWidth=e)}},formatChartipTime:function(e){return D(e,!1,!0,1)},getTitleColor:function(e){var t="";switch(e){case"scavenge":t="#3498db";break;case"marksweep":t="#ff9900";break;case"marking":t="#6a5acd";break;default:break}return t}},computed:hg({},bg(["gcFile"]),{},yg(["calculateSize"]),{gcData:function(){return this.gcFile.gc[this.gcTime-1]},maxDataLength:function(){return this.gcFile.gc.length},statistics:function(){var e=this.gcData,t=this.formatChartipTime(e.totalSpentfromStart),r=this.calculateSize(e.after)-this.calculateSize(e.before);r=Number((r/1024/1024).toFixed(2)),r=r>=0?"+".concat(r,"MB"):"".concat(r,"MB");var a="".concat(+(e.end-e.start),"ms");return[[{title:"累计 GC 暂停时间",value:t},{title:"累计 GC 总次数",value:e.totalTimesfromStart}],[{title:"GC 堆大小变化",value:r},{title:"GC 暂停时间",value:a}]]},gcStstus:function(){var e=this.gcData,t=this.showSpaceStatus,r=0,a=["read_only_space","old_space","code_space","map_space"],n=!0,o=!1,i=void 0;try{for(var s,c=e[t][Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;a.includes(l.name)&&(r+=l.space_available_size)}}catch(u){o=!0,i=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return[[{title:"所有空间已使用",value:k(this.calculateSize(e[t]))},{title:"所有空间占用",value:k(this.calculateSize(e[t],"space_size"))}],[{title:"Page 空洞大小",value:k(r)},{title:"物理内存占用",value:k(this.calculateSize(e[t],"physical_space_size"))}]]}}),watch:{selectGc:function(){j(this.selectGc)&&(this.gcTime=this.selectGc)},gcTime:function(){this.showSpaceStatus="before"}}},mg=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"space-status"},[r("x-chartip",{ref:"chartip",attrs:{"min-width":100,"max-width":100,"no-arrow":""}},[r("div",{staticClass:"space-size",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.selectedSpace)+": "+e._s(e.selectedSpaceSize))])]),r("div",{staticClass:"smaller-spaces",style:"height: "+(100-e.largerHeight)+"%;"},e._l(e.smallers,(function(t,a){return r("div",{key:a,ref:"smaller-"+a,refInFor:!0,staticClass:"small-space-wrapper",style:"width: "+t.width+"%;"+(0!==a?"padding-left: 1px;":"")},[r("div",{staticClass:"used-space-wrapper",style:"height: "+(100-t.usedHeight)+"%;background-color: "+t.color+";"},[r("div",{staticClass:"used-space",on:{mousemove:function(r){return e.mousemove("small_unused_space",r,t,a)},mouseleave:e.mouseleave}})]),r("div",{staticClass:"smaller-space",style:"height: "+t.usedHeight+"%;background-color: "+t.color+";",on:{mousemove:function(r){return e.mousemove("small_used_space",r,t,a)},mouseleave:e.mouseleave}})])})),0),r("div",{staticClass:"larger-space-wrapper",style:"height: "+e.largerHeight+"%;"},[r("div",{staticClass:"used-space-wrapper",style:"height: "+(100-e.largerUsedHeight)+"%;background-color: "+e.largerColor+";"},[r("div",{staticClass:"used-space",on:{mousemove:function(t){return e.mousemove("large_unused_space",t)},mouseleave:e.mouseleave}})]),r("div",{staticClass:"larger-space",style:"height: "+e.largerUsedHeight+"%;background-color: "+e.largerColor+";",on:{mousemove:function(t){return e.mousemove("large_used_space",t)},mouseleave:e.mouseleave}})])],1)},Og=[];function wg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function jg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wg(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _g={mounted:function(){this.chartip=this.$refs.chartip},methods:jg({getOffsetX:function(e){for(var t=0,r=e-1;r>=0;r--){var a=this.$refs["smaller-".concat(r)];if(a&&a[0]){var n=parseInt(window.getComputedStyle(a[0]).width,10);t+=n}}return t}},w("mousemove",(function(e,t,r,a){var n=this.height,o=this.largerHeight/100,i=this.largerUsedHeight/100,s=t.offsetX,c=t.offsetY,l=this.sortedSpaceBefore,u=l.larger,p=l.smaller,d=this.spaceMap;switch(e){case"large_used_space":c+=n*(1-o)+n*o*(1-i),this.selectedSpace="used_".concat(u.name);var f=d[u.name].space_used_size;this.selectedSpaceSize=k(f);break;case"large_unused_space":c+=n*(1-o),this.selectedSpace="unused_".concat(u.name);var h=d[u.name],v=h.space_size,b=h.space_used_size;this.selectedSpaceSize=k(v-b);break;case"small_used_space":var y=r.usedHeight/100;s+=this.getOffsetX(a),c+=n*(1-o)*(1-y),this.selectedSpace="used_".concat(p[a].name);var g=d[p[a].name].space_used_size;this.selectedSpaceSize=k(g);break;case"small_unused_space":s+=this.getOffsetX(a),this.selectedSpace="unused_".concat(p[a].name);var m=d[p[a].name],O=m.space_size,w=m.space_used_size;this.selectedSpaceSize=k(O-w);break;default:break}var j={offsetX:s,offsetY:c};this.chartip.show(j,0,n,0)})),{},w("mouseleave",(function(){this.selectedSpace=void 0,this.selectedSpaceSize=void 0,this.chartip.hidden()}))),computed:{spaceMap:function(){var e={},t=!0,r=!1,a=void 0;try{for(var n,o=this.data[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,s=i.name,c=i.space_size,l=i.space_used_size;e[s]={space_size:c,space_used_size:l}}}catch(u){r=!0,a=u}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e},sortedSpaceBefore:function(){var e=[],t=!0,r=!1,a=void 0;try{for(var n,o=this.before[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,s=i.name,c=i.space_size,l=i.space_used_size;e.push({name:s,space_size:c,space_used_size:l})}}catch(u){r=!0,a=u}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e.sort((function(e,t){return e.space_size<t.space_size?1:-1})),{larger:e.shift(),smaller:e}},smallers:function(){var e=this,t=this.spaceMap,r=this.sortedSpaceBefore.smaller,a=0,n=!0,o=!1,i=void 0;try{for(var s,c=r[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value.name;a+=t[l].space_size}}catch(d){o=!0,i=d}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}var u=15,p=r.map((function(r){var n=r.name,o=t[n],i=o.space_size,s=o.space_used_size,c=i/a*100;return{width:c<u&&0!==c?u:c,usedHeight:0===i?0:s/i*100,color:e.colors[n]}}));return p},largerHeight:function(){var e=this.spaceMap,t=this.sortedSpaceBefore,r=t.larger.name,a=t.smaller,n=0,o=!0,i=!1,s=void 0;try{for(var c,l=a[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value.name;n+=e[u].space_size}}catch(f){i=!0,s=f}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}var p=e[r].space_size,d=p/(p+n)*100;return d=d>80?80:d,d},largerUsedHeight:function(){var e=this.sortedSpaceBefore.larger.name,t=this.spaceMap[e],r=t.space_size,a=t.space_used_size;return a/r*100},largerColor:function(){var e=this.sortedSpaceBefore.larger.name;return this.colors[e]}}};function xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xg(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kg=Pg({props:{data:Array,before:Array,height:Number},data:function(){return{colors:{old_space:"#f4d03f",new_space:"#30bfd9",map_space:"#646faa",large_object_space:"#8995d9",code_space:"#d4668c",read_only_space:"#2e86c1",new_large_object_space:"#9b59b6",code_large_object_space:"#2ecc71"},selectedSpace:void 0,selectedSpaceSize:void 0}}},_g),Dg=kg,Sg=(r("6067"),Object(u["a"])(Dg,mg,Og,!1,null,"696eef18",null)),Tg=Sg.exports;function Cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mg=Ag({props:{selectGc:Number},components:{"x-space-status":Tg},data:function(){return{gcTime:1,showSpaceStatus:"before",spacesWidth:0}}},gg),Eg=Mg,Ig=(r("64e7"),Object(u["a"])(Eg,pg,dg,!1,null,"1ac11cef",null)),Lg=Ig.exports;function Rg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Fg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rg(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $g=Fg({components:{"x-trace-panel":Lg},data:function(){return{selectGc:1}}},ug),Ng=$g,Bg=(r("6146"),Object(u["a"])(Ng,ng,og,!1,null,"0155c240",null)),Ug=Bg.exports;function zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zg(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wg=Gg({components:{"x-overview":gv,"x-trace-statistics":ag,"x-trace-detail":Ug}},Wy),Hg=Wg,Xg=(r("d215"),Object(u["a"])(Hg,Cy,Ay,!1,null,"1eb938e5",null)),qg=Xg.exports;function Yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yg(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kg=Vg({components:{"x-diag":Ty,"x-gc":qg},data:function(){return{diagDrawerKey:"diag-analytics",gcDrawerKey:"gc-analytics",whiteQueryKeys:["filterType","page"],forceGoBack:!0}}},rv),Qg=Kg,Zg=(r("896f"),Object(u["a"])(Qg,Uh,zh,!1,null,"979369a2",null)),Jg=Zg.exports;function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?em(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rm=tm({props:{appName:String,title:String,currentUserIsOwner:Boolean},components:{"x-uploader":_d,"x-type-filter":$d,"x-file-list":Bh,"x-analytics":Jg}},Gp),am=rm,nm=(r("42d5"),Object(u["a"])(am,Up,zp,!1,null,"46ed6e3c",null)),om=nm.exports,im=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"detail-content"},[r("x-dashboard-title",{attrs:{appName:e.appName,dashboardTitle:e.title,line:""}}),r("Alert",{staticClass:"x-alert tip",attrs:{type:"info"}},[r("div",{staticClass:"alert-group"},[r("Icon",{staticStyle:{color:"#2376b7"},attrs:{type:"ios-alert-outline"}}),r("div",{staticClass:"alert-desc"},[e._v("您可以将应用授权给其它成员进行管理，团队成员可以查看完整的应用监控数据，也可以访问生成的性能分析文件，方便协作定位 Node.js 应用故障")])],1)]),r("div",{staticClass:"addition-wrapper"},[r("div",{staticClass:"addition"},[r("Input",{staticClass:"add-team-member",attrs:{placeholder:"请输入需要邀请的用户 ID"},model:{value:e.invitedUserId,callback:function(t){e.invitedUserId=t},expression:"invitedUserId"}},[r("span",{staticClass:"addition-tip",attrs:{slot:"prepend"},slot:"prepend"},[e._v("邀请新成员")])]),r("Button",{staticClass:"addition-confirm",attrs:{long:"",type:"info"},on:{click:e.inviteMember}},[e._v("确认邀请")])],1)]),r("div",[r("x-loading",{attrs:{loading:e.members_loading,type:"dot",size:"middle",top:"calc(40vh - 105px)"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.members_load_error,expression:"members_load_error"}],attrs:{message:e.members_load_error,top:"calc(40vh -  115px)"}}),r("transition",{attrs:{name:"slide-noward"}},[e.members_loading||e.members_load_error?e._e():r("x-members",{staticClass:"members"})],1)],1),r("x-team-confirm")],1)},sm=[];function cm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function lm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var um=m("dashboard/team"),pm=um.mapState,dm=um.mapGetters,fm=um.mapMutations,hm=um.mapActions,vm={created:function(){this.cancelToken=T(),this.getTeamMembers({cancelToken:this.cancelToken.token})},beforeDestroy:function(){C(this.cancelToken)},methods:lm({},fm(["setConfirmModal"]),{},hm(["getTeamMembers"]),{inviteMember:function(){if(this.invitedUserId){var e=this.createConfirmData("invitation","邀请成员","将邀请用户 <strong>".concat(this.invitedUserId,"</strong> 至本应用，请注意这里需要输入正确的用户 ID"),{userId:this.invitedUserId});this.setConfirmModal({status:!0,data:e})}else this.$Message.error("填写的邀请用户 ID 不能为空")}}),computed:lm({},pm(["members_loading","members_load_error","confirmModal","confirmData"]),{},dm(["createConfirmData"])),watch:{confirmModal:function(){if(!this.confirmModal){var e=this.confirmData,t=e.type,r=e.success;"invitation"===t&&(this.invitedUserId=void 0),r&&("leaveTeam"===t?this.$router.push({path:"/console",query:{type:"joinedApps"}}):this.getTeamMembers({cancelToken:this.cancelToken.token}))}}}},bm=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-table",{attrs:{columns:e.columns,data:e.members,noDataText:"应用下暂无团队成员","no-data-head":""},scopedSlots:e._u([{key:"userInfo",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[e._v(e._s(a.userInfo))])]}},{key:"status",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[e._v(e._s(e.formatStatus(a.status)))])]}},{key:"timestamp",fn:function(t){var a=t.row;return[r("div",{staticClass:"padding"},[e._v(e._s(e.formatTime(a.timestamp)))])]}},{key:"operation",fn:function(t){var a=t.row;return[e.currentUserId===e.appOwnerId?r("div",[1===a.status?r("Button",{staticClass:"button-label",attrs:{type:"warning",size:"small"},on:{click:function(t){return e.cancelInvitation(a)}}},[e._v("撤回邀请")]):e._e(),2===a.status?r("Button",{staticClass:"button-label",attrs:{type:"info",size:"small"},on:{click:function(t){return e.transferOwnership(a)}}},[e._v("转交应用")]):e._e(),2===a.status?r("Button",{staticClass:"button-label second-button",attrs:{type:"error",size:"small"},on:{click:function(t){return e.deleteMember(a)}}},[e._v("移除成员")]):e._e()],1):r("div",[a.userId===e.currentUserId?r("Button",{staticClass:"button-label",attrs:{type:"warning",size:"small"},on:{click:function(t){return e.leaveTeam()}}},[e._v("离开团队")]):e._e()],1)]}}])})],1)},ym=[];function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Om=m("dashboard/team"),wm=Om.mapState,jm=Om.mapGetters,_m=Om.mapMutations,xm={methods:mm({},_m(["setConfirmModal"]),{formatStatus:function(e){var t="未知";switch(e){case 0:t="管理员";break;case 1:t="邀请中";break;case 2:t="已加入";break;default:break}return t},formatTime:function(e){return Vn()(e).format("YYYY-MM-DD HH:mm:SS")},cancelInvitation:function(e){var t=e.userId,r=e.userInfo,a=this.createConfirmData("cancelInvitation","撤销邀请","撤销对用户 <strong>".concat(r,"</strong> 的邀请，后续您仍然可以邀请此用户加入本应用"),{userId:t});this.setConfirmModal({status:!0,data:a})},deleteMember:function(e){var t=e.userId,r=e.userInfo,a=this.createConfirmData("deleteMember","移除成员","将用户 <strong>".concat(r,"</strong> 移出本应用，后续您仍然可以邀请此用户加入本应用"),{userId:t});this.setConfirmModal({status:!0,data:a})},transferOwnership:function(e){var t=e.userId,r=e.userInfo,a=this.createConfirmData("transferOwnership","转交应用","将本应用管理员角色转交给 <strong>".concat(r,"</strong>，转交后您的角色将变更为应用普通成员"),{userId:t});this.setConfirmModal({status:!0,data:a})},leaveTeam:function(){var e=this.createConfirmData("leaveTeam","离开团队","将离开本应用团队，离开团队后您无法继续查看应用的监控数据");this.setConfirmModal({status:!0,data:e})}}),computed:mm({},wm(["members_data"]),{},jm(["createConfirmData"]),{members:function(){var e=this.members_data.list;return e.sort((function(e,t){return e.status>t.status?1:e.status===t.status&&e.timestamp>t.timestamp?1:-1})),e},appOwnerId:function(){var e=this.members_data.list,t=e.filter((function(e){return 0===e.status}));return t.length&&(t=t[0].userId),t},currentUserId:function(){var e=this.members_data.currentUserId;return e}})};function Pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pm(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dm=km({data:function(){return{columns:[{title:"成员信息",value:"userInfo",left:23},{title:"当前状态",value:"status",align:"center"},{title:"邀请 / 加入时间",value:"timestamp",align:"center"},{title:"团队操作",value:"operation",align:"center",width:205}]}}},xm),Sm=Dm,Tm=(r("fa60"),Object(u["a"])(Sm,bm,ym,!1,null,"59019c2d",null)),Cm=Tm.exports,Am=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-modal",{ref:"confirm",attrs:{title:e.confirmData.title,padding:0,"hide-footer":""},on:{canceled:e.closeConfirmModal}},[r("x-confirm-content",{attrs:{slot:"content"},slot:"content"})],1)],1)},Mm=[];function Em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Em(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Em(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lm=m("dashboard/team"),Rm=Lm.mapState,Fm=Lm.mapMutations,$m=U("modalQueryKey","confirmModal","confirm","setConfirmModal"),Nm=$m.mapMethods,Bm=$m.mapWatch,Um=$m.handleMounted,zm={mounted:function(){Um.call(this,"handleConfirmModal")},methods:Im({},Fm(["setConfirmModal"]),{},Nm("handleConfirmModal"),{closeConfirmModal:function(){this.setConfirmModal({status:!1})}}),computed:Im({},Rm(["confirmModal","confirmData"])),watch:Im({},Bm,{$route:function(e){this.handleConfirmModal(e.query)}})},Gm=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-loading",{attrs:{loading:e.confirmData.loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.confirmData.error,expression:"confirmData.error"}],attrs:{message:e.confirmData.error}}),e.confirmData.loading||e.confirmData.error||e.confirmData.success?e._e():r("div",{staticClass:"confirm",domProps:{innerHTML:e._s(e.confirmData.content)}})],1),r("div",{staticClass:"x-modal-footer"},[e.confirmData.loading?e._e():r("div",[r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeConfirmModal}},[e._v("关闭")]),e.confirmData.error||e.confirmData.success?e._e():r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.submitRequest}},[e._v("确认")])],1)])])},Wm=[];function Hm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hm(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qm=m("dashboard/team"),Ym=qm.mapState,Vm=qm.mapMutations,Km=qm.mapActions,Qm={created:function(){this.cancelToken=T()},beforeDestroy:function(){C(this.cancelToken)},methods:Xm({},Vm(["setConfirmModal"]),{},Km(["inviteMember","deleteMember","transferOwnership","leaveTeam"]),{closeConfirmModal:function(){this.setConfirmModal({status:!1})},submitRequest:function(){var e=this.confirmData,t=e.type,r=e.data;if("invitation"===t){var a=r.userId;this.inviteMember({cancelToken:this.cancelToken.token,userId:a})}if("cancelInvitation"===t){var n=r.userId;this.deleteMember({cancelToken:this.cancelToken.token,userId:n})}if("deleteMember"===t){var o=r.userId;this.deleteMember({cancelToken:this.cancelToken.token,userId:o})}if("transferOwnership"===t){var i=r.userId;this.transferOwnership({cancelToken:this.cancelToken.token,userId:i})}"leaveTeam"===t&&this.leaveTeam({cancelToken:this.cancelToken.token})}}),computed:Xm({},Ym(["confirmModal","confirmData"]))};function Zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zm(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var eO=Jm({},Qm),tO=eO,rO=Object(u["a"])(tO,Gm,Wm,!1,null,null,null),aO=rO.exports;function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nO(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var iO=oO({components:{"x-confirm-content":aO},data:function(){return{modalQueryKey:"operation-confirm"}}},zm),sO=iO,cO=Object(u["a"])(sO,Am,Mm,!1,null,null,null),lO=cO.exports;function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uO(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dO=pO({props:{appName:String,title:String,currentUserIsOwner:Boolean},components:{"x-members":Cm,"x-team-confirm":lO},data:function(){return{invitedUserId:void 0}}},vm),fO=dO,hO=(r("a96a"),Object(u["a"])(fO,im,sm,!1,null,"dd137bbc",null)),vO=hO.exports,bO=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"detail-content alarm-content"},[r("x-dashboard-title",{attrs:{appName:e.appName,dashboardTitle:e.title,line:""}}),r("Alert",{staticClass:"x-alert tip",attrs:{type:"info"}},[r("div",{staticClass:"alert-group"},[r("Icon",{staticStyle:{color:"#2376b7"},attrs:{type:"ios-alert-outline"}}),r("div",{staticClass:"alert-desc"},[r("span",[e._v("在这里您可以基于自定义")]),r("a",{attrs:{href:"https://github.com/jacksonTian/boolex",target:"_blank"}},[r("code",[e._v(" DSL ")])]),r("span",[e._v("灵活地配置基础告警规则，以便在应用遇到问题时及时感知")])])],1)]),r("x-alarm-configure"),r("div",{staticClass:"divide-line"}),r("x-alarm-rules"),r("x-modal",{ref:"tip",attrs:{title:e.tipData.title,padding:0,"hide-footer":"",top:"calc(50vh - 120px)"},on:{canceled:e.closeTipModal}},[r("x-tip-content",{attrs:{slot:"content"},slot:"content"})],1),r("x-modal",{ref:"contacts",attrs:{title:"配置告警联系人",padding:0,width:600,"hide-footer":""},on:{canceled:e.closeContactsModal}},[r("x-contacts",{attrs:{slot:"content"},slot:"content"})],1),r("x-drawer",{ref:"history",on:{close:function(t){return e.closeHistoryDrawer()}}},[r("x-history",{attrs:{slot:"content"},slot:"content"})],1)],1)},yO=[];function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var OO=m("dashboard/alarm"),wO=OO.mapState,jO=OO.mapMutations,_O=U("modalTip","tipModal","tip","setTipModal"),xO=_O.mapMethods,PO=_O.mapWatch,kO=_O.handleMounted,DO=U("modalContacts","contactsModal","contacts","setContactsModal"),SO=DO.mapMethods,TO=DO.mapWatch,CO=DO.handleMounted,AO=B("drawerHistory","historyDrawer","history","setHistoryDrawer","historyData"),MO=AO.mapMethods,EO=AO.mapWatch,IO=AO.handleMounted,LO={mounted:function(){kO.call(this,"handleTipModal"),CO.call(this,"handleContactsModal"),IO.call(this,"handleHistoryDrawer",!0)},beforeDestroy:function(){this.resetState()},methods:mO({},jO(["resetState","setTipModal","setContactsModal","setHistoryDrawer"]),{},xO("handleTipModal"),{},SO("handleContactsModal"),{},MO("handleHistoryDrawer"),{closeTipModal:function(){this.setTipModal({status:!1})},closeContactsModal:function(){this.setContactsModal({status:!1})},closeHistoryDrawer:function(){this.setHistoryDrawer({status:!1})}}),computed:mO({},wO(["tipModal","tipData","contactsModal","historyDrawer","historyData"])),watch:mO({},PO,{},TO,{},EO,{$route:function(e){this.handleTipModal(e.query),this.handleContactsModal(e.query),this.handleHistoryDrawer(e.query)}})},RO=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._l(e.configures,(function(t,a){return r("div",{key:a,staticClass:"configure-wrapper",style:0!==a&&e.checkNeedShow(t,"label")?"margin-top: 15px;":""},[r("div",{staticClass:"label-group"},[r("transition",{attrs:{name:"slide-noward"}},[e.checkNeedShow(t,"label")?r("div",{staticClass:"label"},[e._v(e._s(t.label))]):e._e()])],1),r("transition",{attrs:{name:"slide-noward"}},[e.checkNeedShow(t,"selector")?r("div",{staticClass:"selector-group"},[r("div",{staticClass:"selector"},[r("Select",{staticClass:"agent-selector context-selector",style:t.width?"width: "+t.width+"px;":"",attrs:{placeholder:t.placeholder,clearable:""},model:{value:e.modelMap[t.value],callback:function(r){e.$set(e.modelMap,t.value,r)},expression:"modelMap[cfg.value]"}},e._l(e.optionMap[t.value],(function(t){return r("Option",{key:t.value,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1)]):e._e()]),r("transition",{attrs:{name:"slide-noward"}},[e.checkNeedShow(t,"input")?r("div",{staticClass:"input-group"},[r("Input",{staticClass:"input",attrs:{placeholder:t.placeholder||e.placeholderMap[e.modelMap[t.placeholderValue]],clearable:""},model:{value:e.modelMap[t.value],callback:function(r){e.$set(e.modelMap,t.value,r)},expression:"modelMap[cfg.value]"}})],1):e._e()]),"webhook"===t.type?r("div",{staticClass:"webhook-group"},[r("div",{staticClass:"webhook"},[r("Checkbox",{model:{value:e.checkboxMap[t.value],callback:function(r){e.$set(e.checkboxMap,t.value,r)},expression:"checkboxMap[cfg.value]"}},[r("span",{staticStyle:{"margin-left":"5px"}},[e._v("启用")])])],1)]):e._e(),"button"===t.type?r("div",{staticClass:"button-group"},[e.editModel?r("div",[r("Button",{staticClass:"button",attrs:{type:"info",ghost:""},on:{click:e.cancelEdit}},[e._v("取消")]),r("Button",{staticClass:"button",attrs:{type:"info",loading:e.updateRuleLoading},on:{click:function(t){return e.operateRule("update")}}},[e._v("更新规则")])],1):r("div",[r("Button",{staticClass:"button",attrs:{type:"info",loading:e.addRuleLoading},on:{click:function(t){return e.operateRule("add")}}},[e._v("添加规则")])],1)]):e._e()],1)}))],2)},FO=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"alarm-wrapper"},[r("div",{staticClass:"section-title alarm"},[e._v("配置告警规则")])])}];function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$O(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var BO=m("dashboard/alarm"),UO=BO.mapState,zO=BO.mapMutations,GO=BO.mapActions,WO={created:function(){this.cancelToken=T()},beforeDestroy:function(){C(this.cancelToken)},methods:NO({},zO(["resetState","setTipModal"]),{},GO(["getRules","postRule","putRule"]),{reset:function(){var e=this.modelMap;e.contextType="xprofiler_log",e.pushType="p3",e.webhookType="dingtalk",e.webhookAddress=void 0,e.webhookSign=void 0,e.fastRules=void 0,e.customRuleExpr=void 0,e.customRuleDesc=void 0,this.checkboxMap.webhookPush=!1,this.resetState()},checkNeedShow:function(e,t){var r=e.type,a=e.dependent,n=e.dependentValue,o="label"===t||r===t;return"checkbox"===a?o&&this.checkboxMap[n]:o},checkRequired:function(e,t,r){return!!e[t]||(this.$Message.error(r),!1)},cancelEdit:function(){this.reset()},operateRule:function(e){var t=this,r=this.modelMap,a=this.checkRequired(r,"contextType","判定上下文类型不能为空")&&this.checkRequired(r,"pushType","消息推送级别不能为空")&&this.checkRequired(r,"customRuleExpr","自定义阈值表达式不能为空")&&this.checkRequired(r,"customRuleDesc","告警推送内容不能为空");if(a){if(this.checkboxMap.webhookPush){var n=this.checkRequired(r,"webhookType","webhook 类型不能为空")&&this.checkRequired(r,"webhookAddress","webhook 地址不能为空");if(!n)return}var o="",i="",s="";"add"===e&&(i="addRuleLoading",o="postRule",s="添加规则失败"),"update"===e&&(i="updateRuleLoading",o="putRule",s="更新规则失败"),this[i]=!0,this[o]({cancelToken:this.cancelToken.token,data:{strategyId:this.editData.strategyId,contextType:r.contextType,pushType:r.pushType,customRuleExpr:r.customRuleExpr,customRuleDesc:r.customRuleDesc,webhookPush:this.checkboxMap.webhookPush,webhookType:r.webhookType,webhookAddress:r.webhookAddress,webhookSign:r.webhookSign}}).then((function(){t.getRules({cancelToken:t.cancelToken.token}),t[i]=!1,t.reset()})).catch((function(e){var r={title:s,error:e.message,loading:!1};t.setTipModal({status:!0,data:r})})).then((function(){return t[i]=!1}))}}}),computed:NO({},UO(["editModel","editData"])),watch:{"modelMap.fastRules":function(){var e=this.modelMap,t=e.fastRules;switch(t){case"fast_rule_memory":e.contextType="xprofiler_log",e.customRuleExpr="@heap_used / @heap_limit > 0.7",e.customRuleDesc="已用堆内存超过堆上限的 70%，当前为 ${@heap_used / @heap_limit * 100}%";break;case"fast_rule_cpu":e.contextType="xprofiler_log",e.customRuleExpr="@cpu_60 > 80",e.customRuleDesc="1 分钟内 CPU 使用率超过 80%，当前为 ${@cpu_60}%";break;case"fast_rule_gc":e.contextType="xprofiler_log",e.customRuleExpr="@gc_60 > 15",e.customRuleDesc="1 分钟内 GC 消耗超过 15%，当前为 ${@gc_60}%";break;case"fast_rule_expired_request":e.contextType="system_log",e.customRuleExpr="@expired_request > 0",e.customRuleDesc="1 分钟内响应超过 30s 时请求出现 ${@expired_request} 个，请多加关注";break;case"fast_rule_illegal_request":e.contextType="system_log",e.customRuleExpr="@code_4xx / @http_response_sent + @code_5xx / @http_response_sent > 0.5",e.customRuleDesc="1 分钟内 4xx 和 5xx 请求数占比超过 50%，当前为 (${@code_4xx}, ${@code_5xx}) / ${@http_response_sent}";break;case"fast_rule_os_memory":e.contextType="system_log",e.customRuleExpr="@os_mem_usage > 80",e.customRuleDesc="系统内存整体使用率超过 80%，当前为 ${@os_mem_usage}%";break;case"fast_rule_os_cpu":e.contextType="system_log",e.customRuleExpr="@os_cpu_usage > 80",e.customRuleDesc="系统 CPU 整体使用率超过 80%，当前为 ${@os_cpu_usage}%";break;case"fast_rule_disk_usage":e.contextType="system_log",e.customRuleExpr="@disk_usage > 85",e.customRuleDesc="磁盘 (${@mounted_on}) 占比超过 85%：为 ${@disk_usage}%";break;case"fast_rule_error_log_content":e.contextType="error_log",e.customRuleExpr='@error_type == "TypeError" || @error_type ==  "SyntaxError"',e.customRuleDesc="发生错误 ${@error_type}，堆栈是：${@stack}";break;case"fast_rule_dependence_security_risk":e.contextType="xtransit_notification",e.customRuleExpr="@critical > 0 || @high > 0",e.customRuleDesc="项目依赖发现极危漏洞 ${@critical} 个，高危漏洞 ${@high} 个，请尽快升级修复";break;case"fast_rule_coredump":e.contextType="xtransit_notification",e.customRuleExpr="@corefile_created",e.customRuleDesc="服务器生成 coredump 文件，路径为：${@corefile}，请分析查看原因!";break;case"fast_rule_node_process_exit":e.contextType="xtransit_notification",e.customRuleExpr="@node_process_exit",e.customRuleDesc="实例 ${@agent_id} 上 Node.js 进程 ${@pid} 退出，命令信息：${@cmd}";break;default:e.contextType="xprofiler_log",e.customRuleExpr=void 0,e.customRuleDesc=void 0;break}},editData:function(){var e=this.modelMap,t=this.checkboxMap,r=this.editData,a=r.contextType,n=r.pushType,o=r.webhookPush,i=r.webhookType,s=r.webhookAddress,c=r.webhookSign,l=r.expression,u=r.alarmContent;e.contextType=a||"xprofiler_log",e.pushType=n||"p3",t.webhookPush=o||!1,e.webhookType=i||"dingtalk",e.webhookAddress=s,e.webhookSign=c,e.customRuleExpr=l,e.customRuleDesc=u}}};function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HO(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qO=XO({data:function(){return{addRuleLoading:!1,updateRuleLoading:!1,configures:[{label:"判定上下文类型",type:"selector",value:"contextType"},{label:"消息推送级别",type:"selector",value:"pushType"},{label:"附加 webhook 推送",type:"webhook",value:"webhookPush"},{label:"webhook 类型",type:"selector",value:"webhookType",dependent:"checkbox",dependentValue:"webhookPush"},{label:"webhook 地址",type:"input",value:"webhookAddress",dependent:"checkbox",dependentValue:"webhookPush",placeholderValue:"webhookType"},{label:"webhook 签名",type:"input",value:"webhookSign",dependent:"checkbox",dependentValue:"webhookPush",placeholder:"&sign=xxxxxx"},{label:"预设规则列表",type:"selector",value:"fastRules",placeholder:"自定义表达式",width:500},{label:"自定义阈值表达式",type:"input",value:"customRuleExpr",placeholder:"eg. @heap_used / @heap_limit > 0.7"},{label:"告警推送内容",type:"input",value:"customRuleDesc",placeholder:"已用堆内存超过堆上限的 70%，当前为 ${@heap_used / @heap_limit * 100}%"},{label:"",type:"button"}],checkboxMap:{webhookPush:!1},modelMap:{contextType:"xprofiler_log",pushType:"p3",webhookType:"dingtalk",webhookAddress:void 0,webhookSign:void 0,fastRules:void 0,customRuleExpr:void 0,customRuleDesc:void 0},optionMap:{contextType:[{value:"xprofiler_log",label:"X-Profiler 插件日志"},{value:"xtransit_notification",label:"X-Transit 通知信息"},{value:"system_log",label:"操作系统指标日志"},{value:"error_log",label:"Node.js 应用错误日志"}],pushType:[{value:"p1",label:"P1 (致电)"},{value:"p2",label:"P2 (短信)"},{value:"p3",label:"P3 (邮件通知)"},{value:"p4",label:"P4 (数据记录)"}],webhookType:[{value:"dingtalk",label:"钉钉推送"}],fastRules:[{value:"fast_rule_memory",label:"进程 Heap Memory 预警"},{value:"fast_rule_cpu",label:"进程 CPU 使用率预警"},{value:"fast_rule_gc",label:"进程 GC 开销过大预警"},{value:"fast_rule_expired_request",label:"进程慢响应预警 (超过 30s)"},{value:"fast_rule_illegal_request",label:"进程异常请求预警 (4xx 5xx 占比过高)"},{value:"fast_rule_os_memory",label:"系统可用 Memory 预警"},{value:"fast_rule_os_cpu",label:"系统整体 CPU 使用率预警"},{value:"fast_rule_disk_usage",label:"系统磁盘使用率预警"},{value:"fast_rule_error_log_content",label:"应用生成特定错误日志预警"},{value:"fast_rule_dependence_security_risk",label:"应用依赖的 Npm 模块安全漏洞预警"},{value:"fast_rule_coredump",label:"Coredump 文件生成预警"},{value:"fast_rule_node_process_exit",label:"Node.js 进程退出预警"}]},placeholderMap:{dingtalk:"https://oapi.dingtalk.com/robot/send?access_token=xxxxxx"}}}},WO),YO=qO,VO=(r("cfa7"),Object(u["a"])(YO,RO,FO,!1,null,"1030b986",null)),KO=VO.exports,QO=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",[r("x-loading",{attrs:{loading:e.rules_loading,type:"dot",size:"middle",top:35}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.rules_load_error,expression:"rules_load_error"}],attrs:{message:e.rules_load_error,top:20}}),r("transition",{attrs:{name:"slide-noward"}},[e.rules_loading||e.rules_load_error?e._e():r("x-setted-rules",{on:{refreshRules:e.refreshRules}})],1)],1)])},ZO=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"alarm-wrapper"},[r("div",{staticClass:"section-title alarm"},[e._v("已配置规则项")])])}];function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JO(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tw=m("dashboard/alarm"),rw=tw.mapState,aw=tw.mapMutations,nw=tw.mapActions,ow={created:function(){this.cancelToken=T(),this.getRules({cancelToken:this.cancelToken.token})},beforeDestroy:function(){C(this.cancelToken)},methods:ew({},aw(["resetState"]),{},nw(["getRules"]),{refreshRules:function(){this.getRules({cancelToken:this.cancelToken.token}),this.resetState()}}),computed:ew({},rw(["rules_loading","rules_load_error"]))},iw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("x-table",{attrs:{columns:e.columns,data:e.rules,noDataText:"应用下暂无已配置告警规则","no-data-head":""},scopedSlots:e._u([{key:"pushType",fn:function(t){var a=t.row;return[r("div",{class:"rule-content"+(a.disabled?" rule-disabled":"")},[e._v(e._s(e.formatPushType(a.pushType)))])]}},{key:"contextType",fn:function(t){var a=t.row;return[r("div",{class:"rule-content"+(a.disabled?" rule-disabled":"")},[e._v(e._s(e.formatContextType(a.contextType)))])]}},{key:"expression",fn:function(t){var a=t.row;return[r("code",{class:a.disabled?" rule-disabled":""},[e._v(e._s(a.expression))])]}},{key:"alarmContent",fn:function(t){var a=t.row;return[r("div",{class:"rule-content"+(a.disabled?" rule-disabled":"")},[e._v(e._s(a.alarmContent))])]}},{key:"alarms",fn:function(t){var a=t.row;return[r("Badge",{staticClass:"setted-rule",attrs:{count:a.alarmCount,"overflow-count":"999",type:a.disabled?"normal":"error"}},[r("Button",{staticClass:"button",attrs:{type:"info",ghost:"",size:"small",disabled:a.disabled},on:{click:function(t){return e.openHistoryDrawer(a)}}},[e._v("告警历史")])],1)]}},{key:"operations",fn:function(t){var a=t.row;return[r("div",{staticClass:"operations"},[r("Button",{staticClass:"button",attrs:{type:"info",ghost:"",size:"small",disabled:a.disabled},on:{click:function(t){return e.openContactsModal(a)}}},[e._v("配置联系人")]),a.disabled?r("Button",{staticClass:"button",staticStyle:{width:"42px"},attrs:{size:"small",type:"success"},on:{click:function(t){return e.operateRule("enable",a)}}},[e._v("启用")]):r("x-dropdown",{ref:"dropdown-"+a.index,attrs:{transformY:8,color:"#2376b7",minWidth:85}},[r("div",{staticClass:"dropdown-title rule-label",attrs:{slot:"title"},slot:"title"},[e._v("更多")]),r("div",{attrs:{slot:"content"},slot:"content"},e._l(e.operations,(function(t,n){return r("div",{key:n,staticClass:"x-dropdown-li operation-wrapper",on:{click:function(r){return e.operateRule(t.value,a)}}},[r("div",{staticClass:"operation"},[e._v(e._s(t.label))])])})),0)])],1)]}}])})],1)},sw=[];function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cw(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var uw=m("dashboard/alarm"),pw=uw.mapState,dw=uw.mapGetters,fw=uw.mapMutations,hw=uw.mapActions,vw={created:function(){this.cancelToken=T(),this.updateRules()},beforeDestroy:function(){C(this.cancelToken)},methods:lw({},fw(["setTipModal","setContactsModal","setEditModel","setHistoryDrawer"]),{},hw(["deleteRule","putRuleStatus"]),{formatPushType:function(e){var t="";switch(e){case"p1":t="P1 (致电)";break;case"p2":t="P2 (短信)";break;case"p3":t="P3 (邮件通知)";break;case"p4":t="P4 (数据记录)";break;default:break}return t},updateRules:function(){var e=this.rules_data;Array.isArray(e)&&(this.rules=e.map((function(e,t){var r=Object.assign({disabled:!1,index:t},e);return r})))},openHistoryDrawer:function(e){var t=e.strategyId,r=e.expression;this.setHistoryDrawer({status:!0,historyData:{strategyId:t,expression:r}})},openContactsModal:function(e){this.setContactsModal({status:!0,data:e})},doAction:function(e,t,r){var a=this,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0,i={title:e,error:void 0,loading:!1};this.setTipModal({status:!0,data:i}),i.loading=!0,this[t]({cancelToken:this.cancelToken.token,data:lw({},r)}).then((function(){a.setTipModal({status:!1}),n&&a.$emit("refreshRules"),"function"===typeof o&&o()})).catch((function(e){i.loading=!1,i.error=e.message}))},delete:function(e){var t=e.strategyId;this.doAction("删除规则","deleteRule",{strategyId:t})},updateStatus:function(e,t){var r=e.strategyId,a=0===t?"禁用规则":"启用规则";this.doAction(a,"putRuleStatus",{strategyId:r,status:t},!1,(function(){return e.disabled=!t}))},operateRule:function(e,t){"edit"===e&&this.setEditModel({status:!0,data:t}),"delete"===e&&this.delete(t),"disable"===e&&this.updateStatus(t,0),"enable"===e&&this.updateStatus(t,1);var r=this.$refs["dropdown-".concat(t.index)];r&&r.mouseout()}}),computed:lw({},pw(["rules_data"]),{},dw(["formatContextType"])),watch:{rules_data:function(){this.updateRules()}}};function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bw(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gw=yw({data:function(){return{columns:[{title:"推送级别",value:"pushType",width:130,left:20},{title:"上下文类型",value:"contextType",width:154},{title:"阈值表达式",value:"expression",width:300},{title:"告警推送内容",value:"alarmContent"},{title:"已触发告警",value:"alarms",width:105,align:"center"},{title:"操作",value:"operations",width:185,align:"center"}],operations:[{label:"编辑",value:"edit"},{label:"删除",value:"delete"},{label:"禁用",value:"disable"}],rules:[]}}},vw),mw=gw,Ow=(r("dd4c"),Object(u["a"])(mw,iw,sw,!1,null,"7db9a360",null)),ww=Ow.exports;function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jw(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xw=_w({components:{"x-setted-rules":ww}},ow),Pw=xw,kw=(r("858e"),Object(u["a"])(Pw,QO,ZO,!1,null,"36e937c0",null)),Dw=kw.exports,Sw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-loading",{attrs:{loading:e.tipData.loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.tipData.error,expression:"tipData.error"}],attrs:{message:e.tipData.error}})],1),r("div",{staticClass:"x-modal-footer"},[e.tipData.loading?e._e():r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeTipModal}},[e._v("关闭")])],1)])},Tw=[];function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cw(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mw=m("dashboard/alarm"),Ew=Mw.mapState,Iw=Mw.mapMutations,Lw={methods:Aw({},Iw(["setTipModal"]),{closeTipModal:function(){this.setTipModal({status:!1})}}),computed:Aw({},Ew(["tipData"]))};function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rw(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $w=Fw({},Lw),Nw=$w,Bw=Object(u["a"])(Nw,Sw,Tw,!1,null,null,null),Uw=Bw.exports,zw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-loading",{attrs:{loading:e.contacts_loading,type:"dot",size:"middle"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.contacts_load_error,expression:"contacts_load_error"}],attrs:{message:e.contacts_load_error}}),r("transition",{attrs:{name:"slide-noward"}},[e.contacts_loading||e.contacts_load_error?e._e():r("x-contacts-settings")],1)],1),r("div",{staticClass:"x-modal-footer"},[r("Button",{directives:[{name:"show",rawName:"v-show",value:!e.contacts_loading,expression:"!contacts_loading"}],attrs:{type:"primary",ghost:""},on:{click:e.closeContactsModal}},[e._v("关闭")])],1)])},Gw=[];function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ww(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xw=m("dashboard/alarm"),qw=Xw.mapState,Yw=Xw.mapMutations,Vw=m("dashboard/alarm/contact"),Kw=Vw.mapState,Qw=Vw.mapActions,Zw={created:function(){this.cancelToken=T();var e=this.contactsData.strategyId;this.getContacts({cancelToken:this.cancelToken.token,strategyId:e})},beforeDestroy:function(){C(this.cancelToken)},methods:Hw({},Yw(["setContactsModal"]),{},Qw(["getContacts"]),{closeContactsModal:function(){this.setContactsModal({status:!1})}}),computed:Hw({},qw(["contactsData"]),{},Kw(["contacts_loading","contacts_load_error"]))},Jw=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Alert",{staticClass:"x-alert tip",attrs:{type:"info"}},[r("div",{staticClass:"alert-group"},[r("Icon",{staticStyle:{color:"#2376b7"},attrs:{type:"ios-alert-outline"}}),r("div",{staticClass:"alert-desc"},[r("span",[e._v("规则")]),r("code",{staticClass:"expression"},[e._v(" "+e._s(e.contactsData.expression)+" ")]),r("span",[e._v("联系人信息")])])],1)]),r("div",{staticClass:"alarm-section"},[e._v("已添加联系人")]),r("x-table",{attrs:{columns:e.contactsColumns,data:e.contacts,noDataText:"规则下未添加告警联系人","no-data-head":""},scopedSlots:e._u([{key:"userInfo",fn:function(t){var a=t.row;return[r("div",{staticClass:"content"},[e._v(e._s(a.userInfo))])]}},{key:"operation",fn:function(t){var a=t.row;return[r("Button",{staticClass:"button",attrs:{type:"info",ghost:"",size:"small",loading:a.loading},on:{click:function(t){return e.remove(a)}}},[e._v("移出联系人列表")])]}}])}),r("div",{staticClass:"alarm-section"},[e._v("可添加联系人")]),r("x-table",{attrs:{columns:e.remainMemberColumns,data:e.remainMembers,noDataText:"没有剩余可添加的联系人","no-data-head":""},scopedSlots:e._u([{key:"userInfo",fn:function(t){var a=t.row;return[r("div",{staticClass:"content"},[e._v(e._s(a.userInfo))])]}},{key:"operation",fn:function(t){var a=t.row;return[r("Button",{staticClass:"button",attrs:{type:"info",ghost:"",size:"small",loading:a.loading},on:{click:function(t){return e.add(a)}}},[e._v("添加至联系人项")])]}}])})],1)},ej=[];function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function rj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var aj=m("dashboard/alarm"),nj=aj.mapState,oj=aj.mapMutations,ij=m("dashboard/alarm/contact"),sj=ij.mapState,cj=ij.mapActions,lj={created:function(){this.cancelToken=T(),this.updateContacts()},beforeDestroy:function(){C(this.cancelToken)},methods:rj({},oj(["setTipModal"]),{},cj(["removeContact","addContact"]),{formatList:function(e){var t=e.map((function(e,t){var r=Object.assign({loading:!1,index:t},e);return r}));return t.sort((function(e,t){return Number(e.userId)>Number(t.userId)?1:-1})),t},updateContacts:function(){var e=this.contacts_data,t=e.contacts,r=e.remainMembers;Array.isArray(t)&&(this.contacts=this.formatList(t)),Array.isArray(r)&&(this.remainMembers=this.formatList(r))},doAction:function(e,t,r,a){var n=this;e.loading=!0,this[t]({cancelToken:this.cancelToken.token,data:{strategyId:this.contactsData.strategyId,userId:e.userId}}).then((function(){return a()})).catch((function(e){var t={title:r,error:e.message,loading:!1};n.setTipModal({status:!0,data:t})})).then((function(){return e.loading=!1}))},remove:function(e){var t=this;this.doAction(e,"removeContact","移除联系人",(function(){t.contacts_data.contacts.splice(e.index,1);var r={userId:e.userId,userInfo:e.userInfo};t.contacts_data.remainMembers.push(r)}))},add:function(e){var t=this;this.doAction(e,"addContact","添加联系人",(function(){t.contacts_data.remainMembers.splice(e.index,1);var r={userId:e.userId,userInfo:e.userInfo};t.contacts_data.contacts.push(r)}))}}),computed:rj({},nj(["contactsData"]),{},sj(["contacts_data"])),watch:{"contacts_data.contacts":function(){this.updateContacts()},"contacts_data.remainMembers":function(){this.updateContacts()}}};function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function pj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uj(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dj=pj({data:function(){return{contacts:[],contactsColumns:[{title:"成员信息",value:"userInfo",left:23},{title:"操作",value:"operation",align:"center",width:150}],remainMembers:[],remainMemberColumns:[{title:"成员信息",value:"userInfo",left:23},{title:"操作",value:"operation",align:"center",width:150}]}}},lj),fj=dj,hj=(r("3dc7"),Object(u["a"])(fj,Jw,ej,!1,null,"47035cb2",null)),vj=hj.exports;function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bj(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gj=yj({components:{"x-contacts-settings":vj}},Zw),mj=gj,Oj=Object(u["a"])(mj,zw,Gw,!1,null,null,null),wj=Oj.exports,jj=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history"},[r("div",{staticClass:"header"},[r("span",[e._v("规则")]),r("code",[e._v(" "+e._s(e.historyData.expression)+" ")]),r("span",[e._v("在 24h 内存在以下")]),r("code",[e._v(" "+e._s(e.totalCount)+" ")]),r("span",[e._v("条告警历史记录")])]),r("div",{staticClass:"content"},[r("x-loading",{attrs:{loading:e.history_loading,type:"dot",size:"middle",top:"calc(40vh)"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.history_load_error,expression:"history_load_error"}],attrs:{message:e.history_load_error,top:"calc(40vh - 22px)"}}),r("transition",{attrs:{name:"slide-noward"}},[r("x-history-content",{directives:[{name:"show",rawName:"v-show",value:!e.history_loading&&!e.history_load_error,expression:"!history_loading && !history_load_error"}],on:{historyCount:e.updateCount}})],1)],1)])},_j=[];function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xj(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kj=m("dashboard/alarm"),Dj=kj.mapState,Sj=m("dashboard/alarm/history"),Tj=Sj.mapState,Cj={methods:{updateCount:function(e){this.totalCount=e}},computed:Pj({},Dj(["historyData"]),{},Tj(["history_loading","history_load_error"]))},Aj=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"history-content"},[r("x-table",{attrs:{columns:e.columns,data:e.history,noDataText:"规则下暂无告警历史记录","no-data-head":"",stribe:""},scopedSlots:e._u([{key:"time",fn:function(t){var a=t.row;return[r("div",{staticClass:"alarm-content"},[e._v(e._s(e.formatTime(a.time)))])]}},{key:"contextType",fn:function(t){var a=t.row;return[r("div",{staticClass:"alarm-content"},[e._v(e._s(e.formatContextType(a.contextType)))])]}},{key:"appInfo",fn:function(t){var a=t.row;return[r("div",{staticClass:"alarm-content"},[e._v(e._s(a.appInfo))])]}},{key:"agentId",fn:function(t){var a=t.row;return[r("div",{staticClass:"alarm-content"},[e._v(e._s(a.agentId))])]}},{key:"alarmContent",fn:function(t){var a=t.row;return[r("div",{staticClass:"alarm-content"},[e._v(e._s(a.alarmContent))])]}},{key:"operation",fn:function(t){var a=t.row;return[r("Button",{staticClass:"button",attrs:{type:"info",size:"small",to:a.detailPath,target:"_blank"}},[e._v("查看详情")])]}}])}),e.totaHistoryCount?r("div",{staticClass:"pagination"},[r("Page",{attrs:{total:e.totaHistoryCount,"page-size":e.pageSize,current:e.currentPage,size:"small","show-elevator":""},on:{"on-change":e.changeHistoryPage}})],1):e._e()],1)},Mj=[];function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ej(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lj=m("dashboard/alarm"),Rj=Lj.mapState,Fj=Lj.mapGetters,$j=m("dashboard/alarm/history"),Nj=$j.mapState,Bj=$j.mapActions,Uj={created:function(){this.cancelToken=T();var e=this.$route.query;e.page?this.currentPage=Number(e.page):this.currentPage=1},beforeDestroy:function(){C(this.cancelToken)},methods:Ij({},Bj(["getAlarmHistory"]),{formatTime:function(e){return Vn()(e).format("YYYY-MM-DD HH:mm:SS")},refreshAlarmHistory:function(){var e=this.historyData.strategyId;this.getAlarmHistory({cancelToken:this.cancelToken.token,data:{strategyId:e,currentPage:this.currentPage,pageSize:this.pageSize}})},changeHistoryPage:function(e){this.currentPage=e}}),computed:Ij({},Rj(["historyData"]),{},Fj(["formatContextType"]),{},Nj(["history_data"])),watch:{history_data:function(){var e=this.history_data,t=e.list,r=e.count;Array.isArray(t)&&(j(r)&&(this.totaHistoryCount=r,this.$emit("historyCount",r)),this.history=t.map((function(e){var t=Object.assign({},e);return t})))},totaHistoryCount:function(){if(this.totaHistoryCount){var e=Math.ceil(this.totaHistoryCount/this.pageSize);this.currentPage>e&&(this.currentPage=e)}},$route:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];E.call(this,t,"page","currentPage")},currentPage:function(){if(this.currentPage){this.refreshAlarmHistory();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I.call(this,"page","currentPage",t)}}}};function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zj(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wj=Gj({data:function(){return{currentPage:void 0,pageSize:50,totaHistoryCount:0,nessaryQueryArgs:["alarm-history","historyData"],columns:[{title:"告警时间",value:"time",width:165},{title:"上下文类型",value:"contextType",width:155},{title:"实例 ID",value:"agentId",width:250},{title:"消息内容",value:"alarmContent"},{title:"操作",value:"operation",align:"center",width:110}],history:[]}}},Uj),Hj=Wj,Xj=(r("c755"),Object(u["a"])(Hj,Aj,Mj,!1,null,"33127376",null)),qj=Xj.exports;function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yj(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kj=Vj({components:{"x-history-content":qj},data:function(){return{totalCount:0}}},Cj),Qj=Kj,Zj=(r("2ac1"),Object(u["a"])(Qj,jj,_j,!1,null,"6607d5d8",null)),Jj=Zj.exports;function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function t_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var r_=t_({props:{appName:String,title:String,currentUserIsOwner:Boolean},components:{"x-alarm-configure":KO,"x-alarm-rules":Dw,"x-tip-content":Uw,"x-contacts":wj,"x-history":Jj},data:function(){return{modalTip:"alarm-tip",modalContacts:"alarm-contacts",drawerHistory:"alarm-history",blackQueryKeys:["page"],forceGoBack:!0}}},LO),a_=r_,n_=(r("a0f4"),Object(u["a"])(a_,bO,yO,!1,null,"4a408952",null)),o_=n_.exports,i_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"detail-content"},[r("x-dashboard-title",{attrs:{appName:e.appName,dashboardTitle:e.title,line:""}}),r("x-loading",{attrs:{loading:e.settings_loading,type:"dot",size:"middle",top:"calc(40vh - 45px)"}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.settings_load_error,expression:"settings_load_error"}],attrs:{message:e.settings_load_error,top:"calc(40vh -  70px)"}}),r("transition",{attrs:{name:"slide-noward"}},[e.settings_loading||e.settings_load_error?e._e():r("x-settings-content")],1),r("x-modal",{ref:"modify",attrs:{title:"修改应用名称",padding:0,"hide-footer":""},on:{canceled:e.closeModifyModal}},[r("x-name-modify",{attrs:{slot:"content"},slot:"content"})],1),r("x-modal",{ref:"delete",attrs:{title:"删除应用",padding:0,width:650,"hide-footer":""},on:{canceled:e.closeDeleteModal}},[r("x-app-delete",{attrs:{slot:"content"},slot:"content"})],1)],1)},s_=[];function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c_(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u_=m("dashboard/settings"),p_=u_.mapState,d_=u_.mapMutations,f_=u_.mapActions,h_=U("modalModify","modifyModal","modify","setModifyModal"),v_=h_.mapMethods,b_=h_.mapWatch,y_=h_.handleMounted,g_=U("modalDelete","deleteModal","delete","setDeleteModal"),m_=g_.mapMethods,O_=g_.mapWatch,w_=g_.handleMounted,j_={created:function(){this.cancelToken=T(),this.getSettingsInfo({cancelToken:this.cancelToken.token})},mounted:function(){y_.call(this,"handleModifyModal"),w_.call(this,"handleDeleteModal")},beforeDestroy:function(){C(this.cancelToken)},methods:l_({},d_(["setModifyModal","setDeleteModal"]),{},f_(["getSettingsInfo"]),{},v_("handleModifyModal"),{},m_("handleDeleteModal"),{closeModifyModal:function(){this.setModifyModal({status:!1})},closeDeleteModal:function(){this.setDeleteModal({status:!1})}}),computed:l_({},p_(["settings_loading","settings_load_error","modifyModal","deleteModal"])),watch:l_({},b_,{},O_,{$route:function(e){this.handleModifyModal(e.query),this.handleDeleteModal(e.query)}})},__=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._l(e.settings,(function(t,a){return r("div",{key:a,staticClass:"wrapper",style:0!==a?"margin-top: 15px;":""},[r("div",{staticClass:"item-label"},[e._v(e._s(t.label)+":")]),r("div",{staticClass:"item-value"},[e._v(e._s(e.settings_data[t.value]))])])})),r("div",{staticClass:"wrapper operations"},[r("div",{staticClass:"item-label"}),r("div",{staticClass:"item-value"},[r("Button",{staticClass:"button",attrs:{type:"info",size:"small"},on:{click:e.openNameModifyModal}},[e._v("修改名称")]),r("Button",{staticClass:"button",staticStyle:{"margin-left":"11px"},attrs:{type:"error",size:"small"},on:{click:e.openDeleteAppModal}},[e._v("删除应用")])],1)])],2)},x_=[];function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P_(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D_=m("dashboard/settings"),S_=D_.mapState,T_=D_.mapMutations,C_={methods:k_({},T_(["setModifyModal","setDeleteModal"]),{openNameModifyModal:function(){this.setModifyModal({status:!0})},openDeleteAppModal:function(){this.setDeleteModal({status:!0})}}),computed:k_({},S_(["settings_data"]))};function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A_(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E_=M_({data:function(){return{settings:[{label:"应用名称",value:"name"},{label:"应用 ID",value:"appId"},{label:"应用秘钥",value:"secret"}]}}},C_),I_=E_,L_=(r("3585"),Object(u["a"])(I_,__,x_,!1,null,"39225e45",null)),R_=L_.exports,F_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content",staticStyle:{"min-height":"120px"}},[r("x-loading",{attrs:{loading:e.loading,type:"dot",size:"middle",top:30}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{message:e.error,top:10}}),e.loading||e.error?e._e():r("div",{staticClass:"x-modal-results new-app"},[r("Input",{attrs:{placeholder:"请输入新的应用名称"},model:{value:e.newAppName,callback:function(t){e.newAppName=t},expression:"newAppName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v("应用名称")])]),e._m(0)],1)],1),r("div",{staticClass:"x-modal-footer"},[e.error?r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeModifyModal}},[e._v("关闭")]):e._e(),e.loading||e.error?e._e():r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeModifyModal}},[e._v("取消")]),e.loading||e.error?e._e():r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.submitNewAppName}},[e._v("提交")])],1)])},$_=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"modal-attention"},[r("strong",[e._v("注意:")]),r("span",{staticStyle:{"margin-left":"10px"}},[e._v("应用名称最大长度不能超过 30 个字符")])])}];function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function B_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N_(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U_=m("dashboard/settings"),z_=U_.mapMutations,G_=U_.mapActions,W_={created:function(){this.cancelToken=T()},beforeDestroy:function(){C(this.cancelToken)},methods:B_({},z_(["setModifyModal","updateSettingsAppName"]),{},G_(["putNewAppName"]),{closeModifyModal:function(){this.setModifyModal({status:!1})},submitNewAppName:function(){var e=this,t=this.newAppName.trim();t?t.length>30?this.$Message.error("应用名称不能超过 30 个字符！"):(this.loading=!0,this.putNewAppName({cancelToken:this.cancelToken.token,newAppName:t}).then((function(){e.setModifyModal({status:!1}),e.updateSettingsAppName(t)})).catch((function(t){e.error=t.message,e.loading=!1}))):this.$Message.error("应用名称不能为空！")}})};function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H_(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q_=X_({data:function(){return{loading:!1,error:void 0,newAppName:""}}},W_),Y_=q_,V_=(r("123e"),Object(u["a"])(Y_,F_,$_,!1,null,"8fe84b32",null)),K_=V_.exports,Q_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"x-modal-content"},[r("x-loading",{attrs:{loading:e.loading,type:"dot",size:"middle",top:30}}),r("x-error-message",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{message:e.error,top:10}}),e.loading||e.error?e._e():r("div",{staticClass:"warning"},[r("Icon",{staticClass:"warning-icon",attrs:{type:"md-warning"}}),r("div",{staticClass:"warning-label"},[e._v("删除应用后所有实例都会断开连接，且监控数据、性能分析文件等都会丢失，请谨慎操作！")])],1)],1),r("div",{staticClass:"x-modal-footer"},[e.error?r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeDeleteModal}},[e._v("关闭")]):e._e(),e.loading||e.error?e._e():r("Button",{attrs:{type:"primary",ghost:""},on:{click:e.closeDeleteModal}},[e._v("取消")]),e.loading||e.error?e._e():r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.submitAppDeletion}},[e._v("确认删除")])],1)])},Z_=[];function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J_(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tx=m("dashboard/settings"),rx=tx.mapMutations,ax=tx.mapActions,nx={created:function(){this.cancelToken=T()},beforeDestroy:function(){C(this.cancelToken)},methods:ex({},rx(["setDeleteModal"]),{},ax(["deleteApp"]),{closeDeleteModal:function(){this.setDeleteModal({status:!1})},submitAppDeletion:function(){var e=this;this.loading=!0,this.deleteApp({cancelToken:this.cancelToken.token}).then((function(){e.setDeleteModal({status:!1}),e.$router.push({path:"/console",query:{type:"myApps"}})})).catch((function(t){e.error=t.message,e.loading=!1}))}})};function ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ix(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sx=ix({data:function(){return{loading:!1,error:void 0}}},nx),cx=sx,lx=(r("ff4a"),Object(u["a"])(cx,Q_,Z_,!1,null,"33406fb0",null)),ux=lx.exports;function px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function dx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?px(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):px(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fx=dx({props:{appName:String,title:String,currentUserIsOwner:Boolean},components:{"x-settings-content":R_,"x-name-modify":K_,"x-app-delete":ux},data:function(){return{modalModify:"name-modify",modalDelete:"app-delete"}}},j_),hx=fx,vx=Object(u["a"])(hx,i_,s_,!1,null,null,null),bx=vx.exports;function yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function gx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yx(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mx=gx({components:{"x-header":ia,"x-sider":In,"x-instance":Bp,"x-file":om,"x-team":vO,"x-alarm":o_,"x-setting":bx},data:function(){return{appName:g(Er.nameUnknown),currentUserIsOwner:!1,menuTab:null,activeContent:{},contentGroup:[{component:"x-instance",value:"instance",title:g(Er.instanceTitle)},{component:"x-file",value:"file",title:g(Er.fileTitle)},{component:"x-team",value:"team",title:g(Er.teamTitle)},{component:"x-alarm",value:"alarm",title:g(Er.alarmTitle)},{component:"x-setting",value:"setting",title:g(Er.settingTitle)}]}}},xn),Ox=mx,wx=(r("fba0"),Object(u["a"])(Ox,bn,yn,!1,null,"5b64b8a4",null)),jx=wx.exports,_x=[{path:"/",redirect:{path:"/console"}},{path:"/console",component:vn},{path:"/app/:appId/:menuTab",component:jx}],xx=r("f825"),Px=r.n(xx),kx=r("2113"),Dx=r.n(kx),Sx=(r("f8ce"),r("1ccf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"relative"}},[r("div",{ref:"chartip",staticClass:"chartip box-shadow",style:e.chartipStyle},[r("div",{class:e.type},[e._t("header"),e._t("content"),e._t("footer")],2)])])}),Tx=[],Cx={props:{noArrow:Boolean,maxWidth:Number,minWidth:Number},data:function(){return{type:""}},mounted:function(){this.chartip=this.$refs.chartip},methods:{show:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=this.chartip.style;n["opacity"]=1,n["z-index"]=1200;var o=this.tipComputedStyle,i=parseInt(o.width,10),s=parseInt(o.height),c=e.offsetX,l=e.offsetY,u=12,p=10;c+i+u<r?(n["left"]=c+u+"px",n["right"]="unset",this.noArrow||(this.type="left")):(n["left"]="unset",n["right"]=a+r-c+u+"px",this.noArrow||(this.type="right")),n["top"]=l-s/2>t?l-s/2-p+"px":"0"},hidden:function(){var e=this.chartip.style;e["opacity"]=0,e["z-index"]=-9999}},computed:{tipComputedStyle:function(){return window.getComputedStyle(this.chartip)},chartipStyle:function(){var e="";return this.noArrow||(e+="padding: 0 5px;",e+="border-radius: 3px;"),j(this.maxWidth)&&(e+="max-width: "+this.maxWidth+"px;"),j(this.minWidth)&&(e+="min-width: "+this.minWidth+"px;"),e}}},Ax=Cx,Mx=(r("2dc3"),Object(u["a"])(Ax,Sx,Tx,!1,null,"7f5bb246",null)),Ex=Mx.exports,Ix=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"detail-title"},[r("div",{staticClass:"detail-app-name"},[e._v(e._s(e.appName))]),r("div",{staticClass:"detail-app-seg"},[r("Icon",{attrs:{type:"ios-arrow-forward"}})],1),r("div",[e._v(e._s(e.dashboardTitle))]),e._t("extra")],2),e.line?r("div",{staticClass:"line"}):e._e()])},Lx=[],Rx={props:{appName:String,dashboardTitle:String,line:Boolean}},Fx=Rx,$x=(r("ed21"),Object(u["a"])(Fx,Ix,Lx,!1,null,"780d1da0",null)),Nx=$x.exports,Bx=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"drawer"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"},{name:"dom-portal",rawName:"v-dom-portal"}],staticClass:"mask"},[r("transition",{attrs:{name:"drawer-container"}},[e.show?r("div",{staticClass:"container"},[r("div",{staticClass:"wrapper"},[r("div",{staticClass:"close",on:{click:e.close}},[r("Icon",{staticClass:"close-icon",attrs:{type:"md-archive"}})],1),r("div",{staticClass:"content"},[r("div",[e._t("header")],2),r("div",[e._t("content")],2)])])]):e._e()])],1)])},Ux=[],zx={data:function(){return{show:!1}},methods:{open:function(){if(!this.show){var e=function(e){e.preventDefault()};document.body.style.overflow="hidden",document.body.style.poxition="fixed",document.addEventListener("touchmove",e,!1),this.show=!0}},close:function(){if(this.show){var e=function(e){e.preventDefault()};document.body.style.overflow="unset",document.removeEventListener("touchmove",e,!1),this.show=!1,this.$emit("close")}}}},Gx=zx,Wx=(r("176e"),Object(u["a"])(Gx,Bx,Ux,!1,null,"704f6649",null)),Hx=Wx.exports,Xx=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dropdown",style:e.dropdownStyle,on:{mouseover:function(t){return e.mouseover()},mousemove:function(t){return e.mousemove()},mouseout:function(t){return e.mouseout()}}},[r("div",{staticClass:"dropdown-list"},[e._t("title",[r("div",{staticStyle:{"padding-bottom":"6px","font-size":"12px"}},[e._v(e._s(e.title))])]),r("div",{staticClass:"dropdown-icon-translate"},[r("Icon",{staticClass:"dropdown-icon-rotate",attrs:{type:"ios-arrow-down"}})],1)],2),r("div",{ref:"dropdown-content",class:"dropdown-content box-shadow "+e.posit,style:e.contentStyle},[e._t("content")],2)])},qx=[],Yx={props:{title:String,position:String,transformY:Number,color:String,minWidth:Number},mounted:function(){this.style=this.$refs["dropdown-content"].style},methods:{mouseover:function(){var e=this.style;e["opacity"]=1,e["pointer-events"]="inherit",e["transform"]="translateY(".concat(this.ty,")")},mousemove:function(){var e=this.style;e["opacity"]=1,e["pointer-events"]="inherit",e["transform"]="translateY(".concat(this.ty,")")},mouseout:function(){var e=this.style;e["opacity"]=0,e["pointer-events"]="none",e["transform"]="translateY(0)"}},computed:{posit:function(){return this.position||"right"},ty:function(){return(this.transformY||6)+"px"},dropdownStyle:function(){var e="";return this.color&&(e+="color: ".concat(this.color,";")),e},contentStyle:function(){var e="";return j(this.minWidth)?e+="min-width: ".concat(this.minWidth,"px;"):e+="min-width: 100px;",e}}},Vx=Yx,Kx=(r("f18c"),Object(u["a"])(Vx,Xx,qx,!1,null,"a830683c",null)),Qx=Kx.exports,Zx=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"error",style:e.style},[r("div",{staticClass:"container"},[r("Icon",{staticClass:"icon",attrs:{type:"ios-alert-outline"}}),r("div",[e._v(e._s(e.message))])],1)])},Jx=[],eP={props:{message:String,top:[Number,String]},computed:{style:function(){var e="";return this.top&&(j(this.top)?e+="margin-top: "+this.top+"px;":e+="margin-top: "+this.top+";"),e}}},tP=eP,rP=(r("f1ee"),Object(u["a"])(tP,Zx,Jx,!1,null,"5be8d360",null)),aP=rP.exports,nP=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",["spin"===e.loadingType?r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spin-loading",style:e.style},[r("Spin",{attrs:{size:e.spinSize}})],1):e._e(),"dot"===e.loadingType?r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"dot-loading",style:e.style},["small"===e.spinSize?r("div",{staticClass:"dot-pulse-base dot-pulse-small"}):"middle"===e.spinSize?r("div",{staticClass:"dot-pulse-base dot-pulse-middle"}):r("div",{staticClass:"dot-pulse-base dot-pulse"})]):e._e()])},oP=[],iP={props:{loading:Boolean,top:[Number,String],size:String,type:String},computed:{style:function(){var e="";return this.top&&(j(this.top)?e+="margin-top: "+this.top+"px;":e+="margin-top: "+this.top+";"),e},spinSize:function(){var e=this.size||"large";return["large","middle","small"].includes(e)||(e=void 0),e},loadingType:function(){var e=this.type||"spin";return e}}},sP=iP,cP=(r("1574"),Object(u["a"])(sP,nP,oP,!1,null,"e8a1616e",null)),lP=cP.exports,uP=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Modal",{staticClass:"x-modal",attrs:{styles:e.modalStyle,"mask-closable":!1,width:e.width,"footer-hide":e.hideFooter,fullscreen:e.fullscreen},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("template",{slot:"header"},[r("div",[r("Icon",{staticClass:"modal-title-icon",attrs:{type:e.iconType}}),r("span",{staticStyle:{"user-select":"none"}},[e._v(e._s(e.title))])],1)]),r("template",{slot:"close"},[r("Icon",{staticClass:"modal-title-close",attrs:{type:"md-close"}})],1),r("transition",{attrs:{name:"modal-content"}},[e.show?r("div",{style:e.contentStyle},[e._t("content")],2):e._e()]),r("template",{slot:"footer"},[e._t("footer",[r("Button",{staticStyle:{"margin-right":"2px"},attrs:{type:"primary",ghost:""},on:{click:e.cancelModal}},[e._v(e._s(e.cancel))]),r("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitModal}},[e._v(e._s(e.submit))])])],2)],2)],1)},pP=[],dP={props:{type:String,title:String,okText:String,okLoadingText:String,cancelText:String,loading:Boolean,width:Number,hideFooter:Boolean,padding:Number,fullscreen:Boolean,top:[Number,String]},data:function(){return{show:!1}},methods:{showModal:function(){this.show=!0},cancelModal:function(e){this.show=!1,e&&this.$emit("canceled")},submitModal:function(){!1!==this.loading&&!0!==this.loading&&(this.showModal=!1),this.$emit("submited")}},computed:{iconType:function(){var e="md-information-circle";return"error"===this.type&&(e="md-alert"),"error"===this.type&&(e="md-close-circle"),e},submit:function(){return this.loading&&this.okLoadingText?this.okLoadingText:this.okText||"确定"},cancel:function(){return this.cancelText||"取消"},contentStyle:function(){var e="",t=16;return j(this.padding)&&(t=this.padding),e+="padding: "+t+"px;",e},modalStyle:function(){var e={};return this.top&&(j(this.top)?e.top=this.top+"px":e.top=this.top),e}},watch:{show:function(){this.show||this.cancelModal(!0)}}},fP=dP,hP=Object(u["a"])(fP,uP,pP,!1,null,null,null),vP=hP.exports,bP=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",{staticClass:"table",style:e.getTableStyle},[r("thead",{staticClass:"table-background"},[e.data&&(e.noDataHead||e.data.length)?r("tr",e._l(e.columns,(function(t,a){return r("th",{key:a,style:e.getCellStyle(t,!0)},[e._v(e._s(t.title))])})),0):e._e()]),r("tbody",[e.data&&e.data.length?e._e():r("tr",[r("td",{staticClass:"no-data",attrs:{colspan:e.columns.length}},[e._v(e._s(e.noDataText||"暂无信息"))])]),e._l(e.data,(function(t,a){return r("tr",{key:a,class:e.getClasses(a)},e._l(e.columns,(function(n,o){return r("td",{key:o,staticClass:"row-data",style:e.getCellStyle(n)},[e._t(n.value,[e._v(e._s(t[n.value]))],{row:t,index:a})],2)})),0)}))],2)])},yP=[],gP={props:{columns:Array,data:Array,noDataText:String,noDataHead:Boolean,hover:Boolean,stribe:Boolean,stribe2:Boolean,border:Boolean,fontSize:[Number,String]},methods:{getCellStyle:function(e,t){var r="";return j(e.width)?r+="width: "+e.width+"px;":e.width&&(r+="width: "+e.width+";"),j(e.left)&&(r+="padding-left: "+e.left+"px;"),j(e.titleLeft)&&t&&(r+="padding-left: "+e.titleLeft+"px;"),e.align&&(r+="text-align: "+e.align+";"),this.border&&(r+="border: 1px solid #e7e7e8"),r},getClasses:function(e){var t="";return this.hover&&(t+="tr-hover "),this.stribe&&e%2===1&&(t+="table-background "),this.stribe2&&e%2===1&&(t+="table-background2 "),t}},computed:{getTableStyle:function(){var e="";return this.fontSize&&(j(this.fontSize)?e+="font-size: "+this.fontSize+"px;":e+="font-size: "+this.fontSize+";"),e}}},mP=gP,OP=(r("a750"),Object(u["a"])(mP,bP,yP,!1,null,"5ec20143",null)),wP=OP.exports,jP=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"tooltip",staticClass:"tooltip box-shadow",style:e.getTooltipStyle},[e._t("header"),e._t("content"),e._t("footer")],2)},_P=[],xP={props:{minWidth:Number},mounted:function(){this.tooltip=this.$refs.tooltip},methods:{getComputedStyle:function(){return window.getComputedStyle(this.tooltip)},showToolTip:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this.tooltip.style;a.zIndex=9999,a.display="block";var n=this.getComputedStyle(),o=parseInt(n.height,10),i=parseInt(n.width,10),s=t.clientX-r,c=t.clientY,l=s+10+i<e?s+10:s-10-i,u=c-10>o?c-(o+10):c+10;a.left=l+"px",a.top=u+"px"},removeToolTip:function(){var e=this.tooltip.style;e.zIndex=-9999,e.display="none",e.left="0",e.top="0"}},computed:{getTooltipStyle:function(){var e="";return j(this.minWidth)&&(e+="min-width: ".concat(this.minWidth,"px;")),e}}},PP=xP,kP=(r("af4b"),Object(u["a"])(PP,jP,_P,!1,null,"eeb4a996",null)),DP=kP.exports,SP=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"area"},[r("x-chartip",{ref:"chartip"},[r("div",{staticClass:"chartip-header",attrs:{slot:"header"},slot:"header"},[r("div",[e._v(e._s(e.chartipTitle))])]),r("div",{staticClass:"chartip-content",attrs:{slot:"content"},slot:"content"},[r("div",e._l(e.yAxis,(function(t,a){return r("div",{key:a},[e.pathWidthMap[t]?r("div",{staticClass:"chartip-content-group"},[r("div",{staticClass:"chartip-label",style:"background-color: "+e.getColor(t)}),r("div",{staticClass:"chartip-key"},[e._v(e._s(t)+":")])]):e._e()])})),0),r("div",{staticStyle:{"margin-left":"23px"}},e._l(e.yAxis,(function(t,a){return r("div",{key:a},[e.pathWidthMap[t]?r("div",{staticClass:"chartip-content-group"},[r("div",[e._v(e._s(e.chartipData[t])+e._s(e.yAxisUnit))])]):e._e()])})),0)])]),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.noData&&e.intersectionOffsetX,expression:"!noData && intersectionOffsetX"}],staticClass:"intersection-wrapper"},[e._l(e.intersections,(function(t,a){return r("div",{directives:[{name:"show",rawName:"v-show",value:!e.solid,expression:"!solid"}],key:a,staticClass:"intersection",style:e.getIntersectionStyle(t)})})),r("div",{directives:[{name:"show",rawName:"v-show",value:e.solid,expression:"solid"}],staticClass:"intersection",style:e.getIntersectionStyle()})],2),e.viewWidth?r("svg",{attrs:{width:"100%",height:e.viewHeight,viewBox:"0, 0, "+e.viewWidth+", "+e.viewHeight},on:{mousemove:e.mousemove,mouseleave:e.mouseleave,click:e.fixIntersection}},[r("g",[r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.viewHeight-e.paddingBottom,x2:e.viewWidth-e.paddingRight,y2:e.viewHeight-e.paddingBottom}}),r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.paddingTop,x2:e.paddingLeft,y2:e.viewHeight-e.paddingBottom}}),r("g",e._l(e.xAxisScale,(function(t,a){return r("rect",{key:a,staticClass:"bg-rect",attrs:{width:0===a?0:.5*e.xGridFullWidth,height:e.viewHeight-e.paddingTop-e.paddingBottom,x:e.getXGridBgInterval(a),y:e.paddingTop}})})),0),e._l(e.yAxisScale,(function(t,a){return r("g",{key:a},[r("text",{staticClass:"axisScale",staticStyle:{"text-anchor":"end"},attrs:{x:e.paddingLeft,y:e.getYAxisLabel(a),dx:"-0.5em",dy:"0.32em"}},[e._v(e._s(t.label))]),a!==e.yAxisScale.length-1?r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.getYAxisLabel(a),x2:e.viewWidth-e.paddingRight,y2:e.getYAxisLabel(a)}}):e._e()])}))],2),r("g",e._l(e.xAxisScale,(function(t,a){return r("text",{key:a,staticClass:"axisScale",attrs:{"text-anchor":"middle",x:e.getXAxisLabel(a),y:e.viewHeight-e.paddingBottom,dy:"1.4em"}},[r("tspan",[e._v(e._s(t.value))]),t.showTimeSpan?r("tspan",{staticClass:"time-label",attrs:{x:e.getXAxisLabel(a),dy:"1.3em"}},[e._v(e._s(t.label))]):e._e()])})),0),r("g",[r("text",{staticClass:"axisUnit",attrs:{x:e.paddingLeft,y:e.paddingTop,dy:"-0.5em"}},[e._v(e._s(e.upperCaseLabel(e.yAxisUnit)))])]),e.noData?r("g",[r("text",{staticClass:"no-data-text",attrs:{x:e.paddingLeft+(e.viewWidth-e.paddingLeft-e.paddingRight)/2,y:e.paddingTop+.4*(e.viewHeight-e.paddingTop-e.paddingBottom),"text-anchor":"middle","dominant-baseline":"middle"}},[e._v(e._s(e.noDataText))])]):e._e(),r("g",e._l(e.yAxisData,(function(t,a){return r("g",{key:a},e._l(t,(function(t,a){return r("g",{key:a},[0===a?r("defs",[r("linearGradient",{attrs:{id:"color_bg_"+t.axis,gradientUnits:"userSpaceOnUse",x1:e.paddingLeft,y1:e.paddingTop,x2:e.paddingLeft,y2:e.viewHeight-e.paddingBottom}},[r("stop",{attrs:{offset:"0%","stop-opacity":"0.15","stop-color":t.bg}}),r("stop",{attrs:{offset:"50%","stop-opacity":"0.08","stop-color":t.bg}}),r("stop",{attrs:{offset:"100%","stop-opacity":"0.01","stop-color":t.bg}})],1)],1):e._e(),r("transition",{attrs:{name:"slide-noward"}},[e.noFill?e._e():r("g",[e.solid?r("path",{directives:[{name:"show",rawName:"v-show",value:e.pathWidthMap[t.axis],expression:"pathWidthMap[y.axis]"}],attrs:{d:t.path,fill:t.color,stroke:"none"}}):r("path",{directives:[{name:"show",rawName:"v-show",value:e.pathWidthMap[t.axis],expression:"pathWidthMap[y.axis]"}],attrs:{d:t.path,fill:"url(#color_bg_"+t.axis+")",stroke:"none"}})])]),r("transition",{attrs:{name:"slide-noward"}},[r("polyline",{directives:[{name:"show",rawName:"v-show",value:e.pathWidthMap[t.axis],expression:"pathWidthMap[y.axis]"}],attrs:{"stroke-opacity":t.opacity,points:t.points,stroke:t.color,fill:"none","stroke-width":e.pathWidthMap[t.axis]}})])],1)})),0)})),0),r("g",{directives:[{name:"show",rawName:"v-show",value:!e.noData&&e.intersectionOffsetX,expression:"!noData && intersectionOffsetX"}]},e._l(e.dots,(function(t,a){return r("circle",{directives:[{name:"show",rawName:"v-show",value:e.pathWidthMap[t.axis],expression:"pathWidthMap[dot.axis]"}],key:a,attrs:{cx:t.xPosition,cy:t.yPosition,fill:t.color,stroke:"#fff",r:"4","stroke-width":"2"}})})),0)]):e._e(),e.data.length?r("div",{staticClass:"chart-label"},e._l(e.yAxis,(function(t,a){return r("div",{key:a,ref:e.labelKey+t,refInFor:!0,staticClass:"chart-label-group",style:0!==a?"margin-left: 25px;":"",on:{mouseover:function(r){return e.mouseoverLabel(t)},mouseleave:function(r){return e.mouseleaveLabel(t)},click:function(r){return e.choseLabel(t)}}},[r("div",{staticClass:"label-icon",style:"background-color: "+e.getColor(t)}),r("div",{staticClass:"label-value"},[e._v(e._s(t))])])})),0):e._e()],1)},TP=[];function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CP(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var MP=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],EP={created:function(){this.setWidthMap()},mounted:function(){this.area=this.$refs.area,this.chartip=this.$refs.chartip,this.setViewBox(),window.addEventListener("resize",this.setViewBox.bind(this))},methods:AP({setWidthMap:function(e,t,r){if(e){this.pathWidthMap[e]=t;var a=!0,n=!1,o=void 0;try{for(var i,s=this.yAxis[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c!==e&&(this.pathWidthMap[c]=r)}}catch(b){n=!0,o=b}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}}else{var l={},u=!0,p=!1,d=void 0;try{for(var f,h=this.yAxis[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value;l[v]=1.2}}catch(b){p=!0,d=b}finally{try{u||null==h.return||h.return()}finally{if(p)throw d}}this.pathWidthMap=l}},setViewBox:function(){var e=parseInt(window.getComputedStyle(this.area).width,10);e&&(this.viewWidth=e,this.mouseleave(),this.intersectionFixed=!1)},upperCaseLabel:function(e){return e.toUpperCase()},formatXLabel:function(e){return Math.round(e)},getScale:function(e,t){var r=t===this.yAxis&&this.yAxisZero,a=!1,n=this.data,o=r?0:n[0][t[0]],i=n[0][t[0]],s=!0,c=!1,l=void 0;try{for(var u,p=n[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value;if(this.solid){var f=0,h=!0,v=!1,b=void 0;try{for(var y,g=t[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var m=y.value;f+=d[m]}}catch(A){v=!0,b=A}finally{try{h||null==g.return||g.return()}finally{if(v)throw b}}f>i&&(i=f),f<o&&(o=f)}else{var O=!0,w=!1,_=void 0;try{for(var x,P=t[Symbol.iterator]();!(O=(x=P.next()).done);O=!0){var k=x.value;j(d[k])&&d[k]>i&&(i=d[k]),j(d[k])&&d[k]<o&&(o=d[k])}}catch(A){w=!0,_=A}finally{try{O||null==P.return||P.return()}finally{if(w)throw _}}}}}catch(A){c=!0,l=A}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}if(0===i)return[];for(var D=(i-o)/e,S=[],T=0;T<=e;T++){var C=i-D*T;S.push({label:i<2.5&&i>0?Number(C.toFixed(2)):Math.round(C),value:C,showTimeSpan:a})}return S},getTimeScale:function(e){var t=this.data;if(!Array.isArray(t)||!t.length)return[];for(var r=t[0].time,a=t[t.length-1].time,n=(a-r)/e,o=Yn().day(),i=[],s=o,c=0;c<=e;c++){var l=Yn(a).subtract(c*n,"ms"),u=l.hours();l.day()!==s?(s=l.day(),i.push({label:l.format("MM.DD"),value:MP[l.day()],showTimeSpan:!0})):i.push({label:u<12?"AM":"PM",value:u,showTimeSpan:!0})}return i},getXGridBgInterval:function(e){return this.paddingLeft-.75*this.xGridFullWidth+this.xGridFullWidth*e},getXAxisLabel:function(e){return this.paddingLeft+(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner*e},getYAxisLabel:function(e){return this.paddingTop+(this.viewHeight-this.paddingTop-this.paddingBottom)/this.yAxisScaleCountInner*(this.yAxisScaleCountInner-e)},getPoints:function(e,t){var r=this,a=this.data,n=this.yAxisScale,o=this.xAxis,i=a[a.length-1]&&a[a.length-1][o],s=a[0]&&a[0][o],c=n[n.length-1]&&n[n.length-1].value;if(!i||!s||!c&&0!==c)return[];var l=this.xPointMap={},u=this.xValueMap={},p=this.xPoint=[],d={},f={},h=!0,v=!1,b=void 0;try{for(var y,g=e[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var m=y.value;d[m]=[],f[m]=[]}}catch(E){v=!0,b=E}finally{try{h||null==g.return||g.return()}finally{if(v)throw b}}var O=!0,w=!1,_=void 0;try{for(var x,P=function(){var t=x.value,a=t[o],n=(a-s)/(i-s)*(r.viewWidth-r.paddingLeft-r.paddingRight),h=r.paddingLeft+n,v="time"===r.xAxis?Yn(a).format("YYYY-MM-DD HH:mm"):a;l[h]={data:t,dots:[]},u[v]={data:t,dots:[]},e.some((function(e){return t[e]||0===t[e]}))&&p.push(h);var b=0,y=!0,g=!1,m=void 0;try{for(var O,w=e[Symbol.iterator]();!(y=(O=w.next()).done);y=!0){var _=O.value,P=t[_];if(j(P)){var k=void 0;k=0===c?0:P/c*(r.viewHeight-r.paddingTop-r.paddingBottom),r.solid&&(k+=b,b=k);var D=r.viewHeight-r.paddingBottom-k;l[h].dots.push({axis:_,xPosition:h,yPosition:D,color:r.getColor(_),time:v}),u[v].dots.push({axis:_,xPosition:h,yPosition:D,color:r.getColor(_)}),f[_].push("".concat(h,",").concat(D))}else f[_].length&&d[_].push(f[_]),f[_]=[]}}catch(E){g=!0,m=E}finally{try{y||null==w.return||w.return()}finally{if(g)throw m}}},k=t[Symbol.iterator]();!(O=(x=k.next()).done);O=!0)P()}catch(E){w=!0,_=E}finally{try{O||null==k.return||k.return()}finally{if(w)throw _}}var D=!0,S=!1,T=void 0;try{for(var C,A=e[Symbol.iterator]();!(D=(C=A.next()).done);D=!0){var M=C.value;d[M].push(f[M])}}catch(E){S=!0,T=E}finally{try{D||null==A.return||A.return()}finally{if(S)throw T}}return d},getColor:function(e){var t=this.yAxis.indexOf(e);return this.colors[t%this.colors.length]},filterDot:function(e){var t=this;return e.filter((function(e){return t.pathWidthMap[e.axis]}))}},w("mouseover",(function(e){this.mousemove(e)})),{},w("mousemove",(function(e){if(!this.intersectionFixed&&!this.noData){var t=e.offsetX,r=e.offsetY,a=this.paddingLeft,n=this.viewWidth-this.paddingRight,o=this.paddingTop,i=this.viewHeight-this.paddingBottom;if(!(t<a||t>n))if(r<o||r>i)this.mouseleave();else{var s,c=this.xPointMap,l=G(this.xPoint,t),u=Object(O["a"])(l,2),p=u[0],d=u[1];if(s=Math.abs(t-p<Math.abs(t-d))?c[p]:c[d],s){var f=s.dots;this.solid||(this.dots=f);var h=f.length?f[0].xPosition:t;this.intersectionOffsetX=h,this.chartipData=s.data;var v={offsetX:h,offsetY:r};this.chartip.show(v,o,n,this.paddingRight),f.length&&this.$emit("linkage",{time:f[0].time,mouse:v}),this.showStatus&&this.$emit("status",s.data)}}}})),{},w("mouseleave",(function(){this.intersectionFixed||(this.intersectionOffsetX=0,this.dots=[],this.chartip.hidden(),this.$emit("hidden"))})),{showTip:function(e){var t=e.time,r=e.mouse,a=this.xValueMap[t]&&this.xValueMap[t].dots||[];if(a.length){var n=a[0].xPosition;if(n!==this.intersectionOffsetX){this.intersectionOffsetX=n;var o=this.viewWidth-this.paddingRight,i=this.paddingTop;if(this.chartipData=this.xValueMap[t].data,this.chartip.show({offsetX:n,offsetY:r.offsetY},i,o,this.paddingRight),this.solid||(this.dots=a),this.showStatus){var s=this.xValueMap[t]&&this.xValueMap[t].data||{};this.$emit("status",s)}}}},hiddenTip:function(){this.intersectionOffsetX=0,this.dots=[],this.chartip.hidden()},singleton:function(e){this.setWidthMap(e,2,0);var t=this.$refs[this.labelKey+e][0].style;t["transform"]="scale(1.2)"},restore:function(e){this.setWidthMap(e,1,1);var t=this.$refs[this.labelKey+e][0].style;t["transform"]="scale(1)"},mouseoverLabel:function(e){this.single||this.singleton(e)},mouseleaveLabel:function(e){this.single||this.restore(e)},choseLabel:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=this.yAxis[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;this.restore(i)}}catch(s){r=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}e!==this.single&&(this.single=void 0),this.single?(this.restore(e),this.single=void 0):(this.singleton(e),this.single=e)},getIntersectionStyle:function(e){var t="";t+="background-color: "+(this.solid?"#e8eaec":"#adbcc9")+";";var r=e?e.height:this.viewHeight-this.paddingTop-this.paddingBottom;t+="height: "+r+"px;";var a=e?e.top:this.paddingTop;return t+="top: "+a+"px;",t+="left: "+this.intersectionOffsetX+"px;",t},fixIntersection:function(e){this.intersectionFixed=!this.intersectionFixed,this.$emit("broadcast",{intersectionFixed:this.intersectionFixed}),this.intersectionFixed||this.mousemove(e)},handleBroadcase:function(e){var t=e.intersectionFixed;this.intersectionFixed=t}}),computed:{xAxisScaleCountInner:function(){return this.xAxisScaleCount||this.defaultXAxisScaleCount},yAxisScaleCountInner:function(){return this.yAxisScaleCount||this.defaultYAxisScaleCount},xAxisScale:function(){var e=this,t=[];return"time"===this.xAxis?(t=this.getTimeScale(this.xAxisScaleCountInner),t.reverse()):(t=this.getScale(this.xAxisScaleCountInner,[this.xAxis]),t.reverse(),t.forEach((function(t){return t.value=e.formatXLabel(t.value)}))),t},yAxisScale:function(){var e=this.getScale(this.yAxisScaleCountInner,this.yAxis);return e.reverse(),e.length||e.push({label:0,value:0}),e},xGridFullWidth:function(){return(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner},noData:function(){return!this.xAxisScale.length||!this.yAxisScale.length},yAxisData:function(){var e=this;if(this.noData)return[];var t=this.getPoints(this.yAxis,this.data),r=Object.entries(t).map((function(t,r,a){var n=Object(O["a"])(t,2),o=n[0],i=n[1];return i.map((function(t,n){var i={axis:o};if(i.points=t.join(" "),e.solid&&0!==r){var s=Object(O["a"])(a[r-1],2),c=s[1],l=c[n].reverse(),u=t.map((function(e,t){return t?"L".concat(e):"M".concat(e)})).join(" ");u+=l.map((function(e){return"L".concat(e)})).join(" "),u+=" Z",i.path=u}else{var p=t.shift(),d=t.pop(),f="";if(p&&d){t=t.map((function(e){return"L".concat(e)})),f+="M".concat(p," ")+t.join(" ")+" L".concat(d);var h=e.viewHeight-e.paddingBottom;f+=" L".concat(d.split(",")[0],",").concat(h),f+=" L".concat(p.split(",")[0],",").concat(h," Z")}i.path=f}var v=e.getColor(o);return i.color=v,i.bg=v,e.solid?i.opacity=1:i.opacity=.75,i}))}));return r},chartipTitle:function(){var e=this.chartipData;return e.time?Yn(e.time).format("YYYY-MM-DD HH:mm:SS"):e.index?"追踪周期内第 ".concat(e.index," 次 GC ( ").concat(e.type," )"):void 0},colors:function(){return this.solid?this.defaultAreaColor:this.defaultColors},intersections:function(){var e=this,t=this.dots;if(t.length){var r=[],a=this.filterDot(t),n=a.map((function(e){return e.yPosition}));return n.sort((function(e,t){return e>t?1:-1})),n.forEach((function(t,a,n){if(0===a){var o=t-e.paddingTop-5;o=o<0?0:o,r.push({top:e.paddingTop,height:o})}var i=n[a+1];if(i){var s=i-t-10;s=s<0?0:s;var c=t>5?t+5:e.viewHeight-e.paddingBottom;r.push({top:c,height:s})}else{var l=e.viewHeight-e.paddingBottom-t-5;l=l<0?0:l;var u=t>5?t+5:e.viewHeight-e.paddingBottom;r.push({top:u,height:l})}})),r}},viewHeight:function(){return this.height||250},paddingLeft:function(){return this.left||40},paddingRight:function(){return this.right||35},paddingBottom:function(){return this.bottom||40}}};function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IP(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var RP=LP({props:{xAxis:[String,Array],yAxis:Array,yAxisUnit:String,data:Array,xAxisScaleCount:Number,yAxisScaleCount:Number,noDataText:String,showStatus:Boolean,solid:Boolean,height:Number,left:Number,right:Number,bottom:Number,yAxisZero:{type:Boolean,default:!0},noFill:Boolean},data:function(){return{defaultXAxisScaleCount:8,defaultYAxisScaleCount:4,viewWidth:0,paddingTop:20,intersectionOffsetX:0,pathWidthMap:{},xPointMap:{},xValueMap:{},xPoint:[],dots:[],chartipData:{},single:void 0,labelKey:"label-",defaultAreaColor:["#2b85e4","#5cadff","#2196f3","#6a5acd","#9083e0","#673ab7","#19be6b","#1e9652"],defaultColors:["#2db7f5","#5cadff","#2b85e4","#1e8449"],intersectionFixed:!1}}},EP),FP=RP,$P=(r("3fcb"),Object(u["a"])(FP,SP,TP,!1,null,"33fc347c",null)),NP=$P.exports,BP=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"histogram"},[r("x-chartip",{ref:"chartip",attrs:{"no-arrow":""}},[r("div",{staticClass:"chartip-header",style:"background-color: "+e.chartipData.color+";color: white",attrs:{slot:"header"},slot:"header"},[r("div",[e._v(e._s(e.chartipTitle))])]),r("div",{staticClass:"chartip-content",attrs:{slot:"content"},slot:"content"},[r("div",{staticStyle:{"margin-top":"2px"}},[r("div",{staticClass:"chartip-key"},[e._v("距离进程启动时间:")]),"pause"===e.yAxis?r("div",{staticClass:"chartip-key"},[e._v("本次 GC 暂停时间:")]):e._e(),"changeAbs"===e.yAxis?r("div",{staticClass:"chartip-key"},[e._v("堆内存大小变化:")]):e._e()]),r("div",{staticStyle:{margin:"2px 0 0 23px"}},[r("div",{staticClass:"chartip-value"},[e._v(e._s(e.formatChartipTime(e.chartipData.timeFromStart)))]),"pause"===e.yAxis?r("div",{staticClass:"chartip-value"},[e._v(e._s(e.chartipData.pause)+"ms")]):e._e(),"changeAbs"===e.yAxis?r("div",{staticClass:"chartip-value"},[e._v(e._s(e.chartipData.changeLabel)+"MB")]):e._e()])])]),e.viewWidth?r("svg",{attrs:{width:"100%",height:e.viewHeight,viewBox:"0, 0, "+e.viewWidth+", "+e.viewHeight}},[r("g",[r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.viewHeight-e.paddingBottom,x2:e.viewWidth-e.paddingRight,y2:e.viewHeight-e.paddingBottom}}),r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.paddingTop,x2:e.paddingLeft,y2:e.viewHeight-e.paddingBottom}}),r("g",e._l(e.xAxisScale,(function(t,a){return r("g",{key:a},[r("rect",{staticClass:"bg-rect",attrs:{width:0===a?0:.5*e.xGridFullWidth,height:e.viewHeight-e.paddingTop-e.paddingBottom,x:e.getXGridBgInterval(a),y:e.paddingTop}}),r("text",{staticClass:"axisScale",attrs:{"text-anchor":"middle",x:e.getXAxisLabel(a),y:e.viewHeight-e.paddingBottom,dy:"1.5em"}},[e._v(e._s(e.formatXLabel(t.value)))])])})),0),r("g",e._l(e.yAxisScale,(function(t,a){return r("g",{key:a},[r("text",{staticClass:"axisScale",staticStyle:{"text-anchor":"end"},attrs:{x:e.paddingLeft,y:e.getYAxisLabel(a),dx:"-0.5em",dy:"0.32em"}},[e._v(e._s(t.label))]),a!==e.yAxisScale.length-1?r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.getYAxisLabel(a),x2:e.viewWidth-e.paddingRight,y2:e.getYAxisLabel(a)}}):e._e()])})),0),r("g",[r("text",{staticClass:"axisUnit",attrs:{x:e.paddingLeft,y:e.paddingTop,dy:"-0.5em"}},[e._v(e._s(e.upperCaseLabel(e.yAxisUnit)))])])]),r("g",e._l(e.data,(function(t,a){return r("rect",{key:a,ref:e.histogramLabel+"-"+t.index,refInFor:!0,staticClass:"histogram",attrs:{width:"2",opacity:e.needShow(t)?1:0,fill:e.getFill(t),stroke:e.getFill(t),"stroke-opacity":.7,"stroke-width":0,height:e.getRectHeight(t),x:e.getXPosition(t),y:e.viewHeight-e.paddingBottom-e.getRectHeight(t)},on:{mousemove:function(r){return e.mousemove(t,a,r)},mouseleave:e.mouseleave,click:function(r){return e.fixIntersection(t,a,r)}}})})),0)]):e._e(),e.data.length?r("div",{staticClass:"chart-label"},e._l(e.types,(function(t,a){return r("div",{key:a,ref:e.labelKey+t.type,refInFor:!0,staticClass:"chart-label-group",style:0!==a?"margin-left: 25px;":"",on:{mouseenter:function(r){return e.mouseoverLabel(t)},mouseleave:function(r){return e.mouseleaveLabel(t)},click:function(r){return e.choseLabel(t)}}},[r("div",{staticClass:"label-icon",style:"background-color: "+e.getFill(t)}),r("div",{staticClass:"label-value"},[e._v(e._s(t.label))])])})),0):e._e()],1)},UP=[];function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var WP={created:function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];this.xValueMap[t[this.xAxis]]=Object.assign({index:e,color:this.getFill(t)},t)}},mounted:function(){this.histogram=this.$refs.histogram,this.chartip=this.$refs.chartip,this.setViewBox(),window.addEventListener("resize",this.setViewBox.bind(this))},methods:GP({setViewBox:function(){var e=parseInt(window.getComputedStyle(this.histogram).width,10);e&&(this.viewWidth=e,this.intersectionFixed=!1)},formatChartipTime:function(e){return D(e,!1,!0,0)},formatXLabel:function(e){return Math.round(e)},upperCaseLabel:function(e){return e.toUpperCase()},getXGridBgInterval:function(e){return this.paddingLeft-.75*this.xGridFullWidth+this.xGridFullWidth*e},getXAxisLabel:function(e){return this.paddingLeft+(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner*e},getYAxisLabel:function(e){return this.paddingTop+(this.viewHeight-this.paddingTop-this.paddingBottom)/this.yAxisScaleCountInner*(this.yAxisScaleCountInner-e)},getScale:function(e,t,r){var a=this,n=this.data;if(!Array.isArray(n))return[];r&&(n=n.filter((function(e){return a.needShow(e,r)})));var o=t===this.yAxis&&this.yAxisZero;n=n.map((function(e){return e[t]}));var i=o?0:n[0],s=n[0],c=!0,l=!1,u=void 0;try{for(var p,d=n[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var f=p.value;f>s&&(s=f),f<i&&!o&&(i=f)}}catch(g){l=!0,u=g}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}for(var h=(s-i)/e,v=[],b=0;b<=e;b++){var y=s-h*b;v.push({label:h<=1?Number(y.toFixed(2)):Math.round(y),value:y})}return v},getRectHeight:function(e){var t=e[this.yAxis],r=e.type,a=e.positive;if(!this.needShow({type:r,positive:a}))return 0;var n=this.yAxisScale[this.yAxisScale.length-1].value,o=this.yAxisScale[0].value,i=n-o?(t-o)/(n-o)*(this.viewHeight-this.paddingTop-this.paddingBottom):0;return i},getXPosition:function(e){var t=e[this.xAxis],r=this.xAxisScale[this.xAxisScale.length-1].value,a=this.xAxisScale[0].value,n=r-a?(t-a)/(r-a)*(this.viewWidth-this.paddingLeft-this.paddingRight):0,o=this.paddingLeft+n;return o},getFill:function(e){var t=e.type,r=e.positive,a="";if("pause"===this.yAxis)switch(t){case"scavenge":a="#3498db";break;case"marksweep":a="#ff9900";break;case"marking":a="#6a5acd";break;default:break}return"changeAbs"===this.yAxis&&(a=r||"increment"===t?"#c45a65":"#2a9446"),a},singleton:function(e){var t=e.type;this.filterType=t;var r=this.$refs[this.labelKey+t][0].style;r["transform"]="scale(1.2)"},restore:function(e){var t=e.type;this.filterType=void 0;var r=this.$refs[this.labelKey+t][0].style;r["transform"]="scale(1)"}},w("mouseoverLabel",(function(e){this.single||this.singleton(e)})),{},w("mouseleaveLabel",(function(e){this.single||this.restore(e)})),{choseLabel:function(e){var t=e.type,r=!0,a=!1,n=void 0;try{for(var o,i=this.types[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;this.restore(s)}}catch(c){a=!0,n=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}t!==this.single&&(this.single=void 0),this.single?(this.restore({type:t}),this.single=void 0):(this.singleton({type:t}),this.single=t)}},w("mousemove",(function(e,t,r){if(!this.intersectionFixed){var a=r.offsetX,n=r.offsetY,o=this.paddingLeft,i=this.viewWidth-this.paddingRight,s=this.paddingTop,c=this.viewHeight-this.paddingBottom;if(!(a<o||a>i))if(n<s||n>c)this.mouseleave();else{this.setRectStyle(this.chartipData,1,0),this.setRectStyle(e,.5,"5px"),this.chartipData=Object.assign({index:t,color:this.getFill(e)},e);var l={offsetX:a,offsetY:n};this.chartip.show(l,s,i,this.paddingRight),this.$emit("linkage",{time:e[this.xAxis],mouse:l})}}})),{},w("mouseleave",(function(){this.intersectionFixed||(this.chartip.hidden(),this.$emit("hidden"),this.setRectStyle(this.chartipData,1,0))})),{setRectStyle:function(e,t,r){var a=this.$refs["".concat(this.histogramLabel,"-").concat(e.index)];if(a&&a[0]){var n=a[0].style;n["stroke-opacity"]=t,n["stroke-width"]=r}}},w("showTip",(function(e){var t=e.time,r=e.mouse,a=this.viewWidth-this.paddingRight,n=this.paddingTop,o=this.xValueMap[t];this.setRectStyle(this.chartipData,1,0),this.needShow(o)?(this.setRectStyle(o,.5,"5px"),this.chartipData=o,this.chartip.show(r,n,a,this.paddingRight)):this.chartip.hidden()})),{},w("hiddenTip",(function(){this.chartip.hidden(),this.setRectStyle(this.chartipData,1,0)})),{needShow:function(e,t){var r=t||this.filterType;return!r||("pause"===this.yAxis?r===e.type:"changeAbs"===this.yAxis?e.positive===("increment"===r):void 0)},fixIntersection:function(e,t,r){this.intersectionFixed=!this.intersectionFixed,this.$emit("broadcast",{intersectionFixed:this.intersectionFixed}),this.intersectionFixed||this.mousemove(e,t,r)},handleBroadcase:function(e){var t=e.intersectionFixed;this.intersectionFixed=t}}),computed:{xAxisScaleCountInner:function(){return this.xAxisScaleCount||this.defaultXAxisScaleCount},yAxisScaleCountInner:function(){return this.yAxisScaleCount||this.defaultYAxisScaleCount},xGridFullWidth:function(){return(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner},xAxisScale:function(){var e=this.getScale(this.xAxisScaleCountInner,this.xAxis);return e.reverse(),e},yAxisScale:function(){var e=this.getScale(this.yAxisScaleCountInner,this.yAxis,this.filterType);return e.reverse(),e},types:function(){var e={},t=[];return"pause"===this.yAxis&&(t=Array.from(new Set(this.data.map((function(t){var r=t.type;return e[r]?e[r]++:e[r]=1,r})))).map((function(e){return{type:e}})),t.sort((function(t,r){return e[t.type]<e[r.type]?1:-1})),t=t.map((function(e){var t=e.type;return{type:t,label:t}}))),"changeAbs"===this.yAxis&&(t=[{type:"reduce",label:"GC 后堆内存大小减少"},{type:"increment",label:"GC 后堆内存大小增加"}]),t},chartipTitle:function(){var e=this.chartipData,t=e.index,r=e.type;return"追踪周期内第 ".concat(t," 次 GC ( ").concat(r," )")}}};function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HP(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qP=XP({props:{data:Array,xAxisScaleCount:Number,yAxisScaleCount:Number,xAxis:String,yAxis:String,yAxisUnit:String,yAxisZero:Boolean},data:function(){return{defaultXAxisScaleCount:5,defaultYAxisScaleCount:4,viewWidth:0,viewHeight:250,paddingLeft:40,paddingRight:30,paddingTop:20,paddingBottom:27,labelKey:"label-",single:void 0,filterType:void 0,chartipData:{},xValueMap:{},histogramLabel:"histogram-label",intersectionFixed:!1}}},WP),YP=qP,VP=(r("85a8"),Object(u["a"])(YP,BP,UP,!1,null,"eac47852",null)),KP=VP.exports,QP=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"pie",staticClass:"pie"},[r("x-chartip",{ref:"chartip"},[r("div",{staticClass:"chartip-content",attrs:{slot:"content"},slot:"content"},[r("div",[r("div",{staticClass:"chartip-label",style:"background-color: "+e.selectedData.color}),r("div",{staticClass:"chartip-key"},[e._v(e._s(e.selectedData.axis)+":")])]),r("div",{staticStyle:{"margin-left":"10px"}},[r("div",[e._v(e._s(e.selectedData.value)+e._s(e.yAxisUnit))])])])]),e.viewWidth?r("svg",{attrs:{width:e.viewWidth,height:e.viewHeight,viewBox:"0, 0, "+e.viewWidth+", "+e.viewHeight}},e._l(e.list,(function(t,a){return r("circle",{key:a,ref:t.axis,refInFor:!0,staticClass:"circle",attrs:{r:e.radius,cx:e.cx,cy:e.cy,fill:"none",stroke:t.color,"stroke-width":e.pieStrokeWidth,"stroke-dasharray":t.occupy+" "+e.dashbase,"stroke-dashoffset":""+-t.offset},on:{mousemove:function(r){return e.mousemove(t,r)},mouseleave:e.mouseleave}})})),0):e._e(),r("div",{staticClass:"label",style:"padding-top: "+e.paddingTop+"px;"},e._l(e.yAxis,(function(t,a){return r("div",{key:a,staticClass:"label-group",on:{mousemove:function(t){return e.mousemoveLabel(a)},mouseleave:function(t){return e.mouseleaveLabel(a)}}},[r("div",{staticClass:"label-icon",style:"background-color: "+e.getColor(t)}),r("div",{staticClass:"label-value"},[e._v(e._s(t))])])})),0)],1)},ZP=[];function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ek(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JP(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tk={props:{yAxis:Array,yAxisUnit:String,data:Object},data:function(){return{viewWidth:0,viewHeight:0,paddingLeft:0,paddingRight:30,paddingTop:20,paddingBottom:0,pieStrokeWidth:23,radius:60,pieWidth:0,selectedData:{},colors:["#2b85e4","#5cadff","#2196f3","#6a5acd","#9083e0","#673ab7","#19be6b","#1e9652"]}},mounted:function(){this.pie=this.$refs.pie,this.chartip=this.$refs.chartip,this.setViewBox(),this.setPieWidth(),window.addEventListener("resize",this.setPieWidth.bind(this))},methods:ek({setPieWidth:function(){var e=parseInt(window.getComputedStyle(this.pie).width,10);e&&(this.pieWidth=e)},setViewBox:function(){this.viewWidth=2*this.cx,this.viewHeight=this.viewWidth+this.paddingTop},getColor:function(e){var t=this.yAxis.indexOf(e);return this.colors[t%this.colors.length]}},w("mousemove",(function(e,t){this.selectedData=e;var r=this.paddingTop,a=this.pieWidth;this.chartip.show(t,r,a)})),{},w("mouseleave",(function(){this.chartip.hidden()})),{},w("mousemoveLabel",(function(e){var t=this.list[e],r=this.$refs[t.axis][0].style;r["opacity"]=.85})),{},w("mouseleaveLabel",(function(e){var t=this.list[e],r=this.$refs[t.axis][0].style;r["opacity"]=1}))),computed:{cx:function(){var e=this.radius+this.pieStrokeWidth/2;return e},cy:function(){var e=this.cx+this.paddingTop;return e},dashbase:function(){return 2*Math.PI*this.radius},list:function(){var e=this.yAxis,t=this.data,r=[],a=0,n=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value,u=t[l]||0;a+=u}}catch(O){o=!0,i=O}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}if(!a)return r;for(var p=0;p<e.length;p++){var d=e[p],f={axis:d},h=t[d]||0;f.value=h,f.occupy=h/a*this.dashbase;for(var v=0,b=0;b<p;b++)v+=r[b].occupy;f.offset=v,f.color=this.getColor(d),r.push(f)}for(var y=0,g=r;y<g.length;y++){var m=g[y];m.occupy-=1,m.occupy<0&&(m.occupy=0)}return r}}},rk=tk,ak=(r("514e"),Object(u["a"])(rk,QP,ZP,!1,null,"f3b61254",null)),nk=ak.exports,ok=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"pie",staticClass:"pie"},[r("div",{ref:"desc",staticClass:"desc",style:e.descStyle},[e._t("title",[r("div",{staticClass:"desc-title"},[e._v(e._s(e.title))])]),r("div",{staticClass:"desc-percentage"},[e._v(e._s(e.percentage)+"%")])],2),e.viewWidth?r("svg",{attrs:{width:e.viewWidth,height:e.viewHeight,viewBox:"0, 0, "+e.viewWidth+", "+e.viewHeight}},[r("circle",{attrs:{transform:"translate("+e.cx+","+e.cy+")rotate("+e.bgRotate+")",r:e.radius,fill:"none",stroke:"#ebedf1","stroke-width":e.pieStrokeWidth,"stroke-dasharray":e.bgOccupy+" "+e.dashbase}}),r("g",{attrs:{transform:"translate("+e.cx+","+e.cy+")rotate("+e.needleRotate+")"}},[r("circle",{attrs:{r:"4",fill:"none",stroke:e.needleColor,"stroke-width":"3"}}),r("path",{staticClass:"needle-body",attrs:{d:"M3.5,4 H-3.5 L-0.5,"+(e.cx-e.pieStrokeWidth-5)+" L0.5,"+(e.cx-e.pieStrokeWidth-5)+" Z",fill:e.needleColor}})]),r("circle",{attrs:{transform:"translate("+e.cx+","+e.cy+")rotate("+e.bgRotate+")",r:e.radius,fill:"none",stroke:e.contentColor,"stroke-width":e.pieStrokeWidth,"stroke-dasharray":e.contentOccupy+" "+e.dashbase}})]):e._e()])},ik=[],sk={props:{title:String,percentage:Number},mounted:function(){this.pie=this.$refs.pie,this.desc=this.$refs.desc,this.setViewBox(),this.setPieWidth(),window.addEventListener("resize",this.setPieWidth.bind(this))},data:function(){return{pie:void 0,viewWidth:0,viewHeight:0,paddingLeft:0,paddingRight:0,paddingTop:17,paddingBottom:0,pieStrokeWidth:11,radius:91,bgPercentage:.725,pieWidth:0,descWidth:0,needleColor:"#2376b7"}},methods:{setViewBox:function(){this.viewWidth=2*this.cx,this.viewHeight=this.viewWidth+this.paddingTop},setPieWidth:function(){var e=parseInt(window.getComputedStyle(this.pie).width,10),t=parseInt(window.getComputedStyle(this.desc).width,10);e&&(this.pieWidth=e),t&&(this.descWidth=t)},getColor:function(e){var t="";return t=e<=60?"#2a9446":e<=85?"#f89501":"#e33900",t}},computed:{cx:function(){var e=this.radius+this.pieStrokeWidth/2;return e},cy:function(){var e=this.cx+this.paddingTop;return e},dashbase:function(){return 2*Math.PI*this.radius},bgOccupy:function(){return 2*Math.PI*this.radius*this.bgPercentage},bgRotate:function(){var e=360*(this.dashbase-this.bgOccupy)/this.dashbase;return 90+e/2},contentOccupy:function(){return this.bgOccupy*this.percentage/100},contentColor:function(){return this.getColor(this.percentage)},descStyle:function(){var e=this.pieWidth,t=this.descWidth,r="";return e&&t&&(r+="left: "+(e-t)/2+"px;",r+="top: "+(this.cy+30)+"px;"),r},needleRotate:function(){var e=this.percentage,t=360*(this.dashbase-this.bgOccupy)/this.dashbase,r=360-t,a=t/2;return j(e)?(a+=e/100*r,a):a}}},ck=sk,lk=(r("11cd"),Object(u["a"])(ck,ok,ik,!1,null,"4fa16714",null)),uk=lk.exports,pk=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"content"},[r("transition",{attrs:{name:"slide-rightward"}},[r("svg",{directives:[{name:"show",rawName:"v-show",value:e.display,expression:"display"}],attrs:{width:"100%",height:e.viewHeight,viewBox:"0, 0, "+e.viewWidth+", "+e.viewHeight}},[r("g",[r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.viewHeight-e.paddingBottom,x2:e.viewWidth-e.paddingRight,y2:e.viewHeight-e.paddingBottom}}),r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.paddingTop,x2:e.paddingLeft,y2:e.viewHeight-e.paddingBottom}}),r("g",e._l(e.xAxisScale,(function(t,a){return r("rect",{key:a,staticClass:"bg-rect",attrs:{width:0===a?0:.5*e.xGridFullWidth,height:e.viewHeight-e.paddingTop-e.paddingBottom,x:e.getXGridBgInterval(a),y:e.paddingTop}})})),0),e._l(e.yAxisScale,(function(t,a){return r("g",{key:a},[r("text",{staticClass:"axisScale",staticStyle:{"text-anchor":"end"},attrs:{x:e.paddingLeft,y:e.paddingTop+(e.viewHeight-e.paddingTop-e.paddingBottom)/e.yAxisScaleCountInner*a,dx:"-0.5em",dy:"0.32em"}},[e._v(e._s(t))]),r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.paddingTop+(e.viewHeight-e.paddingTop-e.paddingBottom)/e.yAxisScaleCountInner*a,x2:e.viewWidth-e.paddingRight,y2:e.paddingTop+(e.viewHeight-e.paddingTop-e.paddingBottom)/e.yAxisScaleCountInner*a}})])}))],2),r("g",e._l(e.xAxisScale,(function(t,a){return r("text",{key:a,staticClass:"axisScale",staticStyle:{"text-anchor":"middle"},attrs:{x:e.paddingLeft+(e.viewWidth-e.paddingLeft-e.paddingRight)/e.xAxisScaleCountInner*a,y:e.viewHeight-e.paddingBottom,dy:"1.4em"}},[e._v(e._s(t))])})),0),r("g",[r("text",{staticClass:"axisUnit",attrs:{x:e.viewWidth-e.paddingRight,y:e.viewHeight-e.paddingBottom,dx:e.xAxisUnit[1],dy:"-0.7em"}},[e._v(e._s(e.fields[0])+"/"+e._s(e.xAxisUnit[0]))]),r("text",{staticClass:"axisUnit",attrs:{x:e.paddingLeft,y:e.paddingTop,dx:e.yAxisUnit[1],dy:"-0.7em"}},[e._v(e._s(e.fields[1])+"/"+e._s(e.yAxisUnit[0]))])]),e._l(e.data,(function(t,a){return r("g",{key:a},[r("circle",{class:"circle "+(t.selected?"selected":""),attrs:{cx:e.getCx(t),cy:e.getCy(t),r:(t.selected,6),stroke:t.color,fill:t.color},on:{click:function(t){return e.select(a)},mouseover:function(r){return e.mouseover(t,r)},mousemove:function(r){return e.mousemove(t,r)},mouseout:function(t){return e.mouseout()}}})])}))],2)]),r("x-tooltip",{ref:"tooltip"},[r("template",{slot:"header"},[e._t("header",null,{proc:e.selectedProc})],2),r("template",{slot:"content"},[e._t("content",null,{proc:e.selectedProc,fields:[e.fields[1],e.fields[0]],unit:[e.yAxisUnit[0],e.xAxisUnit[0]]})],2)],2)],1)},dk=[],fk={props:{fields:Array,data:Array,xAxisUnit:Array,yAxisUnit:Array,xAxisScaleCount:Number,yAxisScaleCount:Number,display:Boolean},data:function(){return{defaultXAxisScaleCount:6,defaultYAxisScaleCount:5,viewWidth:500,viewHeight:400,paddingLeft:30,paddingRight:20,paddingTop:20,paddingBottom:20,selectedProc:{}}},mounted:function(){this.tooltip=this.$refs.tooltip,this.content=this.$refs.content,this.setViewBox(),window.addEventListener("resize",this.setViewBox.bind(this))},methods:{setViewBox:function(){var e=parseInt(window.getComputedStyle(this.content).width,10);e&&(this.viewWidth=e,this.viewHeight=e/5*4)},getScale:function(e,t){var r=this;if(Array.isArray(this.data)&&Array.isArray(this.fields)){var a=this.data.map((function(t){return t[r.fields[e]]}));a.sort((function(e,t){return e<t?1:-1}));for(var n=Math.ceil(a[0]),o=n/t,i=[],s=0;s<=t;s++)i.push(Math.round(n-o*s));return i}},getCx:function(e){var t=e[this.fields[0]],r=this.xAxisScale[this.xAxisScale.length-1],a=r?t/r*(this.viewWidth-this.paddingLeft-this.paddingRight):0,n=this.paddingLeft+a;return n},getCy:function(e){var t=e[this.fields[1]],r=this.yAxisScale[0],a=r?t/r*(this.viewHeight-this.paddingTop-this.paddingBottom):0,n=this.viewHeight-this.paddingBottom-a;return n},getXGridBgInterval:function(e){return this.paddingLeft-.75*this.xGridFullWidth+this.xGridFullWidth*e},select:function(e){this.$emit("select",e)},mouseover:function(e,t){this.selectedProc=e,this.tooltip.showToolTip(2*this.viewWidth,t)},mousemove:function(e,t){this.selectedProc=e,this.tooltip.showToolTip(2*this.viewWidth,t)},mouseout:function(){this.tooltip.removeToolTip()}},computed:{xAxisScaleCountInner:function(){return this.xAxisScaleCount||this.defaultXAxisScaleCount},yAxisScaleCountInner:function(){return this.yAxisScaleCount||this.defaultYAxisScaleCount},xAxisScale:function(){var e=this.getScale(0,this.xAxisScaleCountInner);return e.reverse(),e},yAxisScale:function(){return this.getScale(1,this.yAxisScaleCountInner)},xGridFullWidth:function(){return(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner}}},hk=fk,vk=(r("a351"),Object(u["a"])(hk,pk,dk,!1,null,"2f74bb02",null)),bk=vk.exports,yk=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"mini-scatter"},[e.viewWidth?r("svg",{attrs:{width:"100%",height:e.viewHeight,viewBox:"0, 0, "+e.viewWidth+", "+e.viewHeight}},[r("g",[r("line",{staticClass:"axis mini-scatter-axis",attrs:{x1:e.paddingLeft,y1:e.viewHeight-e.paddingBottom,x2:e.viewWidth-e.paddingRight,y2:e.viewHeight-e.paddingBottom}}),r("line",{staticClass:"axis mini-scatter-axis",attrs:{x1:e.paddingLeft,y1:e.paddingTop,x2:e.paddingLeft,y2:e.viewHeight-e.paddingBottom}})]),e._l(e.xAxisScale,(function(t,a){return r("g",{key:a+"_"+t.label},[r("text",{staticClass:"axisScale",attrs:{"text-anchor":"middle",x:e.getXAxisLabel(a),y:e.viewHeight-e.paddingBottom,dy:"1.4em"}},[e._v(e._s(t.label))]),r("line",{staticClass:"axis mini-scatter-axis",attrs:{x1:e.getXAxisLabel(a),y1:e.paddingTop,x2:e.getXAxisLabel(a),y2:e.viewHeight-e.paddingBottom}})])})),e._l(e.data,(function(t,a){return r("g",{key:a},[r("circle",{attrs:{cx:e.getCx(t),cy:e.paddingTop-14,r:4.3,opacity:.3,fill:e.dotColor}})])}))],2):e._e()])},gk=[],mk={props:{xAxisScaleCount:Number,data:Array,dotColor:String},data:function(){return{defaultXAxisScaleCount:4,viewWidth:0,viewHeight:45,paddingLeft:16,paddingRight:16,paddingTop:20,paddingBottom:20}},mounted:function(){this.scatter=this.$refs["mini-scatter"],this.setViewBox(),window.addEventListener("resize",this.setViewBox.bind(this))},methods:{setViewBox:function(){var e=parseInt(window.getComputedStyle(this.scatter).width,10);e&&(this.viewWidth=e)},getScale:function(e){var t=this.data[0],r=this.data[0],a=!0,n=!1,o=void 0;try{for(var i,s=this.data[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;c>r&&(r=c),c<t&&(t=c)}}catch(k){n=!0,o=k}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}for(var l=(r-t)/e,u=[],p=0;p<=e;p++){var d=r-l*p;u.push({label:l<=.5?Number(d.toFixed(2)):Math.round(d),value:d})}if(r<=0||t>=0)return u;for(var f=void 0,h=void 0,v=0;v<u.length;v++){var b=u[v].value,y=Math.abs(b);(void 0===f||y<f)&&(f=b,h=v)}var g=[];if(void 0!==h&&0!==f){0===h&&h++,h===u.length-1&&h--;var m=Math.ceil(r/h),O=Math.ceil(t/(h-(u.length-1))),w=Math.max(m,O);g[h]={label:0,value:0};for(var j=h-1;j>=0;j--){var _=0+w*(h-j);g[j]={label:_,value:_}}for(var x=h+1;x<u.length;x++){var P=0-w*(x-h);g[x]={label:P,value:P}}}else g=u;return g},getXAxisLabel:function(e){return this.paddingLeft+(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner*e},getCx:function(e){var t=this.xAxisScale[this.xAxisScale.length-1].value,r=this.xAxisScale[0].value,a=t?(e-r)/(t-r)*(this.viewWidth-this.paddingLeft-this.paddingRight):0,n=this.paddingLeft+a;return n}},computed:{xAxisScaleCountInner:function(){return this.xAxisScaleCount||this.defaultXAxisScaleCount},xAxisScale:function(){var e=this.getScale(this.xAxisScaleCountInner);return e.reverse(),e}}},Ok=mk,wk=(r("f0d3"),Object(u["a"])(Ok,yk,gk,!1,null,"73743f38",null)),jk=wk.exports,_k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"space-scatter"},[r("x-chartip",{ref:"chartip",attrs:{"no-arrow":""}},[r("div",{staticClass:"chartip-header",style:"background-color: "+e.chartipData.color+";color: white",attrs:{slot:"header"},slot:"header"},[r("div",[e._v(e._s(e.chartipTitle))])]),r("div",{staticClass:"chartip-content",attrs:{slot:"content"},slot:"content"},[r("div",{staticStyle:{"margin-top":"2px"}},[e.chartipData.showAll?r("div",e._l(e.chartipData.spaces,(function(t,a){return r("div",{key:a,staticClass:"chartip-content-group"},[r("div",{staticClass:"chartip-label",style:"margin-top: 2px;background-color: "+e.chartipData.colors[a]}),r("div",{staticClass:"chartip-key"},[e._v(e._s(t)+":")])])})),0):r("div",[r("div",{staticClass:"chartip-key"},[e._v("堆内存空间名称:")]),r("div",{staticClass:"chartip-key"},[e._v("堆内存大小变化:")])])]),r("div",{staticStyle:{margin:"2px 0 0 23px"}},[e.chartipData.showAll?r("div",e._l(e.chartipData.sizes,(function(t,a){return r("div",{key:a,staticClass:"chartip-value"},[e._v(e._s(t)+"MB")])})),0):r("div",[r("div",{staticClass:"chartip-value"},[e._v("@"+e._s(e.chartipData.axis))]),r("div",{staticClass:"chartip-value"},[e._v(e._s(e.chartipData.positive)+e._s(e.chartipData.change)+"MB")])])])])]),e.viewWidth?r("svg",{attrs:{width:"100%",height:e.viewHeight,viewBox:"0, 0, "+e.viewWidth+", "+e.viewHeight}},[r("g",[r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.viewHeight-e.paddingBottom,x2:e.viewWidth-e.paddingRight,y2:e.viewHeight-e.paddingBottom}}),r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.paddingTop,x2:e.paddingLeft,y2:e.viewHeight-e.paddingBottom}}),r("g",e._l(e.xAxisScale,(function(t,a){return r("g",{key:a},[r("rect",{staticClass:"bg-rect",attrs:{width:0===a?0:.5*e.xGridFullWidth,height:e.viewHeight-e.paddingTop-e.paddingBottom,x:e.getXGridBgInterval(a),y:e.paddingTop}}),r("text",{staticClass:"axisScale",attrs:{"text-anchor":"middle",x:e.getXAxisLabel(a),y:e.viewHeight-e.paddingBottom,dy:"1.5em"}},[e._v(e._s(e.formatXLabel(t.value)))])])})),0),r("g",e._l(e.yAxis,(function(t,a){return r("g",{key:a},[r("text",{staticClass:"axisScale",staticStyle:{"text-anchor":"end"},attrs:{x:e.paddingLeft,y:e.getYAxisLabel(a),dx:"-0.5em",dy:"0.32em"}},[e._v(e._s(t.label))]),a!==e.yAxis.length-1?r("line",{staticClass:"axis",attrs:{x1:e.paddingLeft,y1:e.getYAxisLabel(a),x2:e.viewWidth-e.paddingRight,y2:e.getYAxisLabel(a)}}):e._e()])})),0),r("g",[r("text",{staticClass:"axisUnit",attrs:{x:e.paddingLeft,y:e.paddingTop,dy:"-0.5em"}},[e._v(e._s(e.upperCaseLabel(e.yAxisUnit)))])])]),e._l(e.data,(function(t,a){return r("g",{key:a},e._l(e.yAxis,(function(n,o){return r("g",{key:o},[r("circle",{ref:e.circleLabel+"-"+t.index+"-"+n.value,refInFor:!0,staticClass:"circle",attrs:{cx:e.getCx(t),cy:e.getYAxisLabel(o),r:e.getRadius(t,n),opacity:e.circleOpacity,fill:e.getColor(t,n),stroke:e.getColor(t,n)},on:{mousemove:function(r){return r.stopPropagation(),e.mousemove(t,n,a,r)},mouseleave:e.mouseleave,click:function(r){return e.fixIntersection(t,n,a,r)}}})])})),0)}))],2):e._e(),e.data.length?r("div",{staticClass:"chart-label"},e._l(e.types,(function(t,a){return r("div",{key:a,ref:e.labelKey+t.type,refInFor:!0,staticClass:"chart-label-group",style:0!==a?"margin-left: 25px;":"",on:{mouseenter:function(r){return e.mouseoverLabel(t)},mouseleave:function(r){return e.mouseleaveLabel(t)},click:function(r){return e.choseLabel(t)}}},[r("div",{staticClass:"label-icon",style:"background-color: "+e.getColor(t)}),r("div",{staticClass:"label-value"},[e._v(e._s(t.label))])])})),0):e._e()],1)},xk=[];function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function kk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pk(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dk={created:function(){for(var e=this,t=function(t){var r=e.yAxis.map((function(e){return"all_spaces"!==e.value&&e.value})).filter((function(e){return e})),a=e.data[t];r.sort((function(e,t){return a[e]<a[t]?1:-1}));var n=r.map((function(e){return"".concat(a["".concat(e,"_positive")]||0===a[e]?"+":"-").concat(Number(a[e].toFixed(2)))})),o=r.map((function(e){return a["".concat(e,"_positive")]?"#c45a65":"#2a9446"}));e.xValueMap[a[e.xAxis]]=Object.assign({index:t,showAll:!0,spaces:r,sizes:n,colors:o,color:e.getColor(a,{value:"all_spaces"})},a)},r=0;r<this.data.length;r++)t(r);var a=this.validDataMap,n=!0,o=!1,i=void 0;try{for(var s,c=this.data[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value,u=!0,p=!1,d=void 0;try{for(var f,h=this.yAxis[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value.value;l[v]&&(a[v]?a[v]++:a[v]=1)}}catch(b){p=!0,d=b}finally{try{u||null==h.return||h.return()}finally{if(p)throw d}}}}catch(b){o=!0,i=b}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}},mounted:function(){this.scatter=this.$refs["space-scatter"],this.chartip=this.$refs.chartip,this.setViewBox(),window.addEventListener("resize",this.setViewBox.bind(this))},methods:kk({setViewBox:function(){var e=parseInt(window.getComputedStyle(this.scatter).width,10);e&&(this.viewWidth=e)},formatChartipTime:function(e){return D(e,!1,!0,0)},formatXLabel:function(e){return Math.round(e)},upperCaseLabel:function(e){return e.toUpperCase()},getXGridBgInterval:function(e){return this.paddingLeft-.75*this.xGridFullWidth+this.xGridFullWidth*e},getYAxisLabel:function(e){return this.paddingTop+(this.viewHeight-this.paddingTop-this.paddingBottom)/this.yAxisScaleCountInner*(this.yAxisScaleCountInner-e-.5)},getXAxisLabel:function(e){return this.paddingLeft+(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner*e},getScale:function(e,t,r){var a=this,n=this.data;if(!Array.isArray(n))return[];r&&(n=n.filter((function(e){return a.needShow(e,r)})));var o=t===this.yAxis&&this.yAxisZero;if(Array.isArray(t)){var i=[],s=!0,c=!1,l=void 0;try{for(var u,p=function(){var e=u.value;i=i.concat(n.map((function(t){return t[e]})))},d=t[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)p()}catch(P){c=!0,l=P}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}n=i}else n=n.map((function(e){return e[t]}));var f=o?0:n[0],h=n[0],v=!0,b=!1,y=void 0;try{for(var g,m=n[Symbol.iterator]();!(v=(g=m.next()).done);v=!0){var O=g.value;O>h&&(h=O),O<f&&!o&&(f=O)}}catch(P){b=!0,y=P}finally{try{v||null==m.return||m.return()}finally{if(b)throw y}}for(var w=(h-f)/e,j=[],_=0;_<=e;_++){var x=h-w*_;j.push({label:w<=.5?Number(x.toFixed(2)):Math.round(x),value:x})}return j},getCx:function(e){var t=e.index,r=this.xAxisScale[this.xAxisScale.length-1].value,a=this.xAxisScale[0].value,n=r?(t-a)/(r-a)*(this.viewWidth-this.paddingLeft-this.paddingRight):0,o=this.paddingLeft+n;return o},needShow:function(e,t){if(!this.filterType)return!0;var r=e["".concat(t,"_positive")];return!("increment"!==this.filterType||!r)||"reduce"===this.filterType&&!r},needShowRadius:function(e,t){var r=100,a=this.validDataMap[t];if(a>r){var n=Math.round(a/r);return e%n===1}return!0},getRadius:function(e,t){var r=t.value,a=e[r];if(!a||!this.needShow(e,r))return 0;var n=16,o=4,i=this.spacesInfo["total"],s=a/i*n;return s=s>n?n:s,s=s<o?this.needShowRadius(e.index,r)?o:0:s,s},getColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.value,a=e["".concat(r,"_positive")];return a||"increment"===e.type?"#c45a65":"#adbcc9"},singleton:function(e){var t=e.type;this.filterType=t;var r=this.$refs[this.labelKey+t][0].style;r["transform"]="scale(1.2)"},restore:function(e){var t=e.type;this.filterType=void 0;var r=this.$refs[this.labelKey+t][0].style;r["transform"]="scale(1)"}},w("mouseoverLabel",(function(e){this.single||this.singleton(e)})),{},w("mouseleaveLabel",(function(e){this.single||this.restore(e)})),{choseLabel:function(e){var t=e.type,r=!0,a=!1,n=void 0;try{for(var o,i=this.types[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;this.restore(s)}}catch(c){a=!0,n=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}t!==this.single&&(this.single=void 0),this.single?(this.restore({type:t}),this.single=void 0):(this.singleton({type:t}),this.single=t)},setCircleStyle:function(e,t,r,a,n){if(n=n||e.axis,n){var o;o=Array.isArray(n)?n:[n];var i=!0,s=!1,c=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var p=l.value,d=this.$refs["".concat(this.circleLabel,"-").concat(e.index,"-").concat(p)];if(d&&d[0]){var f=d[0].style;f["stroke-opacity"]=t,f["stroke-width"]=r,f["opacity"]=a}}}catch(h){s=!0,c=h}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}}}},w("mousemove",(function(e,t,r,a){if(!this.intersectionFixed){var n=a.offsetX,o=a.offsetY,i=this.paddingLeft,s=this.viewWidth-this.paddingRight,c=this.paddingTop,l=this.viewHeight-this.paddingBottom;if(!(n<i||n>s))if(o<c||o>l)this.mouseleave();else{this.setCircleStyle(this.chartipData,1,0,this.circleOpacity),this.setCircleStyle(e,.5,"13px",1,t.value),this.chartipData=Object.assign({index:r,axis:t.value,change:Number(e[t.value].toFixed(2)),positive:e["".concat(t.value,"_positive")]?"+":"-",color:this.getColor(e,t)},e);var u={offsetX:n,offsetY:o};this.chartip.show(u,c,s,this.paddingRight),this.$emit("linkage",{time:e[this.xAxis],mouse:u})}}})),{},w("mouseleave",(function(){this.intersectionFixed||(this.chartip.hidden(),this.$emit("hidden"),this.setCircleStyle(this.chartipData,1,0,this.circleOpacity))})),{fixIntersection:function(e,t,r,a){this.intersectionFixed=!this.intersectionFixed,this.$emit("broadcast",{intersectionFixed:this.intersectionFixed}),this.intersectionFixed||this.mousemove(e,t,r,a)},handleBroadcase:function(e){var t=e.intersectionFixed;this.intersectionFixed=t}},w("showTip",(function(e){var t=e.time,r=e.mouse,a=this.viewWidth-this.paddingRight,n=this.paddingTop,o=this.xValueMap[t],i=this.yAxis.map((function(e){return e.value}));this.setCircleStyle(this.chartipData,1,0,this.circleOpacity,i),this.setCircleStyle(o,.5,"13px",1,i),this.chartipData=o;var s=r.offsetX,c=r.offsetY;this.chartip.show({offsetX:s+45,offsetY:c},n,a,this.paddingRight)})),{},w("hiddenTip",(function(){this.chartip.hidden();var e=this.yAxis.map((function(e){return e.value}));this.setCircleStyle(this.chartipData,1,0,this.circleOpacity,e)}))),computed:{xAxisScaleCountInner:function(){return this.xAxisScaleCount||this.defaultXAxisScaleCount},yAxisScaleCountInner:function(){return this.yAxis.length},xGridFullWidth:function(){return(this.viewWidth-this.paddingLeft-this.paddingRight)/this.xAxisScaleCountInner},xAxisScale:function(){var e=this.getScale(this.xAxisScaleCountInner,this.xAxis);return e.reverse(),e},spacesInfo:function(){var e={total:0},t=!0,r=!1,a=void 0;try{for(var n,o=this.data[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value,s=!0,c=!1,l=void 0;try{for(var u,p=this.yAxis[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var d=u.value.value;void 0!==e[d]?e[d]<i[d]&&(e[d]=i[d]):e[d]=i[d],e.total<i[d]&&(e.total=i[d])}}catch(f){c=!0,l=f}finally{try{s||null==p.return||p.return()}finally{if(c)throw l}}}}catch(f){r=!0,a=f}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return e},types:function(){return[{type:"reduce",label:"GC 后空间大小减少"},{type:"increment",label:"GC 后空间大小增加"}]},chartipTitle:function(){var e=this.chartipData,t=e.index,r=e.type;return"追踪周期内第 ".concat(t," 次 GC ( ").concat(r," )")}}};function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sk(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ck=Tk({props:{data:Array,xAxisScaleCount:Number,yAxisScaleCount:Number,xAxis:String,yAxis:Array,yAxisUnit:String,yAxisZero:Boolean},data:function(){return{defaultXAxisScaleCount:5,defaultYAxisScaleCount:4,viewWidth:0,viewHeight:250,paddingLeft:116,paddingRight:30,paddingTop:20,paddingBottom:27,labelKey:"label-",filterType:void 0,chartipData:{},xValueMap:{},circleLabel:"scatter-label",intersectionFixed:!1,validDataMap:{},circleOpacity:.5}}},Dk),Ak=Ck,Mk=(r("d45a"),Object(u["a"])(Ak,_k,xk,!1,null,"3da82faa",null)),Ek=Mk.exports;a["default"].use(n["b"]),a["default"].use(o["a"]),a["default"].use(Px.a),a["default"].use(Dx.a),a["default"].component("x-chartip",Ex),a["default"].component("x-dashboard-title",Nx),a["default"].component("x-drawer",Hx),a["default"].component("x-dropdown",Qx),a["default"].component("x-error-message",aP),a["default"].component("x-loading",lP),a["default"].component("x-modal",vP),a["default"].component("x-table",wP),a["default"].component("x-tooltip",DP),a["default"].component("x-area",NP),a["default"].component("x-histogram",KP),a["default"].component("x-pie",nk),a["default"].component("x-pie2",uk),a["default"].component("x-scatter",bk),a["default"].component("x-mini-scatter",jk),a["default"].component("x-space-scatter",Ek);var Ik=new n["b"].Store(Cr),Lk={routes:_x},Rk=new o["a"](Lk);new a["default"]({store:Ik,router:Rk,render:function(e){return e(d)}}).$mount("#app")},"56df":function(e,t,r){},"5e3e":function(e,t,r){},6067:function(e,t,r){"use strict";var a=r("924f"),n=r.n(a);n.a},"60b6":function(e,t,r){},6146:function(e,t,r){"use strict";var a=r("60b6"),n=r.n(a);n.a},"63ef":function(e,t,r){},"64e7":function(e,t,r){"use strict";var a=r("e519"),n=r.n(a);n.a},"64ee":function(e,t,r){},"65f6":function(e,t,r){},6652:function(e,t,r){"use strict";var a=r("a15b"),n=r.n(a);n.a},"6b98":function(e,t,r){},"6f7b":function(e,t,r){},"71d5":function(e,t,r){"use strict";var a=r("c54f"),n=r.n(a);n.a},"71fd":function(e,t,r){},"772f":function(e,t,r){},"7bf3":function(e,t,r){},"7d2d":function(e,t,r){},"7eea":function(e,t,r){},"7fbd":function(e,t,r){"use strict";var a=r("a3e6"),n=r.n(a);n.a},"82b1":function(e,t,r){"use strict";var a=r("65f6"),n=r.n(a);n.a},"858e":function(e,t,r){"use strict";var a=r("1ba1"),n=r.n(a);n.a},"85a8":function(e,t,r){"use strict";var a=r("f801"),n=r.n(a);n.a},"85ec":function(e,t,r){},"896f":function(e,t,r){"use strict";var a=r("1dda"),n=r.n(a);n.a},"919d":function(e,t,r){"use strict";var a=r("cc77"),n=r.n(a);n.a},"924f":function(e,t,r){},92637:function(e,t,r){"use strict";var a=r("a598"),n=r.n(a);n.a},9554:function(e,t,r){},9679:function(e,t,r){"use strict";var a=r("227c"),n=r.n(a);n.a},"968c":function(e,t,r){},"975e":function(e,t,r){},"9ba8":function(e,t,r){"use strict";var a=r("6f7b"),n=r.n(a);n.a},"9da7":function(e,t,r){},a0ae:function(e,t,r){},a0f4:function(e,t,r){"use strict";var a=r("bc4e"),n=r.n(a);n.a},a15b:function(e,t,r){},a2a8:function(e,t,r){},a2ba:function(e,t,r){"use strict";var a=r("63ef"),n=r.n(a);n.a},a350:function(e,t,r){"use strict";var a=r("b6ae"),n=r.n(a);n.a},a351:function(e,t,r){"use strict";var a=r("f06f"),n=r.n(a);n.a},a3e6:function(e,t,r){},a598:function(e,t,r){},a61e:function(e,t,r){},a750:function(e,t,r){"use strict";var a=r("0367"),n=r.n(a);n.a},a778:function(e,t,r){},a7a0:function(e,t,r){"use strict";var a=r("d8e1"),n=r.n(a);n.a},a96a:function(e,t,r){"use strict";var a=r("f873"),n=r.n(a);n.a},aa76:function(e,t,r){},ab6a:function(e,t,r){"use strict";var a=r("71fd"),n=r.n(a);n.a},ab75:function(e,t,r){},ac6e:function(e,t,r){"use strict";var a=r("5e3e"),n=r.n(a);n.a},addb:function(e,t,r){"use strict";var a=r("a778"),n=r.n(a);n.a},af4b:function(e,t,r){"use strict";var a=r("baf6"),n=r.n(a);n.a},b0c4:function(e,t,r){"use strict";var a=r("153f"),n=r.n(a);n.a},b57c:function(e,t,r){},b6ae:function(e,t,r){},b782:function(e,t,r){},baf6:function(e,t,r){},bc4e:function(e,t,r){},bc4f:function(e,t,r){"use strict";var a=r("2082"),n=r.n(a);n.a},bf21:function(e,t,r){},bff7:function(e,t,r){"use strict";var a=r("36c2"),n=r.n(a);n.a},c165:function(e,t,r){"use strict";var a=r("7bf3"),n=r.n(a);n.a},c1b5:function(e,t,r){"use strict";var a=r("dafd"),n=r.n(a);n.a},c54f:function(e,t,r){},c755:function(e,t,r){"use strict";var a=r("cf97"),n=r.n(a);n.a},c95c:function(e,t,r){"use strict";var a=r("3bf0"),n=r.n(a);n.a},cc77:function(e,t,r){},cf70:function(e,t,r){"use strict";var a=r("ee6c"),n=r.n(a);n.a},cf97:function(e,t,r){},cfa7:function(e,t,r){"use strict";var a=r("e0a4"),n=r.n(a);n.a},cfbd:function(e,t,r){},d215:function(e,t,r){"use strict";var a=r("cfbd"),n=r.n(a);n.a},d45a:function(e,t,r){"use strict";var a=r("fe54"),n=r.n(a);n.a},d617:function(e,t,r){"use strict";var a=r("aa76"),n=r.n(a);n.a},d8e1:function(e,t,r){},d904:function(e,t,r){},d9c6:function(e,t,r){},dafd:function(e,t,r){},dd11:function(e,t,r){"use strict";var a=r("056f"),n=r.n(a);n.a},dd4c:function(e,t,r){"use strict";var a=r("b782"),n=r.n(a);n.a},de46:function(e,t,r){},df31:function(e,t,r){},e0a4:function(e,t,r){},e178:function(e,t,r){},e236:function(e,t,r){},e423:function(e,t,r){"use strict";var a=r("25a9"),n=r.n(a);n.a},e519:function(e,t,r){},ea20:function(e,t,r){},eb46:function(e,t,r){"use strict";var a=r("ab75"),n=r.n(a);n.a},ebc1:function(e,t,r){},ec97:function(e,t,r){},ed21:function(e,t,r){"use strict";var a=r("5567"),n=r.n(a);n.a},edba:function(e,t,r){},ee6c:function(e,t,r){},f06f:function(e,t,r){},f0d3:function(e,t,r){"use strict";var a=r("3d7a"),n=r.n(a);n.a},f18c:function(e,t,r){"use strict";var a=r("df31"),n=r.n(a);n.a},f1ee:function(e,t,r){"use strict";var a=r("324b"),n=r.n(a);n.a},f342:function(e,t,r){"use strict";var a=r("a2a8"),n=r.n(a);n.a},f69a:function(e,t,r){"use strict";var a=r("d904"),n=r.n(a);n.a},f801:function(e,t,r){},f873:function(e,t,r){},f893:function(e,t,r){"use strict";var a=r("1a0c"),n=r.n(a);n.a},fa60:function(e,t,r){"use strict";var a=r("1e10"),n=r.n(a);n.a},fba0:function(e,t,r){"use strict";var a=r("3c08"),n=r.n(a);n.a},fca7:function(e,t,r){"use strict";var a=r("09a8"),n=r.n(a);n.a},fe54:function(e,t,r){},ff4a:function(e,t,r){"use strict";var a=r("975e"),n=r.n(a);n.a}});